(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function P0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wf={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function jS(){if(Y_)return Dl;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var Q_;function BS(){return Q_||(Q_=1,Wf.exports=jS()),Wf.exports}var E=BS(),Xf={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function HS(){if(W_)return Ve;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function U(O,ne,ce){this.props=O,this.context=ne,this.refs=P,this.updater=ce||k}U.prototype.isReactComponent={},U.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function se(O,ne,ce){this.props=O,this.context=ne,this.refs=P,this.updater=ce||k}var X=se.prototype=new Q;X.constructor=se,H(X,U.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function I(O,ne,ce,ae,ye,Oe){return ce=Oe.ref,{$$typeof:r,type:O,key:ne,ref:ce!==void 0?ce:null,props:Oe}}function A(O,ne){return I(O.type,ne,void 0,void 0,void 0,O.props)}function w(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return ne[ce]})}var M=/\/+/g;function L(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):ne.toString(36)}function D(){}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function we(O,ne,ce,ae,ye){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(Oe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case r:case e:Te=!0;break;case T:return Te=O._init,we(Te(O._payload),ne,ce,ae,ye)}}if(Te)return ye=ye(O),Te=ae===""?"."+L(O,0):ae,oe(ye)?(ce="",Te!=null&&(ce=Te.replace(M,"$&/")+"/"),we(ye,ne,ce,"",function(ht){return ht})):ye!=null&&(w(ye)&&(ye=A(ye,ce+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(M,"$&/")+"/")+Te)),ne.push(ye)),1;Te=0;var _t=ae===""?".":ae+":";if(oe(O))for(var be=0;be<O.length;be++)ae=O[be],Oe=_t+L(ae,be),Te+=we(ae,ne,ce,Oe,ye);else if(be=R(O),typeof be=="function")for(O=be.call(O),be=0;!(ae=O.next()).done;)ae=ae.value,Oe=_t+L(ae,be++),Te+=we(ae,ne,ce,Oe,ye);else if(Oe==="object"){if(typeof O.then=="function")return we(De(O),ne,ce,ae,ye);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Te}function G(O,ne,ce){if(O==null)return O;var ae=[],ye=0;return we(O,ae,"","",function(Oe){return ne.call(ce,Oe,ye++)}),ae}function le(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ge(){}return Ve.Children={map:G,forEach:function(O,ne,ce){G(O,function(){ne.apply(this,arguments)},ce)},count:function(O){var ne=0;return G(O,function(){ne++}),ne},toArray:function(O){return G(O,function(ne){return ne})||[]},only:function(O){if(!w(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ve.Component=U,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=se,Ve.StrictMode=a,Ve.Suspense=y,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Ve.cache=function(O){return function(){return O.apply(null,arguments)}},Ve.cloneElement=function(O,ne,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=H({},O.props),ye=O.key,Oe=void 0;if(ne!=null)for(Te in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!fe.call(ne,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ne.ref===void 0||(ae[Te]=ne[Te]);var Te=arguments.length-2;if(Te===1)ae.children=ce;else if(1<Te){for(var _t=Array(Te),be=0;be<Te;be++)_t[be]=arguments[be+2];ae.children=_t}return I(O.type,ye,void 0,void 0,Oe,ae)},Ve.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ve.createElement=function(O,ne,ce){var ae,ye={},Oe=null;if(ne!=null)for(ae in ne.key!==void 0&&(Oe=""+ne.key),ne)fe.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=ne[ae]);var Te=arguments.length-2;if(Te===1)ye.children=ce;else if(1<Te){for(var _t=Array(Te),be=0;be<Te;be++)_t[be]=arguments[be+2];ye.children=_t}if(O&&O.defaultProps)for(ae in Te=O.defaultProps,Te)ye[ae]===void 0&&(ye[ae]=Te[ae]);return I(O,Oe,void 0,void 0,null,ye)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:p,render:O}},Ve.isValidElement=w,Ve.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:le}},Ve.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Ve.startTransition=function(O){var ne=ue.T,ce={};ue.T=ce;try{var ae=O(),ye=ue.S;ye!==null&&ye(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ge,de)}catch(Oe){de(Oe)}finally{ue.T=ne}},Ve.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ve.use=function(O){return ue.H.use(O)},Ve.useActionState=function(O,ne,ce){return ue.H.useActionState(O,ne,ce)},Ve.useCallback=function(O,ne){return ue.H.useCallback(O,ne)},Ve.useContext=function(O){return ue.H.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O,ne){return ue.H.useDeferredValue(O,ne)},Ve.useEffect=function(O,ne,ce){var ae=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(O,ne)},Ve.useId=function(){return ue.H.useId()},Ve.useImperativeHandle=function(O,ne,ce){return ue.H.useImperativeHandle(O,ne,ce)},Ve.useInsertionEffect=function(O,ne){return ue.H.useInsertionEffect(O,ne)},Ve.useLayoutEffect=function(O,ne){return ue.H.useLayoutEffect(O,ne)},Ve.useMemo=function(O,ne){return ue.H.useMemo(O,ne)},Ve.useOptimistic=function(O,ne){return ue.H.useOptimistic(O,ne)},Ve.useReducer=function(O,ne,ce){return ue.H.useReducer(O,ne,ce)},Ve.useRef=function(O){return ue.H.useRef(O)},Ve.useState=function(O){return ue.H.useState(O)},Ve.useSyncExternalStore=function(O,ne,ce){return ue.H.useSyncExternalStore(O,ne,ce)},Ve.useTransition=function(){return ue.H.useTransition()},Ve.version="19.1.0",Ve}var X_;function Hp(){return X_||(X_=1,Xf.exports=HS()),Xf.exports}var B=Hp();const qS=P0(B);var $f={exports:{}},kl={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function FS(){return $_||($_=1,function(r){function e(G,le){var de=G.length;G.push(le);e:for(;0<de;){var ge=de-1>>>1,O=G[ge];if(0<o(O,le))G[ge]=le,G[de]=O,de=ge;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var le=G[0],de=G.pop();if(de!==le){G[0]=de;e:for(var ge=0,O=G.length,ne=O>>>1;ge<ne;){var ce=2*(ge+1)-1,ae=G[ce],ye=ce+1,Oe=G[ye];if(0>o(ae,de))ye<O&&0>o(Oe,ae)?(G[ge]=Oe,G[ye]=de,ge=ye):(G[ge]=ae,G[ce]=de,ge=ce);else if(ye<O&&0>o(Oe,de))G[ge]=Oe,G[ye]=de,ge=ye;else break e}}return le}function o(G,le){var de=G.sortIndex-le.sortIndex;return de!==0?de:G.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,x=null,R=3,k=!1,H=!1,P=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe(G){for(var le=n(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=G)a(g),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(g)}}function ue(G){if(P=!1,oe(G),!H)if(n(y)!==null)H=!0,fe||(fe=!0,L());else{var le=n(g);le!==null&&we(ue,le.startTime-G)}}var fe=!1,I=-1,A=5,w=-1;function N(){return U?!0:!(r.unstable_now()-w<A)}function M(){if(U=!1,fe){var G=r.unstable_now();w=G;var le=!0;try{e:{H=!1,P&&(P=!1,se(I),I=-1),k=!0;var de=R;try{t:{for(oe(G),x=n(y);x!==null&&!(x.expirationTime>G&&N());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,R=x.priorityLevel;var O=ge(x.expirationTime<=G);if(G=r.unstable_now(),typeof O=="function"){x.callback=O,oe(G),le=!0;break t}x===n(y)&&a(y),oe(G)}else a(y);x=n(y)}if(x!==null)le=!0;else{var ne=n(g);ne!==null&&we(ue,ne.startTime-G),le=!1}}break e}finally{x=null,R=de,k=!1}le=void 0}}finally{le?L():fe=!1}}}var L;if(typeof X=="function")L=function(){X(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,De=D.port2;D.port1.onmessage=M,L=function(){De.postMessage(null)}}else L=function(){Q(M,0)};function we(G,le){I=Q(function(){G(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var le=3;break;default:le=R}var de=R;R=le;try{return G()}finally{R=de}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=R;R=G;try{return le()}finally{R=de}},r.unstable_scheduleCallback=function(G,le,de){var ge=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ge+de:ge):de=ge,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,G={id:T++,callback:le,priorityLevel:G,startTime:de,expirationTime:O,sortIndex:-1},de>ge?(G.sortIndex=de,e(g,G),n(y)===null&&G===n(g)&&(P?(se(I),I=-1):P=!0,we(ue,de-ge))):(G.sortIndex=O,e(y,G),H||k||(H=!0,fe||(fe=!0,L()))),G},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(G){var le=R;return function(){var de=R;R=le;try{return G.apply(this,arguments)}finally{R=de}}}}(Jf)),Jf}var Z_;function GS(){return Z_||(Z_=1,Zf.exports=FS()),Zf.exports}var ep={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function KS(){if(J_)return rn;J_=1;var r=Hp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,T)},rn.flushSync=function(y){var g=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=g,a.p=T,a.d.f()}},rn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},rn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},rn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,x=p(T,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:R,fetchPriority:k}):T==="script"&&a.d.X(y,{crossOrigin:x,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},rn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,x=p(T,g.crossOrigin);a.d.L(y,T,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},rn.requestFormReset=function(y){a.d.r(y)},rn.unstable_batchedUpdates=function(y,g){return y(g)},rn.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var ev;function YS(){if(ev)return ep.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ep.exports=KS(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function QS(){if(tv)return kl;tv=1;var r=GS(),e=Hp(),n=YS();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===l)return p(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var v=!1,S=h.child;S;){if(S===s){v=!0,s=h,l=f;break}if(S===l){v=!0,l=h,s=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===s){v=!0,s=f,l=h;break}if(S===l){v=!0,l=f,s=h;break}S=S.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case ue:return"Suspense";case fe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case X:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ge=[],O=-1;function ne(t){return{current:t}}function ce(t){0>O||(t.current=ge[O],ge[O]=null,O--)}function ae(t,i){O++,ge[O]=t.current,t.current=i}var ye=ne(null),Oe=ne(null),Te=ne(null),_t=ne(null);function be(t,i){switch(ae(Te,i),ae(Oe,t),ae(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T_(i),t=S_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(ye),ae(ye,t)}function ht(){ce(ye),ce(Oe),ce(Te)}function mt(t){t.memoizedState!==null&&ae(_t,t);var i=ye.current,s=S_(i,t.type);i!==s&&(ae(Oe,t),ae(ye,s))}function En(t){Oe.current===t&&(ce(ye),ce(Oe)),_t.current===t&&(ce(_t),wl._currentValue=de)}var un=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,W=r.unstable_cancelCallback,ee=r.unstable_shouldYield,_e=r.unstable_requestPaint,Me=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,st=r.unstable_ImmediatePriority,Ze=r.unstable_UserBlockingPriority,kn=r.unstable_NormalPriority,bo=r.unstable_LowPriority,ii=r.unstable_IdlePriority,Ao=r.log,du=r.unstable_setDisableYieldValue,vt=null,Je=null;function Tn(t){if(typeof Ao=="function"&&du(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(vt,t)}catch{}}var tn=Math.clz32?Math.clz32:ha,fu=Math.log,Xh=Math.LN2;function ha(t){return t>>>=0,t===0?32:31-(fu(t)/Xh|0)|0}var da=256,fa=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ts(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Kn(l):(v&=S,v!==0?h=Kn(v):s||(s=S&~t,s!==0&&(h=Kn(s))))):(S=l&~f,S!==0?h=Kn(S):v!==0?h=Kn(v):s||(s=l&~t,s!==0&&(h=Kn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function pa(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function wo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=da;return da<<=1,(da&4194048)===0&&(da=256),t}function Ro(){var t=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),t}function ki(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Oi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,i,s,l,h,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,F=t.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-tn(s),te=1<<Z;S[Z]=0,C[Z]=-1;var K=F[Z];if(K!==null)for(F[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}s&=~te}l!==0&&ri(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function ri(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Io(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-tn(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:B_(t.type))}function pu(t,i){var s=le.p;try{return le.p=t,i()}finally{le.p=s}}var dt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+dt,xt="__reactProps$"+dt,On="__reactContainer$"+dt,Do="__reactEvents$"+dt,$h="__reactListeners$"+dt,yr="__reactHandles$"+dt,mu="__reactResources$"+dt,ma="__reactMarker$"+dt;function _r(t){delete t[Nt],delete t[xt],delete t[Do],delete t[$h],delete t[yr]}function Ni(t){var i=t[Nt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[On]||s[Nt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=x_(t);t!==null;){if(s=t[Nt])return s;t=x_(t)}return i}t=s,s=t.parentNode}return null}function ai(t){if(t=t[Nt]||t[On]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function si(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function cn(t){var i=t[mu];return i||(i=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[ma]=!0}var ko=new Set,is={};function Yn(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(is[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},ga={};function _u(t){return un.call(ga,t)?!0:un.call(yu,t)?!1:gu.test(t)?ga[t]=!0:(yu[t]=!0,!1)}function vr(t,i,s){if(_u(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function oi(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Yt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var ya,vu;function Vi(t){if(ya===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ya=i&&i[1]||"",vu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+vu}var rs=!1;function as(t,i){if(!t||rs)return"";rs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){K=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var C=v.split(`
`),F=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===F.length)for(l=C.length-1,h=F.length-1;1<=l&&0<=h&&C[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==F[h]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{rs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Vi(s):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return as(t.type,!1);case 11:return as(t.type.render,!1);case 1:return as(t.type,!0);case 31:return Vi("Activity");default:return""}}function ss(t){try{var i="";do i+=Oo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function No(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(t){var i=No(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function os(t){t._valueTracker||(t._valueTracker=Zh(t))}function Mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=No(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jh=/[\n"\\]/g;function Rt(t){return t.replace(Jh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sn(t,i,s,l,h,f,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+hn(i)):t.value!==""+hn(i)&&(t.value=""+hn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Er(t,v,hn(i)):s!=null?Er(t,v,hn(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+hn(S):t.removeAttribute("name")}function va(t,i,s,l,h,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+hn(s):"",i=i!=null?""+hn(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Er(t,i,s){i==="number"&&_a(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Pi(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+hn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function nt(t,i,s){if(i!=null&&(i=""+hn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+hn(s):""}function Ea(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(we(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=hn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Ta.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Vo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Eu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Eu(t,f,i[f])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(t){return td.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Li=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,zi=null;function Lo(t){var i=ai(t);if(i&&(t=i.stateNode)){var s=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[xt]||null;if(!h)throw Error(a(90));Sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Mo(l)}break e;case"textarea":nt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Pi(t,!!s.multiple,i,!1)}}}var li=!1;function Tu(t,i,s){if(li)return t(i,s);li=!0;try{var l=t(i);return l}finally{if(li=!1,(Ui!==null||zi!==null)&&(pc(),Ui&&(i=Ui,t=zi,zi=Ui=null,Lo(i),t)))for(i=0;i<t.length;i++)Lo(t[i])}}function Sa(t,i){var s=t.stateNode;if(s===null)return null;var l=s[xt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Qn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Vn=!1}var ui=null,Tr=null,ji=null;function Uo(){if(ji)return ji;var t,i=Tr,s=i.length,l,h="value"in ui?ui.value:ui.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[f-l];l++);return ji=h.slice(t,1<l?1-l:void 0)}function ci(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function zo(){return!1}function jt(t){function i(s,l,h,f,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?hi:zo,this.isPropagationStopped=zo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=jt(Xe),Aa=T({},Xe,{view:0,detail:0}),Su=jt(Aa),cs,hs,di,wa=T({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(cs=t.screenX-di.screenX,hs=t.screenY-di.screenY):hs=cs=0,di=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:hs}}),Pn=jt(wa),bu=T({},wa,{dataTransfer:0}),nd=jt(bu),xa=T({},Aa,{relatedTarget:0}),ds=jt(xa),jo=T({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=jt(jo),Au=T({},Xe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ps=jt(Au),id=T({},Xe,{data:0}),Bo=jt(id),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Ca(){return Ho}var Ru=T({},Aa,{key:function(t){if(t.key){var i=Ra[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ms=jt(Ru),Cu=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=jt(Cu),Bi=T({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Iu=jt(Bi),Du=T({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=jt(Du),Ou=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=jt(Ou),dn=T({},Xe,{newState:0,oldState:0}),Nu=jt(dn),Mu=[9,13,27,32],fi=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var m=Qn&&"TextEvent"in window&&!c,_=Qn&&(!fi||c&&8<c&&11>=c),b=" ",j=!1;function $(t,i){switch(t){case"keyup":return Mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Mt(t,i){switch(t){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return t=i.data,t===b&&j?null:t;default:return null}}function Fe(t,i){if(qe)return t==="compositionend"||!fi&&$(t,i)?(t=Uo(),ji=Tr=ui=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Bt[t.type]:i==="textarea"}function Hi(t,i,s,l){Ui?zi?zi.push(l):zi=[l]:Ui=l,i=Ec(i,"onChange"),0<i.length&&(s=new us("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Qt=null,pi=null;function Fo(t){g_(t,0)}function Vu(t){var i=si(t);if(Mo(i))return t}function Lm(t,i){if(t==="change")return i}var Um=!1;if(Qn){var rd;if(Qn){var ad="oninput"in document;if(!ad){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),ad=typeof zm.oninput=="function"}rd=ad}else rd=!1;Um=rd&&(!document.documentMode||9<document.documentMode)}function jm(){Qt&&(Qt.detachEvent("onpropertychange",Bm),pi=Qt=null)}function Bm(t){if(t.propertyName==="value"&&Vu(pi)){var i=[];Hi(i,pi,t,Mn(t)),Tu(Fo,i)}}function g1(t,i,s){t==="focusin"?(jm(),Qt=i,pi=s,Qt.attachEvent("onpropertychange",Bm)):t==="focusout"&&jm()}function y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(pi)}function _1(t,i){if(t==="click")return Vu(i)}function v1(t,i){if(t==="input"||t==="change")return Vu(i)}function E1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:E1;function Go(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!un.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,i){var s=Hm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Hm(s)}}function Fm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_a(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=_a(t.document)}return i}function sd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var T1=Qn&&"documentMode"in document&&11>=document.documentMode,ys=null,od=null,Ko=null,ld=!1;function Km(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ld||ys==null||ys!==_a(l)||(l=ys,"selectionStart"in l&&sd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Ec(od,"onSelect"),0<l.length&&(i=new us("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ys)))}function Ia(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var _s={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},ud={},Ym={};Qn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Da(t){if(ud[t])return ud[t];if(!_s[t])return t;var i=_s[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ym)return ud[t]=i[s];return t}var Qm=Da("animationend"),Wm=Da("animationiteration"),Xm=Da("animationstart"),S1=Da("transitionrun"),b1=Da("transitionstart"),A1=Da("transitioncancel"),$m=Da("transitionend"),Zm=new Map,cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cd.push("scrollEnd");function Wn(t,i){Zm.set(t,i),Yn(i,[t])}var Jm=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var s=Jm.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ss(i)},Jm.set(t,i),i)}return{value:t,source:i,stack:ss(i)}}var Un=[],vs=0,hd=0;function Pu(){for(var t=vs,i=hd=vs=0;i<t;){var s=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var f=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&eg(s,h,f)}}function Lu(t,i,s,l){Un[vs++]=t,Un[vs++]=i,Un[vs++]=s,Un[vs++]=l,hd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function dd(t,i,s,l){return Lu(t,i,s,l),Uu(t)}function Es(t,i){return Lu(t,null,null,i),Uu(t)}function eg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-tn(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function Uu(t){if(50<yl)throw yl=0,vf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ts={};function w1(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,s,l){return new w1(t,i,s,l)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var s=t.alternate;return s===null?(s=An(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function tg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zu(t,i,s,l,h,f){var v=0;if(l=t,typeof t=="function")fd(t)&&(v=1);else if(typeof t=="string")v=RS(t,s,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=An(31,s,i,h),t.elementType=w,t.lanes=f,t;case H:return ka(s.children,h,f,i);case P:v=8,h|=24;break;case U:return t=An(12,s,i,h|2),t.elementType=U,t.lanes=f,t;case ue:return t=An(13,s,i,h),t.elementType=ue,t.lanes=f,t;case fe:return t=An(19,s,i,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case X:v=10;break e;case se:v=9;break e;case oe:v=11;break e;case I:v=14;break e;case A:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=An(v,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function ka(t,i,s,l){return t=An(7,t,l,i),t.lanes=s,t}function pd(t,i,s){return t=An(6,t,null,i),t.lanes=s,t}function md(t,i,s){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ss=[],bs=0,ju=null,Bu=0,zn=[],jn=0,Oa=null,Fi=1,Gi="";function Na(t,i){Ss[bs++]=Bu,Ss[bs++]=ju,ju=t,Bu=i}function ng(t,i,s){zn[jn++]=Fi,zn[jn++]=Gi,zn[jn++]=Oa,Oa=t;var l=Fi;t=Gi;var h=32-tn(l)-1;l&=~(1<<h),s+=1;var f=32-tn(i)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Fi=1<<32-tn(i)+h|s<<h|l,Gi=f+t}else Fi=1<<f|s<<h|l,Gi=t}function gd(t){t.return!==null&&(Na(t,1),ng(t,1,0))}function yd(t){for(;t===ju;)ju=Ss[--bs],Ss[bs]=null,Bu=Ss[--bs],Ss[bs]=null;for(;t===Oa;)Oa=zn[--jn],zn[jn]=null,Gi=zn[--jn],zn[jn]=null,Fi=zn[--jn],zn[jn]=null}var fn=null,Et=null,We=!1,Ma=null,mi=!1,_d=Error(a(519));function Va(t){var i=Error(a(418,""));throw Wo(Ln(i,t)),_d}function ig(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[xt]=l,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<vl.length;s++)ze(vl[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),va(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),os(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Ea(i,l.value,l.defaultValue,l.children),os(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||E_(i.textContent,s)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Va(t)}function rg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:fn=fn.return}}function Yo(t){if(t!==fn)return!1;if(!We)return rg(t),We=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Vf(t.type,t.memoizedProps)),s=!s),s&&Et&&Va(t),rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Et=$n(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Et=null}}else i===27?(i=Et,Lr(t.type)?(t=zf,zf=null,Et=t):Et=i):Et=fn?$n(t.stateNode.nextSibling):null;return!0}function Qo(){Et=fn=null,We=!1}function ag(){var t=Ma;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Ma=null),t}function Wo(t){Ma===null?Ma=[t]:Ma.push(t)}var vd=ne(null),Pa=null,Ki=null;function Sr(t,i,s){ae(vd,i._currentValue),i._currentValue=s}function Yi(t){t._currentValue=vd.current,ce(vd)}function Ed(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Td(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),Ed(f.return,s,t),l||(v=null);break e}f=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Ed(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=h.type;bn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===_t.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Td(i,t,s,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){Pa=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return sg(Pa,t)}function qu(t,i){return Pa===null&&La(t),sg(t,i)}function sg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ki===null){if(t===null)throw Error(a(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return s}var x1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},R1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,Pt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new x1,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&R1(C1,function(){t.controller.abort()})}var Zo=null,bd=0,As=0,ws=null;function I1(t,i){if(Zo===null){var s=Zo=[];bd=0,As=xf(),ws={status:"pending",value:void 0,then:function(l){s.push(l)}}}return bd++,i.then(og,og),i}function og(){if(--bd===0&&Zo!==null){ws!==null&&(ws.status="fulfilled");var t=Zo;Zo=null,As=0,ws=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function D1(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var lg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&I1(t,i),lg!==null&&lg(t,i)};var Ua=ne(null);function Ad(){var t=Ua.current;return t!==null?t:lt.pooledCache}function Fu(t,i){i===null?ae(Ua,Ua.current):ae(Ua,i.pool)}function ug(){var t=Ad();return t===null?null:{parent:Pt._currentValue,pool:t}}var Jo=Error(a(460)),cg=Error(a(474)),Gu=Error(a(542)),wd={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ku(){}function dg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ku,Ku),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t;default:if(typeof i.status=="string")i.then(Ku,Ku);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pg(t),t}throw el=i,Jo}}var el=null;function fg(){if(el===null)throw Error(a(459));var t=el;return el=null,t}function pg(t){if(t===Jo||t===Gu)throw Error(a(483))}var br=!1;function xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Uu(t),eg(t,null,s),i}return Lu(t,l,i,s),Uu(t)}function tl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Io(t,s)}}function Cd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Id=!1;function nl(){if(Id){var t=ws;if(t!==null)throw t}}function il(t,i,s,l){Id=!1;var h=t.updateQueue;br=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,F=C.next;C.next=null,v===null?f=F:v.next=F,v=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==v&&(S===null?Z.firstBaseUpdate=F:S.next=F,Z.lastBaseUpdate=C))}if(f!==null){var te=h.baseState;v=0,Z=F=C=null,S=f;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(Ge&K)===K:(l&K)===K){K!==0&&K===As&&(Id=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=t,Ae=S;K=i;var at=s;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){te=Ie.call(at,te,K);break e}te=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,K=typeof Ie=="function"?Ie.call(at,te,K):Ie,K==null)break e;te=T({},te,K);break e;case 2:br=!0}}K=S.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(F=Z=Y,C=te):Z=Z.next=Y,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(C=te),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Nr|=v,t.lanes=v,t.memoizedState=te}}function mg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function gg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)mg(s[t],i)}var xs=ne(null),Yu=ne(0);function yg(t,i){t=er,ae(Yu,t),ae(xs,i),er=t|i.baseLanes}function Dd(){ae(Yu,er),ae(xs,xs.current)}function kd(){er=Yu.current,ce(xs),ce(Yu)}var xr=0,Pe=null,it=null,Ct=null,Qu=!1,Rs=!1,za=!1,Wu=0,rl=0,Cs=null,k1=0;function bt(){throw Error(a(321))}function Od(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!bn(t[s],i[s]))return!1;return!0}function Nd(t,i,s,l,h,f){return xr=f,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?ey:ty,za=!1,f=s(l,h),za=!1,Rs&&(f=vg(i,s,l,h)),_g(t),f}function _g(t){G.H=tc;var i=it!==null&&it.next!==null;if(xr=0,Ct=it=Pe=null,Qu=!1,rl=0,Cs=null,i)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Hu(t)&&(Ht=!0))}function vg(t,i,s,l){Pe=t;var h=0;do{if(Rs&&(Cs=null),rl=0,Rs=!1,25<=h)throw Error(a(301));if(h+=1,Ct=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=U1,f=i(s,l)}while(Rs);return f}function O1(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?al(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Pe.flags|=1024),i}function Md(){var t=Wu!==0;return Wu=0,t}function Vd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Pd(t){if(Qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Qu=!1}xr=0,Ct=it=Pe=null,Rs=!1,rl=Wu=0,Cs=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Pe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function It(){if(it===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=Ct===null?Pe.memoizedState:Ct.next;if(i!==null)Ct=i,it=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ct===null?Pe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var i=rl;return rl+=1,Cs===null&&(Cs=[]),t=dg(Cs,t,i),i=Pe,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ey:ty),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===X)return nn(t)}throw Error(a(438,String(t)))}function Ud(t){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ld(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Qi(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=It();return zd(i,it,t)}function zd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=v=null,C=null,F=i,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ge&te)===te:(xr&te)===te){var K=F.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===As&&(Z=!0);else if((xr&K)===K){F=F.next,K===As&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(S=C=te,v=f):C=C.next=te,Pe.lanes|=K,Nr|=K;te=F.action,za&&s(f,te),f=F.hasEagerState?F.eagerState:s(f,te)}else K={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(S=C=K,v=f):C=C.next=K,Pe.lanes|=te,Nr|=te;F=F.next}while(F!==null&&F!==i);if(C===null?v=f:C.next=S,!bn(f,t.memoizedState)&&(Ht=!0,Z&&(s=ws,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jd(t){var i=It(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);bn(f,i.memoizedState)||(Ht=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function Eg(t,i,s){var l=Pe,h=It(),f=We;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!bn((it||h).memoizedState,s);v&&(h.memoizedState=s,Ht=!0),h=h.queue;var S=bg.bind(null,l,h,t);if(sl(2048,8,S,[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Is(9,Zu(),Sg.bind(null,l,h,s,i),null),lt===null)throw Error(a(349));f||(xr&124)!==0||Tg(l,i,s)}return s}function Tg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=Ld(),Pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Sg(t,i,s,l){i.value=s,i.getSnapshot=l,Ag(i)&&wg(t)}function bg(t,i,s){return s(function(){Ag(i)&&wg(t)})}function Ag(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!bn(t,s)}catch{return!0}}function wg(t){var i=Es(t,2);i!==null&&In(i,t,2)}function Bd(t){var i=mn();if(typeof t=="function"){var s=t;if(t=s(),za){Tn(!0);try{s()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function xg(t,i,s,l){return t.baseState=s,zd(t,it,typeof l=="function"?l:Qi)}function N1(t,i,s,l,h){if(ec(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,Rg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Rg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=G.T,v={};G.T=v;try{var S=s(h,l),C=G.S;C!==null&&C(v,S),Cg(t,i,S)}catch(F){Hd(t,i,F)}finally{G.T=f}}else try{f=s(h,l),Cg(t,i,f)}catch(F){Hd(t,i,F)}}function Cg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ig(t,i,l)},function(l){return Hd(t,i,l)}):Ig(t,i,s)}function Ig(t,i,s){i.status="fulfilled",i.value=s,Dg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Rg(t,s)))}function Hd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Dg(i),i=i.next;while(i!==l)}t.action=null}function Dg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Og(t,i){if(We){var s=lt.formState;if(s!==null){e:{var l=Pe;if(We){if(Et){t:{for(var h=Et,f=mi;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=$n(h.nextSibling),l=h.data==="F!";break e}}Va(l)}l=!1}l&&(i=s[0])}}return s=mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},s.queue=l,s=$g.bind(null,Pe,l),l.dispatch=s,l=Bd(!1),f=Yd.bind(null,Pe,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=N1.bind(null,Pe,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Ng(t){var i=It();return Mg(i,it,t)}function Mg(t,i,s){if(i=zd(t,i,kg)[0],t=$u(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(v){throw v===Jo?Gu:v}else l=i;i=It();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,Is(9,Zu(),M1.bind(null,h,s),null)),[l,f,t]}function M1(t,i){t.action=i}function Vg(t){var i=It(),s=it;if(s!==null)return Mg(i,s,t);It(),i=i.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Is(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=Ld(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Pg(){return It().memoizedState}function Ju(t,i,s,l){var h=mn();l=l===void 0?null:l,Pe.flags|=t,h.memoizedState=Is(1|i,Zu(),s,l)}function sl(t,i,s,l){var h=It();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&Od(l,it.memoizedState.deps)?h.memoizedState=Is(i,f,s,l):(Pe.flags|=t,h.memoizedState=Is(1|i,f,s,l))}function Lg(t,i){Ju(8390656,8,t,i)}function Ug(t,i){sl(2048,8,t,i)}function zg(t,i){return sl(4,2,t,i)}function jg(t,i){return sl(4,4,t,i)}function Bg(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hg(t,i,s){s=s!=null?s.concat([t]):null,sl(4,4,Bg.bind(null,i,t),s)}function qd(){}function qg(t,i){var s=It();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Od(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Fg(t,i){var s=It();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Od(i,l[1]))return l[0];if(l=t(),za){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l}function Fd(t,i,s){return s===void 0||(xr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Yy(),Pe.lanes|=t,Nr|=t,s)}function Gg(t,i,s,l){return bn(s,i)?s:xs.current!==null?(t=Fd(t,s,l),bn(t,i)||(Ht=!0),t):(xr&42)===0?(Ht=!0,t.memoizedState=s):(t=Yy(),Pe.lanes|=t,Nr|=t,i)}function Kg(t,i,s,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var v=G.T,S={};G.T=S,Yd(t,!1,i,s);try{var C=h(),F=G.S;if(F!==null&&F(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=D1(C,l);ol(t,i,Z,Cn(t))}else ol(t,i,l,Cn(t))}catch(te){ol(t,i,{then:function(){},status:"rejected",reason:te},Cn())}finally{le.p=f,G.T=v}}function V1(){}function Gd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Yg(t).queue;Kg(t,h,i,de,s===null?V1:function(){return Qg(t),s(l)})}function Yg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Qg(t){var i=Yg(t).next.queue;ol(t,i,{},Cn())}function Kd(){return nn(wl)}function Wg(){return It().memoizedState}function Xg(){return It().memoizedState}function P1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Cn();t=Ar(s);var l=wr(i,t,s);l!==null&&(In(l,i,s),tl(l,i,s)),i={cache:Sd()},t.payload=i;return}i=i.return}}function L1(t,i,s){var l=Cn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?Zg(i,s):(s=dd(t,i,s,l),s!==null&&(In(s,t,l),Jg(s,i,l)))}function $g(t,i,s){var l=Cn();ol(t,i,s,l)}function ol(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Zg(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,S=f(v,s);if(h.hasEagerState=!0,h.eagerState=S,bn(S,v))return Lu(t,i,h,0),lt===null&&Pu(),!1}catch{}finally{}if(s=dd(t,i,h,l),s!==null)return In(s,t,l),Jg(s,i,l),!0}return!1}function Yd(t,i,s,l){if(l={lane:2,revertLane:xf(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(i)throw Error(a(479))}else i=dd(t,s,l,2),i!==null&&In(i,t,2)}function ec(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function Zg(t,i){Rs=Qu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Jg(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Io(t,s)}}var tc={readContext:nn,use:Xu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},ey={readContext:nn,use:Xu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:Lg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ju(4194308,4,Bg.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var s=mn();i=i===void 0?null:i;var l=t();if(za){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=mn();if(s!==void 0){var h=s(i);if(za){Tn(!0);try{s(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=L1.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bd(t);var i=t.queue,s=$g.bind(null,Pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:qd,useDeferredValue:function(t,i){var s=mn();return Fd(s,t,i)},useTransition:function(){var t=Bd(!1);return t=Kg.bind(null,Pe,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Pe,h=mn();if(We){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),lt===null)throw Error(a(349));(Ge&124)!==0||Tg(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,Lg(bg.bind(null,l,f,t),[t]),l.flags|=2048,Is(9,Zu(),Sg.bind(null,l,f,s,i),null),s},useId:function(){var t=mn(),i=lt.identifierPrefix;if(We){var s=Gi,l=Fi;s=(l&~(1<<32-tn(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=Wu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=k1++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Kd,useFormState:Og,useActionState:Og,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Yd.bind(null,Pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Ud,useCacheRefresh:function(){return mn().memoizedState=P1.bind(null,Pe)}},ty={readContext:nn,use:Xu,useCallback:qg,useContext:nn,useEffect:Ug,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:$u,useRef:Pg,useState:function(){return $u(Qi)},useDebugValue:qd,useDeferredValue:function(t,i){var s=It();return Gg(s,it.memoizedState,t,i)},useTransition:function(){var t=$u(Qi)[0],i=It().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Eg,useId:Wg,useHostTransitionStatus:Kd,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,i){var s=It();return xg(s,it,t,i)},useMemoCache:Ud,useCacheRefresh:Xg},U1={readContext:nn,use:Xu,useCallback:qg,useContext:nn,useEffect:Ug,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:jd,useRef:Pg,useState:function(){return jd(Qi)},useDebugValue:qd,useDeferredValue:function(t,i){var s=It();return it===null?Fd(s,t,i):Gg(s,it.memoizedState,t,i)},useTransition:function(){var t=jd(Qi)[0],i=It().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Eg,useId:Wg,useHostTransitionStatus:Kd,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,i){var s=It();return it!==null?xg(s,it,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:Xg},Ds=null,ll=0;function nc(t){var i=ll;return ll+=1,Ds===null&&(Ds=[]),dg(Ds,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ny(t){var i=t._init;return i(t._payload)}function iy(t){function i(z,V){if(t){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function s(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=qi(z,V),z.index=0,z.sibling=null,z}function f(z,V,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=67108866,V):q):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,V,q,J){return V===null||V.tag!==6?(V=pd(q,z.mode,J),V.return=z,V):(V=h(V,q),V.return=z,V)}function C(z,V,q,J){var me=q.type;return me===H?Z(z,V,q.props.children,J,q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ny(me)===V.type)?(V=h(V,q.props),ul(V,q),V.return=z,V):(V=zu(q.type,q.key,q.props,null,z.mode,J),ul(V,q),V.return=z,V)}function F(z,V,q,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=md(q,z.mode,J),V.return=z,V):(V=h(V,q.children||[]),V.return=z,V)}function Z(z,V,q,J,me){return V===null||V.tag!==7?(V=ka(q,z.mode,J,me),V.return=z,V):(V=h(V,q),V.return=z,V)}function te(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=pd(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return q=zu(V.type,V.key,V.props,null,z.mode,q),ul(q,V),q.return=z,q;case k:return V=md(V,z.mode,q),V.return=z,V;case A:var J=V._init;return V=J(V._payload),te(z,V,q)}if(we(V)||L(V))return V=ka(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return te(z,nc(V),q);if(V.$$typeof===X)return te(z,qu(z,V),q);ic(z,V)}return null}function K(z,V,q,J){var me=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:S(z,V,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===me?C(z,V,q,J):null;case k:return q.key===me?F(z,V,q,J):null;case A:return me=q._init,q=me(q._payload),K(z,V,q,J)}if(we(q)||L(q))return me!==null?null:Z(z,V,q,J,null);if(typeof q.then=="function")return K(z,V,nc(q),J);if(q.$$typeof===X)return K(z,V,qu(z,q),J);ic(z,q)}return null}function Y(z,V,q,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,S(V,z,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return z=z.get(J.key===null?q:J.key)||null,C(V,z,J,me);case k:return z=z.get(J.key===null?q:J.key)||null,F(V,z,J,me);case A:var Le=J._init;return J=Le(J._payload),Y(z,V,q,J,me)}if(we(J)||L(J))return z=z.get(q)||null,Z(V,z,J,me,null);if(typeof J.then=="function")return Y(z,V,q,nc(J),me);if(J.$$typeof===X)return Y(z,V,q,qu(V,J),me);ic(V,J)}return null}function Ie(z,V,q,J){for(var me=null,Le=null,Ee=V,xe=V=0,Ft=null;Ee!==null&&xe<q.length;xe++){Ee.index>xe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Ye=K(z,Ee,q[xe],J);if(Ye===null){Ee===null&&(Ee=Ft);break}t&&Ee&&Ye.alternate===null&&i(z,Ee),V=f(Ye,V,xe),Le===null?me=Ye:Le.sibling=Ye,Le=Ye,Ee=Ft}if(xe===q.length)return s(z,Ee),We&&Na(z,xe),me;if(Ee===null){for(;xe<q.length;xe++)Ee=te(z,q[xe],J),Ee!==null&&(V=f(Ee,V,xe),Le===null?me=Ee:Le.sibling=Ee,Le=Ee);return We&&Na(z,xe),me}for(Ee=l(Ee);xe<q.length;xe++)Ft=Y(Ee,z,xe,q[xe],J),Ft!==null&&(t&&Ft.alternate!==null&&Ee.delete(Ft.key===null?xe:Ft.key),V=f(Ft,V,xe),Le===null?me=Ft:Le.sibling=Ft,Le=Ft);return t&&Ee.forEach(function(Hr){return i(z,Hr)}),We&&Na(z,xe),me}function Ae(z,V,q,J){if(q==null)throw Error(a(151));for(var me=null,Le=null,Ee=V,xe=V=0,Ft=null,Ye=q.next();Ee!==null&&!Ye.done;xe++,Ye=q.next()){Ee.index>xe?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Hr=K(z,Ee,Ye.value,J);if(Hr===null){Ee===null&&(Ee=Ft);break}t&&Ee&&Hr.alternate===null&&i(z,Ee),V=f(Hr,V,xe),Le===null?me=Hr:Le.sibling=Hr,Le=Hr,Ee=Ft}if(Ye.done)return s(z,Ee),We&&Na(z,xe),me;if(Ee===null){for(;!Ye.done;xe++,Ye=q.next())Ye=te(z,Ye.value,J),Ye!==null&&(V=f(Ye,V,xe),Le===null?me=Ye:Le.sibling=Ye,Le=Ye);return We&&Na(z,xe),me}for(Ee=l(Ee);!Ye.done;xe++,Ye=q.next())Ye=Y(Ee,z,xe,Ye.value,J),Ye!==null&&(t&&Ye.alternate!==null&&Ee.delete(Ye.key===null?xe:Ye.key),V=f(Ye,V,xe),Le===null?me=Ye:Le.sibling=Ye,Le=Ye);return t&&Ee.forEach(function(zS){return i(z,zS)}),We&&Na(z,xe),me}function at(z,V,q,J){if(typeof q=="object"&&q!==null&&q.type===H&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var me=q.key;V!==null;){if(V.key===me){if(me=q.type,me===H){if(V.tag===7){s(z,V.sibling),J=h(V,q.props.children),J.return=z,z=J;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ny(me)===V.type){s(z,V.sibling),J=h(V,q.props),ul(J,q),J.return=z,z=J;break e}s(z,V);break}else i(z,V);V=V.sibling}q.type===H?(J=ka(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=zu(q.type,q.key,q.props,null,z.mode,J),ul(J,q),J.return=z,z=J)}return v(z);case k:e:{for(me=q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){s(z,V.sibling),J=h(V,q.children||[]),J.return=z,z=J;break e}else{s(z,V);break}else i(z,V);V=V.sibling}J=md(q,z.mode,J),J.return=z,z=J}return v(z);case A:return me=q._init,q=me(q._payload),at(z,V,q,J)}if(we(q))return Ie(z,V,q,J);if(L(q)){if(me=L(q),typeof me!="function")throw Error(a(150));return q=me.call(q),Ae(z,V,q,J)}if(typeof q.then=="function")return at(z,V,nc(q),J);if(q.$$typeof===X)return at(z,V,qu(z,q),J);ic(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(s(z,V.sibling),J=h(V,q),J.return=z,z=J):(s(z,V),J=pd(q,z.mode,J),J.return=z,z=J),v(z)):s(z,V)}return function(z,V,q,J){try{ll=0;var me=at(z,V,q,J);return Ds=null,me}catch(Ee){if(Ee===Jo||Ee===Gu)throw Ee;var Le=An(29,Ee,null,z.mode);return Le.lanes=J,Le.return=z,Le}finally{}}}var ks=iy(!0),ry=iy(!1),Bn=ne(null),gi=null;function Rr(t){var i=t.alternate;ae(Lt,Lt.current&1),ae(Bn,t),gi===null&&(i===null||xs.current!==null||i.memoizedState!==null)&&(gi=t)}function ay(t){if(t.tag===22){if(ae(Lt,Lt.current),ae(Bn,t),gi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(gi=t)}}else Cr()}function Cr(){ae(Lt,Lt.current),ae(Bn,Bn.current)}function Wi(t){ce(Bn),gi===t&&(gi=null),ce(Lt)}var Lt=ne(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Uf(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Qd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ar(l);h.payload=i,s!=null&&(h.callback=s),i=wr(t,h,l),i!==null&&(In(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ar(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=wr(t,h,l),i!==null&&(In(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Cn(),l=Ar(s);l.tag=2,i!=null&&(l.callback=i),i=wr(t,l,s),i!==null&&(In(i,t,s),tl(i,t,s))}};function sy(t,i,s,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!Go(s,l)||!Go(h,f):!0}function oy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Wd.enqueueReplaceState(i,i.state,null)}function ja(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ly(t){ac(t)}function uy(t){console.error(t)}function cy(t){ac(t)}function sc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function hy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xd(t,i,s){return s=Ar(s),s.tag=3,s.payload={element:null},s.callback=function(){sc(t,i)},s}function dy(t){return t=Ar(t),t.tag=3,t}function fy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){hy(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){hy(i,s,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function z1(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Xo(i,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 13:return gi===null?Tf():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===wd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),bf(t,l,h)),!1;case 22:return s.flags|=65536,l===wd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),bf(t,l,h)),!1}throw Error(a(435,s.tag))}return bf(t,l,h),Tf(),!1}if(We)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_d&&(t=Error(a(422),{cause:l}),Wo(Ln(t,s)))):(l!==_d&&(i=Error(a(423),{cause:l}),Wo(Ln(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,s),h=Xd(t.stateNode,l,h),Cd(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:l});if(f=Ln(f,s),gl===null?gl=[f]:gl.push(f),Tt!==4&&(Tt=2),i===null)return!0;l=Ln(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Xd(s.stateNode,l,t),Cd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=dy(h),fy(h,t,s,l),Cd(s,h),!1}s=s.return}while(s!==null);return!1}var py=Error(a(461)),Ht=!1;function Wt(t,i,s,l){i.child=t===null?ry(i,null,s,l):ks(i,t.child,s,l)}function my(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return La(i),l=Nd(t,i,s,v,f,h),S=Md(),t!==null&&!Ht?(Vd(t,i,h),Xi(t,i,h)):(We&&S&&gd(i),i.flags|=1,Wt(t,i,l,h),i.child)}function gy(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!fd(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,yy(t,i,f,l,h)):(t=zu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!af(t,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(v,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=qi(f,l),t.ref=i.ref,t.return=i,i.child=t}function yy(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(Go(f,l)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=l=f,af(t,h))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return $d(t,i,s,l,h)}function _y(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return vy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,f!==null?f.cachePool:null),f!==null?yg(i,f):Dd(),ay(i);else return i.lanes=i.childLanes=536870912,vy(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(Fu(i,f.cachePool),yg(i,f),Cr(),i.memoizedState=null):(t!==null&&Fu(i,null),Dd(),Cr());return Wt(t,i,h,s),i.child}function vy(t,i,s,l){var h=Ad();return h=h===null?null:{parent:Pt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Fu(i,null),Dd(),ay(i),t!==null&&Xo(t,i,l,!0),null}function oc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function $d(t,i,s,l,h){return La(i),s=Nd(t,i,s,l,void 0,h),l=Md(),t!==null&&!Ht?(Vd(t,i,h),Xi(t,i,h)):(We&&l&&gd(i),i.flags|=1,Wt(t,i,s,h),i.child)}function Ey(t,i,s,l,h,f){return La(i),i.updateQueue=null,s=vg(i,l,s,h),_g(t),l=Md(),t!==null&&!Ht?(Vd(t,i,f),Xi(t,i,f)):(We&&l&&gd(i),i.flags|=1,Wt(t,i,s,f),i.child)}function Ty(t,i,s,l,h){if(La(i),i.stateNode===null){var f=Ts,v=s.contextType;typeof v=="object"&&v!==null&&(f=nn(v)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},xd(i),v=s.contextType,f.context=typeof v=="object"&&v!==null?nn(v):Ts,f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Qd(i,s,v,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Wd.enqueueReplaceState(f,f.state,null),il(i,l,f,h),nl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,C=ja(s,S);f.props=C;var F=f.context,Z=s.contextType;v=Ts,typeof Z=="object"&&Z!==null&&(v=nn(Z));var te=s.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||F!==v)&&oy(i,f,l,v),br=!1;var K=i.memoizedState;f.state=K,il(i,l,f,h),nl(),F=i.memoizedState,S||K!==F||br?(typeof te=="function"&&(Qd(i,s,te,l),F=i.memoizedState),(C=br||sy(i,s,C,l,K,F,v))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Rd(t,i),v=i.memoizedProps,Z=ja(s,v),f.props=Z,te=i.pendingProps,K=f.context,F=s.contextType,C=Ts,typeof F=="object"&&F!==null&&(C=nn(F)),S=s.getDerivedStateFromProps,(F=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==te||K!==C)&&oy(i,f,l,C),br=!1,K=i.memoizedState,f.state=K,il(i,l,f,h),nl();var Y=i.memoizedState;v!==te||K!==Y||br||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof S=="function"&&(Qd(i,s,S,l),Y=i.memoizedState),(Z=br||sy(i,s,Z,l,K,Y,C)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=C,l=Z):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,oc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,s,h)):Wt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Xi(t,i,h),t}function Sy(t,i,s,l){return Qo(),i.flags|=256,Wt(t,i,s,l),i.child}var Zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(t){return{baseLanes:t,cachePool:ug()}}function ef(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Hn),t}function by(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?Rr(i):Cr(),We){var S=Et,C;if(C=S){e:{for(C=S,S=mi;C.nodeType!==8;){if(!S){S=null;break e}if(C=$n(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:Oa!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,fn=i,Et=null,C=!0):C=!1}C||Va(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Uf(S)?i.lanes=32:i.lanes=536870912,null;Wi(i)}return S=l.children,l=l.fallback,h?(Cr(),h=i.mode,S=lc({mode:"hidden",children:S},h),l=ka(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Jd(s),h.childLanes=ef(t,v,s),i.memoizedState=Zd,l):(Rr(i),tf(i,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(f)i.flags&256?(Rr(i),i.flags&=-257,i=nf(t,i,s)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),h=l.fallback,S=i.mode,l=lc({mode:"visible",children:l.children},S),h=ka(h,S,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ks(i,t.child,null,s),l=i.child,l.memoizedState=Jd(s),l.childLanes=ef(t,v,s),i.memoizedState=Zd,i=h);else if(Rr(i),Uf(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(a(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),i=nf(t,i,s)}else if(Ht||Xo(t,i,s,!1),v=(s&t.childLanes)!==0,Ht||v){if(v=lt,v!==null&&(l=s&-s,l=(l&42)!==0?1:mr(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Es(t,l),In(v,t,l),py;S.data==="$?"||Tf(),i=nf(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Et=$n(S.nextSibling),fn=i,We=!0,Ma=null,mi=!1,t!==null&&(zn[jn++]=Fi,zn[jn++]=Gi,zn[jn++]=Oa,Fi=t.id,Gi=t.overflow,Oa=i),i=tf(i,l.children),i.flags|=4096);return i}return h?(Cr(),h=l.fallback,S=i.mode,C=t.child,F=C.sibling,l=qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?h=qi(F,h):(h=ka(h,S,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Jd(s):(C=S.cachePool,C!==null?(F=Pt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=ug(),S={baseLanes:S.baseLanes|s,cachePool:C}),h.memoizedState=S,h.childLanes=ef(t,v,s),i.memoizedState=Zd,l):(Rr(i),s=t.child,t=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function tf(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=An(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,i,s){return ks(i,t.child,null,s),t=tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ay(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ed(t.return,i,s)}function rf(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function wy(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Wt(t,i,l.children,s),l=Lt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,s,i);else if(t.tag===19)Ay(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(Lt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),rf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}rf(i,!0,s,null,f);break;case"together":rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Nr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Xo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=qi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=qi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function af(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function j1(t,i,s){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Sr(i,Pt,t.memoizedState.cache),Qo();break;case 27:case 5:mt(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?by(t,i,s):(Rr(i),t=Xi(t,i,s),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Xo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return wy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Lt,Lt.current),l)break;return null;case 22:case 23:return i.lanes=0,_y(t,i,s);case 24:Sr(i,Pt,t.memoizedState.cache)}return Xi(t,i,s)}function xy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!af(t,s)&&(i.flags&128)===0)return Ht=!1,j1(t,i,s);Ht=(t.flags&131072)!==0}else Ht=!1,We&&(i.flags&1048576)!==0&&ng(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")fd(l)?(t=ja(l,t),i.tag=1,i=Ty(null,i,l,t,s)):(i.tag=0,i=$d(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===oe){i.tag=11,i=my(null,i,l,t,s);break e}else if(h===I){i.tag=14,i=gy(null,i,l,t,s);break e}}throw i=De(l)||l,Error(a(306,i,""))}}return i;case 0:return $d(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ja(l,i.pendingProps),Ty(t,i,l,h,s);case 3:e:{if(be(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Rd(t,i),il(i,l,null,s);var v=i.memoizedState;if(l=v.cache,Sr(i,Pt,l),l!==f.cache&&Td(i,[Pt],s,!0),nl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Sy(t,i,l,s);break e}else if(l!==h){h=Ln(Error(a(424)),i),Wo(h),i=Sy(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=$n(t.firstChild),fn=i,We=!0,Ma=null,mi=!0,s=ry(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qo(),l===h){i=Xi(t,i,s);break e}Wt(t,i,l,s)}i=i.child}return i;case 26:return oc(t,i),t===null?(s=D_(i.type,null,i.pendingProps,null))?i.memoizedState=s:We||(s=i.type,t=i.pendingProps,l=Sc(Te.current).createElement(s),l[Nt]=i,l[xt]=t,$t(l,s,t),St(l),i.stateNode=l):i.memoizedState=D_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mt(i),t===null&&We&&(l=i.stateNode=R_(i.type,i.pendingProps,Te.current),fn=i,mi=!0,h=Et,Lr(i.type)?(zf=h,Et=$n(l.firstChild)):Et=h),Wt(t,i,i.pendingProps.children,s),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=Et)&&(l=pS(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,fn=i,Et=$n(l.firstChild),mi=!1,h=!0):h=!1),h||Va(i)),mt(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Vf(h,f)?l=null:v!==null&&Vf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Nd(t,i,O1,null,null,s),wl._currentValue=h),oc(t,i),Wt(t,i,l,s),i.child;case 6:return t===null&&We&&((t=s=Et)&&(s=mS(s,i.pendingProps,mi),s!==null?(i.stateNode=s,fn=i,Et=null,t=!0):t=!1),t||Va(i)),null;case 13:return by(t,i,s);case 4:return be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,s):Wt(t,i,l,s),i.child;case 11:return my(t,i,i.type,i.pendingProps,s);case 7:return Wt(t,i,i.pendingProps,s),i.child;case 8:return Wt(t,i,i.pendingProps.children,s),i.child;case 12:return Wt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Wt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,La(i),h=nn(h),l=l(h),i.flags|=1,Wt(t,i,l,s),i.child;case 14:return gy(t,i,i.type,i.pendingProps,s);case 15:return yy(t,i,i.type,i.pendingProps,s);case 19:return wy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=lc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=qi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return _y(t,i,s);case 24:return La(i),l=nn(Pt),t===null?(h=Ad(),h===null&&(h=lt,f=Sd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},xd(i),Sr(i,Pt,h)):((t.lanes&s)!==0&&(Rd(t,i),il(i,null,null,s),nl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Pt,l)):(l=f.cache,Sr(i,Pt,l),l!==h.cache&&Td(i,[Pt],s,!0))),Wt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function $i(t){t.flags|=4}function Ry(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(i)){if(i=Bn.current,i!==null&&((Ge&4194048)===Ge?gi!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==gi))throw el=wd,cg;t.flags|=8192}}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ro():536870912,t.lanes|=i,Vs|=i)}function cl(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function B1(t,i,s){var l=i.pendingProps;switch(yd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Pt),ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ag())),gt(i),null;case 26:return s=i.memoizedState,t===null?($i(i),s!==null?(gt(i),Ry(i,s)):(gt(i),i.flags&=-16777217)):s?s!==t.memoizedState?($i(i),gt(i),Ry(i,s)):(gt(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),gt(i),i.flags&=-16777217),null;case 27:En(i),s=Te.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return gt(i),null}t=ye.current,Yo(i)?ig(i):(t=R_(h,l,s),i.stateNode=t,$i(i))}return gt(i),null;case 5:if(En(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return gt(i),null}if(t=ye.current,Yo(i))ig(i);else{switch(h=Sc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Nt]=i,t[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch($t(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return gt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Te.current,Yo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,s)),t||Va(i)}else t=Sc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return gt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=i}else Qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Wi(i),i):(Wi(i),null)}if(Wi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),uc(i,i.updateQueue),gt(i),null;case 4:return ht(),t===null&&Df(i.stateNode.containerInfo),gt(i),null;case 10:return Yi(i.type),gt(i),null;case 19:if(ce(Lt),h=i.memoizedState,h===null)return gt(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)cl(h,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=rc(t),f!==null){for(i.flags|=128,cl(h,!1),t=f.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)tg(s,t),s=s.sibling;return ae(Lt,Lt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Me()>dc&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304)}else{if(!l)if(t=rc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!We)return gt(i),null}else 2*Me()-h.renderingStartTime>dc&&s!==536870912&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Me(),i.sibling=null,t=Lt.current,ae(Lt,l?t&1|2:t&1),i):(gt(i),null);case 22:case 23:return Wi(i),kd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),s=i.updateQueue,s!==null&&uc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ce(Ua),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Yi(Pt),gt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function H1(t,i){switch(yd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Pt),ht(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return En(i),null;case 13:if(Wi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Qo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(Lt),null;case 4:return ht(),null;case 10:return Yi(i.type),null;case 22:case 23:return Wi(i),kd(),t!==null&&ce(Ua),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Pt),null;case 25:return null;default:return null}}function Cy(t,i){switch(yd(i),i.tag){case 3:Yi(Pt),ht();break;case 26:case 27:case 5:En(i);break;case 4:ht();break;case 13:Wi(i);break;case 19:ce(Lt);break;case 10:Yi(i.type);break;case 22:case 23:Wi(i),kd(),t!==null&&ce(Ua);break;case 24:Yi(Pt)}}function hl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==h)}}catch(S){ot(i,i.return,S)}}function Ir(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var C=s,F=S;try{F()}catch(Z){ot(h,C,Z)}}}l=l.next}while(l!==f)}}catch(Z){ot(i,i.return,Z)}}function Iy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{gg(i,s)}catch(l){ot(t,t.return,l)}}}function Dy(t,i,s){s.props=ja(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ot(t,i,l)}}function dl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ot(t,i,h)}}function yi(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ot(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,i,h)}else s.current=null}function ky(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function sf(t,i,s){try{var l=t.stateNode;uS(l,t.type,s,i),l[xt]=i}catch(h){ot(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&Lr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(lf(t,i,s),t=t.sibling;t!==null;)lf(t,i,s),t=t.sibling}function cc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(cc(t,i,s),t=t.sibling;t!==null;)cc(t,i,s),t=t.sibling}function Ny(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$t(i,l,s),i[Nt]=t,i[xt]=s}catch(f){ot(t,t.return,f)}}var Zi=!1,At=!1,uf=!1,My=typeof WeakSet=="function"?WeakSet:Set,qt=null;function q1(t,i){if(t=t.containerInfo,Nf=Cc,t=Gm(t),sd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,S=-1,C=-1,F=0,Z=0,te=t,K=null;t:for(;;){for(var Y;te!==s||h!==0&&te.nodeType!==3||(S=v+h),te!==f||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===t)break t;if(K===s&&++F===h&&(S=v),K===f&&++Z===l&&(C=v),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}s=S===-1||C===-1?null:{start:S,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mf={focusedElem:t,selectionRange:s},Cc=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Ie=ja(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ie,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ot(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Lf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function Vy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Dr(t,s),l&4&&hl(5,s);break;case 1:if(Dr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){ot(s,s.return,v)}else{var h=ja(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ot(s,s.return,v)}}l&64&&Iy(s),l&512&&dl(s,s.return);break;case 3:if(Dr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{gg(t,i)}catch(v){ot(s,s.return,v)}}break;case 27:i===null&&l&4&&Ny(s);case 26:case 5:Dr(t,s),i===null&&l&4&&ky(s),l&512&&dl(s,s.return);break;case 12:Dr(t,s);break;case 13:Dr(t,s),l&4&&Uy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Z1.bind(null,s),gS(t,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||At,h=Zi;var f=At;Zi=l,(At=i)&&!f?kr(t,s,(s.subtreeFlags&8772)!==0):Dr(t,s),Zi=h,At=f}break;case 30:break;default:Dr(t,s)}}function Py(t){var i=t.alternate;i!==null&&(t.alternate=null,Py(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_r(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,gn=!1;function Ji(t,i,s){for(s=s.child;s!==null;)Ly(t,i,s),s=s.sibling}function Ly(t,i,s){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(vt,s)}catch{}switch(s.tag){case 26:At||yi(s,i),Ji(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||yi(s,i);var l=ft,h=gn;Lr(s.type)&&(ft=s.stateNode,gn=!1),Ji(t,i,s),Tl(s.stateNode),ft=l,gn=h;break;case 5:At||yi(s,i);case 6:if(l=ft,h=gn,ft=null,Ji(t,i,s),ft=l,gn=h,ft!==null)if(gn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(f){ot(s,i,f)}else try{ft.removeChild(s.stateNode)}catch(f){ot(s,i,f)}break;case 18:ft!==null&&(gn?(t=ft,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Il(t)):w_(ft,s.stateNode));break;case 4:l=ft,h=gn,ft=s.stateNode.containerInfo,gn=!0,Ji(t,i,s),ft=l,gn=h;break;case 0:case 11:case 14:case 15:At||Ir(2,s,i),At||Ir(4,s,i),Ji(t,i,s);break;case 1:At||(yi(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Dy(s,i,l)),Ji(t,i,s);break;case 21:Ji(t,i,s);break;case 22:At=(l=At)||s.memoizedState!==null,Ji(t,i,s),At=l;break;default:Ji(t,i,s)}}function Uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(s){ot(i,i.return,s)}}function F1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new My),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new My),i;default:throw Error(a(435,t.tag))}}function cf(t,i){var s=F1(t);i.forEach(function(l){var h=J1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function wn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Lr(S.type)){ft=S.stateNode,gn=!1;break e}break;case 5:ft=S.stateNode,gn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,gn=!0;break e}S=S.return}if(ft===null)throw Error(a(160));Ly(f,v,h),ft=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zy(i,t),i=i.sibling}var Xn=null;function zy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(i,t),xn(t),l&4&&(Ir(3,t,t.return),hl(3,t),Ir(5,t,t.return));break;case 1:wn(i,t),xn(t),l&512&&(At||s===null||yi(s,s.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(wn(i,t),xn(t),l&512&&(At||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ma]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,s),f[Nt]=t,St(f),l=f;break e;case"link":var v=N_("link","href",h).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break t}}f=h.createElement(l),$t(f,l,s),h.head.appendChild(f);break;case"meta":if(v=N_("meta","content",h).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break t}}f=h.createElement(l),$t(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Nt]=t,St(f),l=f}t.stateNode=l}else M_(h,t.type,t.stateNode);else t.stateNode=O_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?M_(h,t.type,t.stateNode):O_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,s.memoizedProps)}break;case 27:wn(i,t),xn(t),l&512&&(At||s===null||yi(s,s.return)),s!==null&&l&4&&sf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wn(i,t),xn(t),l&512&&(At||s===null||yi(s,s.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(Y){ot(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(uf=!0);break;case 6:if(wn(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Y){ot(t,t.return,Y)}}break;case 3:if(wc=null,h=Xn,Xn=bc(i.containerInfo),wn(i,t),Xn=h,xn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Il(i.containerInfo)}catch(Y){ot(t,t.return,Y)}uf&&(uf=!1,jy(t));break;case 4:l=Xn,Xn=bc(t.stateNode.containerInfo),wn(i,t),xn(t),Xn=l;break;case 12:wn(i,t),xn(t);break;case 13:wn(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gf=Me()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,F=Zi,Z=At;if(Zi=F||h,At=Z||C,wn(i,t),At=Z,Zi=F,xn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Zi||At||Ba(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var te=C.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){ot(C,C.return,Y)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Y){ot(C,C.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cf(t,s))));break;case 19:wn(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 30:break;case 21:break;default:wn(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Oy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=of(t);cc(t,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(Nn(v,""),s.flags&=-33);var S=of(t);cc(t,S,v);break;case 3:case 4:var C=s.stateNode.containerInfo,F=of(t);lf(t,F,C);break;default:throw Error(a(161))}}catch(Z){ot(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Dr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vy(t,i.alternate,i),i=i.sibling}function Ba(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ba(i);break;case 1:yi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Dy(i,i.return,s),Ba(i);break;case 27:Tl(i.stateNode);case 26:case 5:yi(i,i.return),Ba(i);break;case 22:i.memoizedState===null&&Ba(i);break;case 30:Ba(i);break;default:Ba(i)}t=t.sibling}}function kr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:kr(h,f,s),hl(4,f);break;case 1:if(kr(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ot(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)mg(C[h],S)}catch(F){ot(l,l.return,F)}}s&&v&64&&Iy(f),dl(f,f.return);break;case 27:Ny(f);case 26:case 5:kr(h,f,s),s&&l===null&&v&4&&ky(f),dl(f,f.return);break;case 12:kr(h,f,s);break;case 13:kr(h,f,s),s&&v&4&&Uy(h,f);break;case 22:f.memoizedState===null&&kr(h,f,s),dl(f,f.return);break;case 30:break;default:kr(h,f,s)}i=i.sibling}}function hf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&$o(s))}function df(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function _i(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)By(t,i,s,l),i=i.sibling}function By(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:_i(t,i,s,l),h&2048&&hl(9,i);break;case 1:_i(t,i,s,l);break;case 3:_i(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){_i(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ot(i,i.return,C)}}else _i(t,i,s,l);break;case 13:_i(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?_i(t,i,s,l):fl(t,i):f._visibility&2?_i(t,i,s,l):(f._visibility|=2,Os(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&hf(v,i);break;case 24:_i(t,i,s,l),h&2048&&df(i.alternate,i);break;default:_i(t,i,s,l)}}function Os(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,S=s,C=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Os(f,v,S,C,h),hl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Os(f,v,S,C,h):fl(f,v):(Z._visibility|=2,Os(f,v,S,C,h)),h&&F&2048&&hf(v.alternate,v);break;case 24:Os(f,v,S,C,h),h&&F&2048&&df(v.alternate,v);break;default:Os(f,v,S,C,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:fl(s,l),h&2048&&hf(l.alternate,l);break;case 24:fl(s,l),h&2048&&df(l.alternate,l);break;default:fl(s,l)}i=i.sibling}}var pl=8192;function Ns(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 26:Ns(t),t.flags&pl&&t.memoizedState!==null&&IS(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ns(t);break;case 3:case 4:var i=Xn;Xn=bc(t.stateNode.containerInfo),Ns(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,Ns(t),pl=i):Ns(t));break;default:Ns(t)}}function qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,Gy(l,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):ml(t);break;default:ml(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,Gy(l,t)}qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),hc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function Gy(t,i){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:Ir(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qt=l;else e:for(s=t;qt!==null;){l=qt;var h=l.sibling,f=l.return;if(Py(l),l===s){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var G1={getCacheForType:function(t){var i=nn(Pt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},K1=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,Ue=null,Ge=0,tt=0,Rn=null,Or=!1,Ms=!1,ff=!1,er=0,Tt=0,Nr=0,Ha=0,pf=0,Hn=0,Vs=0,gl=null,yn=null,mf=!1,gf=0,dc=1/0,fc=null,Mr=null,Xt=0,Vr=null,Ps=null,Ls=0,yf=0,_f=null,Ky=null,yl=0,vf=null;function Cn(){if((et&2)!==0&&Ge!==0)return Ge&-Ge;if(G.T!==null){var t=As;return t!==0?t:xf()}return gr()}function Yy(){Hn===0&&(Hn=(Ge&536870912)===0||We?xo():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),Hn}function In(t,i,s){(t===lt&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Us(t,0),Pr(t,Ge,Hn,!1)),Oi(t,s),((et&2)===0||t!==lt)&&(t===lt&&((et&2)===0&&(Ha|=s),Tt===4&&Pr(t,Ge,Hn,!1)),vi(t))}function Qy(t,i,s){if((et&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||pa(t,i),h=l?W1(t,i):Sf(t,i,!0),f=l;do{if(h===0){Ms&&!l&&Pr(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!Y1(s)){h=Sf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=gl;var C=S.current.memoizedState.isDehydrated;if(C&&(Us(S,v).flags|=256),v=Sf(S,v,!1),v!==2){if(ff&&!C){S.errorRecoveryDisabledLanes|=f,Ha|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Us(t,0),Pr(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,Hn,!Or);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=gf+300-Me(),10<h)){if(Pr(l,i,Hn,!Or),ts(l,0,!0)!==0)break e;l.timeoutHandle=b_(Wy.bind(null,l,s,yn,fc,mf,i,Hn,Ha,Vs,Or,f,2,-0,0),h);break e}Wy(l,s,yn,fc,mf,i,Hn,Ha,Vs,Or,f,0,-0,0)}}break}while(!0);vi(t)}function Wy(t,i,s,l,h,f,v,S,C,F,Z,te,K,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:CS},Hy(i),te=DS(),te!==null)){t.cancelPendingCommit=te(n_.bind(null,t,i,f,s,l,h,v,S,C,Z,1,K,Y)),Pr(t,f,v,!F);return}n_(t,i,f,s,l,h,v,S,C)}function Y1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,s,l){i&=~pf,i&=~Ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-tn(h),v=1<<f;l[f]=-1,h&=~v}s!==0&&ri(t,s,i)}function pc(){return(et&6)===0?(_l(0),!1):!0}function Ef(){if(Ue!==null){if(tt===0)var t=Ue.return;else t=Ue,Ki=Pa=null,Pd(t),Ds=null,ll=0,t=Ue;for(;t!==null;)Cy(t.alternate,t),t=t.return;Ue=null}}function Us(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ef(),lt=t,Ue=s=qi(t.current,null),Ge=i,tt=0,Rn=null,Or=!1,Ms=pa(t,i),ff=!1,Vs=Hn=pf=Ha=Nr=Tt=0,yn=gl=null,mf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),f=1<<h;i|=t[h],l&=~f}return er=i,Pu(),s}function Xy(t,i){Pe=null,G.H=tc,i===Jo||i===Gu?(i=fg(),tt=3):i===cg?(i=fg(),tt=4):tt=i===py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ue===null&&(Tt=1,sc(t,Ln(i,t.current)))}function $y(){var t=G.H;return G.H=tc,t===null?tc:t}function Zy(){var t=G.A;return G.A=G1,t}function Tf(){Tt=4,Or||(Ge&4194048)!==Ge&&Bn.current!==null||(Ms=!0),(Nr&134217727)===0&&(Ha&134217727)===0||lt===null||Pr(lt,Ge,Hn,!1)}function Sf(t,i,s){var l=et;et|=2;var h=$y(),f=Zy();(lt!==t||Ge!==i)&&(fc=null,Us(t,i)),i=!1;var v=Tt;e:do try{if(tt!==0&&Ue!==null){var S=Ue,C=Rn;switch(tt){case 8:Ef(),v=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var F=tt;if(tt=0,Rn=null,zs(t,S,C,F),s&&Ms){v=0;break e}break;default:F=tt,tt=0,Rn=null,zs(t,S,C,F)}}Q1(),v=Tt;break}catch(Z){Xy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ki=Pa=null,et=l,G.H=h,G.A=f,Ue===null&&(lt=null,Ge=0,Pu()),v}function Q1(){for(;Ue!==null;)Jy(Ue)}function W1(t,i){var s=et;et|=2;var l=$y(),h=Zy();lt!==t||Ge!==i?(fc=null,dc=Me()+500,Us(t,i)):Ms=pa(t,i);e:do try{if(tt!==0&&Ue!==null){i=Ue;var f=Rn;t:switch(tt){case 1:tt=0,Rn=null,zs(t,i,f,1);break;case 2:case 9:if(hg(f)){tt=0,Rn=null,e_(i);break}i=function(){tt!==2&&tt!==9||lt!==t||(tt=7),vi(t)},f.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:hg(f)?(tt=0,Rn=null,e_(i)):(tt=0,Rn=null,zs(t,i,f,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var S=Ue;if(!v||V_(v)){tt=0,Rn=null;var C=S.sibling;if(C!==null)Ue=C;else{var F=S.return;F!==null?(Ue=F,mc(F)):Ue=null}break t}}tt=0,Rn=null,zs(t,i,f,5);break;case 6:tt=0,Rn=null,zs(t,i,f,6);break;case 8:Ef(),Tt=6;break e;default:throw Error(a(462))}}X1();break}catch(Z){Xy(t,Z)}while(!0);return Ki=Pa=null,G.H=l,G.A=h,et=s,Ue!==null?0:(lt=null,Ge=0,Pu(),Tt)}function X1(){for(;Ue!==null&&!ee();)Jy(Ue)}function Jy(t){var i=xy(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?mc(t):Ue=i}function e_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Ey(s,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=Ey(s,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:Pd(i);default:Cy(s,i),i=Ue=tg(i,er),i=xy(s,i,er)}t.memoizedProps=t.pendingProps,i===null?mc(t):Ue=i}function zs(t,i,s,l){Ki=Pa=null,Pd(i),Ds=null,ll=0;var h=i.return;try{if(z1(t,h,i,s,Ge)){Tt=1,sc(t,Ln(s,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Tt=1,sc(t,Ln(s,t.current)),Ue=null;return}i.flags&32768?(We||l===1?t=!0:Ms||(Ge&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,t)):mc(i)}function mc(t){var i=t;do{if((i.flags&32768)!==0){t_(i,Or);return}t=i.return;var s=B1(i.alternate,i,er);if(s!==null){Ue=s;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);Tt===0&&(Tt=5)}function t_(t,i){do{var s=H1(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);Tt=6,Ue=null}function n_(t,i,s,l,h,f,v,S,C){t.cancelPendingCommit=null;do gc();while(Xt!==0);if((et&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=hd,Co(t,s,f,v,S,C),t===lt&&(Ue=lt=null,Ge=0),Ps=i,Vr=t,Ls=s,yf=f,_f=h,Ky=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eS(kn,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=le.p,le.p=2,v=et,et|=4;try{q1(t,i,s)}finally{et=v,le.p=h,G.T=l}}Xt=1,i_(),r_(),a_()}}function i_(){if(Xt===1){Xt=0;var t=Vr,i=Ps,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=le.p;le.p=2;var h=et;et|=4;try{zy(i,t);var f=Mf,v=Gm(t.containerInfo),S=f.focusedElem,C=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&Fm(S.ownerDocument.documentElement,S)){if(C!==null&&sd(S)){var F=C.start,Z=C.end;if(Z===void 0&&(Z=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var Y=K.getSelection(),Ie=S.textContent.length,Ae=Math.min(C.start,Ie),at=C.end===void 0?Ae:Math.min(C.end,Ie);!Y.extend&&Ae>at&&(v=at,at=Ae,Ae=v);var z=qm(S,Ae),V=qm(S,at);if(z&&V&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var q=te.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),Ae>at?(Y.addRange(q),Y.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Y.addRange(q))}}}}for(te=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cc=!!Nf,Mf=Nf=null}finally{et=h,le.p=l,G.T=s}}t.current=i,Xt=2}}function r_(){if(Xt===2){Xt=0;var t=Vr,i=Ps,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=le.p;le.p=2;var h=et;et|=4;try{Vy(t,i.alternate,i)}finally{et=h,le.p=l,G.T=s}}Xt=3}}function a_(){if(Xt===4||Xt===3){Xt=0,_e();var t=Vr,i=Ps,s=Ls,l=Ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,Ps=Vr=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mr=null),ns(s),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(vt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=le.p,le.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];f(S.value,{componentStack:S.stack})}}finally{G.T=i,le.p=h}}(Ls&3)!==0&&gc(),vi(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===vf?yl++:(yl=0,vf=t):yl=0,_l(0)}}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function gc(t){return i_(),r_(),a_(),o_()}function o_(){if(Xt!==5)return!1;var t=Vr,i=yf;yf=0;var s=ns(Ls),l=G.T,h=le.p;try{le.p=32>s?32:s,G.T=null,s=_f,_f=null;var f=Vr,v=Ls;if(Xt=0,Ps=Vr=null,Ls=0,(et&6)!==0)throw Error(a(331));var S=et;if(et|=4,Fy(f.current),By(f,f.current,v,s),et=S,_l(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(vt,f)}catch{}return!0}finally{le.p=h,G.T=l,s_(t,i)}}function l_(t,i,s){i=Ln(s,i),i=Xd(t.stateNode,i,2),t=wr(t,i,2),t!==null&&(Oi(t,2),vi(t))}function ot(t,i,s){if(t.tag===3)l_(t,t,s);else for(;i!==null;){if(i.tag===3){l_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){t=Ln(s,t),s=dy(2),l=wr(i,s,2),l!==null&&(fy(s,l,i,t),Oi(l,2),vi(l));break}}i=i.return}}function bf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new K1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(ff=!0,h.add(s),t=$1.bind(null,t,i,s),i.then(t,t))}function $1(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,lt===t&&(Ge&s)===s&&(Tt===4||Tt===3&&(Ge&62914560)===Ge&&300>Me()-gf?(et&2)===0&&Us(t,0):pf|=s,Vs===Ge&&(Vs=0)),vi(t)}function u_(t,i){i===0&&(i=Ro()),t=Es(t,i),t!==null&&(Oi(t,i),vi(t))}function Z1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),u_(t,s)}function J1(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),u_(t,s)}function eS(t,i){return Ot(t,i)}var yc=null,js=null,Af=!1,_c=!1,wf=!1,qa=0;function vi(t){t!==js&&t.next===null&&(js===null?yc=js=t:js=js.next=t),_c=!0,Af||(Af=!0,nS())}function _l(t,i){if(!wf&&_c){wf=!0;do for(var s=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=h&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,f_(l,f))}else f=Ge,f=ts(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||pa(l,f)||(s=!0,f_(l,f));l=l.next}while(s);wf=!1}}function tS(){c_()}function c_(){_c=Af=!1;var t=0;qa!==0&&(cS()&&(t=qa),qa=0);for(var i=Me(),s=null,l=yc;l!==null;){var h=l.next,f=h_(l,i);f===0?(l.next=null,s===null?yc=h:s.next=h,h===null&&(js=s)):(s=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}_l(t)}function h_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-tn(f),S=1<<v,C=h[v];C===-1?((S&s)===0||(S&l)!==0)&&(h[v]=wo(S,i)):C<=i&&(t.expiredLanes|=S),f&=~S}if(i=lt,s=Ge,s=ts(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&W(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pa(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&W(l),ns(s)){case 2:case 8:s=Ze;break;case 32:s=kn;break;case 268435456:s=ii;break;default:s=kn}return l=d_.bind(null,t),s=Ot(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&W(l),t.callbackPriority=2,t.callbackNode=null,2}function d_(t,i){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(gc()&&t.callbackNode!==s)return null;var l=Ge;return l=ts(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qy(t,l,i),h_(t,Me()),t.callbackNode!=null&&t.callbackNode===s?d_.bind(null,t):null)}function f_(t,i){if(gc())return null;Qy(t,i,!0)}function nS(){dS(function(){(et&6)!==0?Ot(st,tS):c_()})}function xf(){return qa===0&&(qa=xo()),qa}function p_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ls(""+t)}function m_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function iS(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=p_((h[xt]||null).action),v=l.submitter;v&&(i=(i=v[xt]||null)?p_(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var S=new us("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qa!==0){var C=v?m_(h,v):new FormData(h);Gd(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=v?m_(h,v):new FormData(h),Gd(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Rf=0;Rf<cd.length;Rf++){var Cf=cd[Rf],rS=Cf.toLowerCase(),aS=Cf[0].toUpperCase()+Cf.slice(1);Wn(rS,"on"+aS)}Wn(Qm,"onAnimationEnd"),Wn(Wm,"onAnimationIteration"),Wn(Xm,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(S1,"onTransitionRun"),Wn(b1,"onTransitionStart"),Wn(A1,"onTransitionCancel"),Wn($m,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function g_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,F=S.currentTarget;if(S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(Z){ac(Z)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,F=S.currentTarget,S=S.listener,C!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(Z){ac(Z)}h.currentTarget=null,f=C}}}}function ze(t,i){var s=i[Do];s===void 0&&(s=i[Do]=new Set);var l=t+"__bubble";s.has(l)||(y_(i,t,2,!1),s.add(l))}function If(t,i,s){var l=0;i&&(l|=4),y_(s,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[vc]){t[vc]=!0,ko.forEach(function(s){s!=="selectionchange"&&(sS.has(s)||If(s,!1,t),If(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,If("selectionchange",!1,i))}}function y_(t,i,s,l){switch(B_(i)){case 2:var h=NS;break;case 8:h=MS;break;default:h=Ff}s=h.bind(null,i,s,t),h=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function kf(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Ni(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}S=S.parentNode}}l=l.return}Tu(function(){var F=f,Z=Mn(s),te=[];e:{var K=Zm.get(t);if(K!==void 0){var Y=us,Ie=t;switch(t){case"keypress":if(ci(s)===0)break e;case"keydown":case"keyup":Y=ms;break;case"focusin":Ie="focus",Y=ds;break;case"focusout":Ie="blur",Y=ds;break;case"beforeblur":case"afterblur":Y=ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Iu;break;case Qm:case Wm:case Xm:Y=fs;break;case $m:Y=ku;break;case"scroll":case"scrollend":Y=Su;break;case"wheel":Y=gs;break;case"copy":case"cut":case"paste":Y=ps;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qo;break;case"toggle":case"beforetoggle":Y=Nu}var Ae=(i&4)!==0,at=!Ae&&(t==="scroll"||t==="scrollend"),z=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var V=F,q;V!==null;){var J=V;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=Sa(V,z),J!=null&&Ae.push(El(V,J,q))),at)break;V=V.return}0<Ae.length&&(K=new Y(K,Ie,null,s,Z),te.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&s!==Li&&(Ie=s.relatedTarget||s.fromElement)&&(Ni(Ie)||Ie[On]))break e;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(Ie=s.relatedTarget||s.toElement,Y=F,Ie=Ie?Ni(Ie):null,Ie!==null&&(at=u(Ie),Ae=Ie.tag,Ie!==at||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):(Y=null,Ie=F),Y!==Ie)){if(Ae=Pn,J="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=qo,J="onPointerLeave",z="onPointerEnter",V="pointer"),at=Y==null?K:si(Y),q=Ie==null?K:si(Ie),K=new Ae(J,V+"leave",Y,s,Z),K.target=at,K.relatedTarget=q,J=null,Ni(Z)===F&&(Ae=new Ae(z,V+"enter",Ie,s,Z),Ae.target=q,Ae.relatedTarget=at,J=Ae),at=J,Y&&Ie)t:{for(Ae=Y,z=Ie,V=0,q=Ae;q;q=Bs(q))V++;for(q=0,J=z;J;J=Bs(J))q++;for(;0<V-q;)Ae=Bs(Ae),V--;for(;0<q-V;)z=Bs(z),q--;for(;V--;){if(Ae===z||z!==null&&Ae===z.alternate)break t;Ae=Bs(Ae),z=Bs(z)}Ae=null}else Ae=null;Y!==null&&__(te,K,Y,Ae,!1),Ie!==null&&at!==null&&__(te,at,Ie,Ae,!0)}}e:{if(K=F?si(F):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var me=Lm;else if(Vt(K))if(Um)me=v1;else{me=y1;var Le=g1}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Po(F.elementType)&&(me=Lm):me=_1;if(me&&(me=me(t,F))){Hi(te,me,s,Z);break e}Le&&Le(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Er(K,"number",K.value)}switch(Le=F?si(F):window,t){case"focusin":(Vt(Le)||Le.contentEditable==="true")&&(ys=Le,od=F,Ko=null);break;case"focusout":Ko=od=ys=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Km(te,s,Z);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":Km(te,s,Z)}var Ee;if(fi)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else qe?$(t,s)&&(xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(_&&s.locale!=="ko"&&(qe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&qe&&(Ee=Uo()):(ui=Z,Tr="value"in ui?ui.value:ui.textContent,qe=!0)),Le=Ec(F,xe),0<Le.length&&(xe=new Bo(xe,t,null,s,Z),te.push({event:xe,listeners:Le}),Ee?xe.data=Ee:(Ee=he(s),Ee!==null&&(xe.data=Ee)))),(Ee=m?Mt(t,s):Fe(t,s))&&(xe=Ec(F,"onBeforeInput"),0<xe.length&&(Le=new Bo("onBeforeInput","beforeinput",null,s,Z),te.push({event:Le,listeners:xe}),Le.data=Ee)),iS(te,t,F,s,Z)}g_(te,i)})}function El(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ec(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Sa(t,s),h!=null&&l.unshift(El(t,h,f)),h=Sa(t,i),h!=null&&l.push(El(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,i,s,l,h){for(var f=i._reactName,v=[];s!==null&&s!==l;){var S=s,C=S.alternate,F=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||F===null||(C=F,h?(F=Sa(s,f),F!=null&&v.unshift(El(s,F,C))):h||(F=Sa(s,f),F!=null&&v.push(El(s,F,C)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(oS,`
`).replace(lS,"")}function E_(t,i){return i=v_(i),v_(t)===i}function Tc(){}function rt(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":oi(t,"class",l);break;case"tabIndex":oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(t,s,l);break;case"style":Vo(t,l,f);break;case"data":if(i!=="object"){oi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ls(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ls(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ls(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ed.get(s)||s,vr(t,s,l))}}function Of(t,i,s,l,h,f){switch(s){case"style":Vo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[xt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):vr(t,s,l)}}}function $t(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,f,v,s,null)}}h&&rt(t,i,"srcSet",s.srcSet,s,null),l&&rt(t,i,"src",s.src,s,null);return;case"input":ze("invalid",t);var S=f=v=h=null,C=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":C=Z;break;case"defaultChecked":F=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:rt(t,i,l,Z,s,null)}}va(t,f,S,C,F,v,h,!1),os(t);return;case"select":ze("invalid",t),l=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:rt(t,i,h,S,s,null)}i=f,s=v,t.multiple=!!l,i!=null?Pi(t,!!l,i,!1):s!=null&&Pi(t,!!l,s,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:rt(t,i,v,S,s,null)}Ea(t,l,h,f),os(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,C,l,s,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)ze(vl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,F,l,s,null)}return;default:if(Po(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Of(t,i,Z,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&rt(t,i,S,l,s,null))}function uS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,S=null,C=null,F=null,Z=null;for(Y in s){var te=s[Y];if(s.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(Y)||rt(t,i,Y,null,l,te)}}for(var K in l){var Y=l[K];if(te=s[K],l.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":f=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":Z=Y;break;case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Y!==te&&rt(t,i,K,Y,l,te)}}Sn(t,v,S,C,F,Z,f,h);return;case"select":Y=v=S=K=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(f)||rt(t,i,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":K=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==C&&rt(t,i,h,f,l,C)}i=S,s=v,l=Y,K!=null?Pi(t,!!s,K,!1):!!l!=!!s&&(i!=null?Pi(t,!!s,i,!0):Pi(t,!!s,s?[]:"",!1));return;case"textarea":Y=K=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(t,i,S,null,l,h)}for(v in l)if(h=l[v],f=s[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,i,v,h,l,f)}nt(t,K,Y);return;case"option":for(var Ie in s)if(K=s[Ie],s.hasOwnProperty(Ie)&&K!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:rt(t,i,Ie,null,l,K)}for(C in l)if(K=l[C],Y=s[C],l.hasOwnProperty(C)&&K!==Y&&(K!=null||Y!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:rt(t,i,C,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)K=s[Ae],s.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&rt(t,i,Ae,null,l,K);for(F in l)if(K=l[F],Y=s[F],l.hasOwnProperty(F)&&K!==Y&&(K!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:rt(t,i,F,K,l,Y)}return;default:if(Po(i)){for(var at in s)K=s[at],s.hasOwnProperty(at)&&K!==void 0&&!l.hasOwnProperty(at)&&Of(t,i,at,void 0,l,K);for(Z in l)K=l[Z],Y=s[Z],!l.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||Of(t,i,Z,K,l,Y);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&rt(t,i,z,null,l,K);for(te in l)K=l[te],Y=s[te],!l.hasOwnProperty(te)||K===Y||K==null&&Y==null||rt(t,i,te,K,l,Y)}var Nf=null,Mf=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pf=null;function cS(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(fS)}:b_;function fS(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function w_(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&Tl(v.documentElement),s&2&&Tl(v.body),s&4)for(s=v.head,Tl(s),v=s.firstChild;v;){var S=v.nextSibling,C=v.nodeName;v[ma]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=S}}if(h===0){t.removeChild(f),Il(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Il(i)}function Lf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lf(s),_r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function pS(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ma])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function mS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=$n(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function gS(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var zf=null;function x_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function R_(t,i,s){switch(i=Sc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_r(t)}var qn=new Map,C_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=le.d;le.d={f:yS,r:_S,D:vS,C:ES,L:TS,m:SS,X:AS,S:bS,M:wS};function yS(){var t=tr.f(),i=pc();return t||i}function _S(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?Qg(i):tr.r(t)}var Hs=typeof document>"u"?null:document;function I_(t,i,s){var l=Hs;if(l&&typeof i=="string"&&i){var h=Rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),C_.has(h)||(C_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$t(i,"link",t),St(i),l.head.appendChild(i)))}}function vS(t){tr.D(t),I_("dns-prefetch",t,null)}function ES(t,i){tr.C(t,i),I_("preconnect",t,i)}function TS(t,i,s){tr.L(t,i,s);var l=Hs;if(l&&t&&i){var h='link[rel="preload"][as="'+Rt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Rt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Rt(s.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var f=h;switch(i){case"style":f=qs(t);break;case"script":f=Fs(t)}qn.has(f)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),qn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(f))||i==="script"&&l.querySelector(bl(f))||(i=l.createElement("link"),$t(i,"link",t),St(i),l.head.appendChild(i)))}}function SS(t,i){tr.m(t,i);var s=Hs;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fs(t)}if(!qn.has(f)&&(t=T({rel:"modulepreload",href:t},i),qn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bl(f)))return}l=s.createElement("link"),$t(l,"link",t),St(l),s.head.appendChild(l)}}}function bS(t,i,s){tr.S(t,i,s);var l=Hs;if(l&&t){var h=cn(l).hoistableStyles,f=qs(t);i=i||"default";var v=h.get(f);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Sl(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=qn.get(f))&&jf(t,s);var C=v=l.createElement("link");St(C),$t(C,"link",t),C._p=new Promise(function(F,Z){C.onload=F,C.onerror=Z}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ac(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(f,v)}}}function AS(t,i){tr.X(t,i);var s=Hs;if(s&&t){var l=cn(s).hoistableScripts,h=Fs(t),f=l.get(h);f||(f=s.querySelector(bl(h)),f||(t=T({src:t,async:!0},i),(i=qn.get(h))&&Bf(t,i),f=s.createElement("script"),St(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function wS(t,i){tr.M(t,i);var s=Hs;if(s&&t){var l=cn(s).hoistableScripts,h=Fs(t),f=l.get(h);f||(f=s.querySelector(bl(h)),f||(t=T({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&Bf(t,i),f=s.createElement("script"),St(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function D_(t,i,s,l){var h=(h=Te.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=qs(s.href),s=cn(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qs(s.href);var f=cn(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Sl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),qn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(t,s),f||xS(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fs(s),s=cn(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qs(t){return'href="'+Rt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function xS(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",s),St(i),t.head.appendChild(i))}function Fs(t){return'[src="'+Rt(t)+'"]'}function bl(t){return"script[async]"+t}function O_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Rt(s.href)+'"]');if(l)return i.instance=l,St(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),$t(l,"style",h),Ac(l,s.precedence,t),i.instance=l;case"stylesheet":h=qs(s.href);var f=t.querySelector(Sl(h));if(f)return i.state.loading|=4,i.instance=f,St(f),f;l=k_(s),(h=qn.get(h))&&jf(l,h),f=(t.ownerDocument||t).createElement("link"),St(f);var v=f;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),$t(f,"link",l),i.state.loading|=4,Ac(f,s.precedence,t),i.instance=f;case"script":return f=Fs(s.src),(h=t.querySelector(bl(f)))?(i.instance=h,St(h),h):(l=s,(h=qn.get(f))&&(l=T({},s),Bf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),$t(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,s.precedence,t));return i.instance}function Ac(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function jf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function N_(t,i,s){if(wc===null){var l=new Map,h=wc=new Map;h.set(s,l)}else h=wc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ma]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(f):l.set(v,[f])}}return l}function M_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function RS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function CS(){}function IS(t,i,s){if(Al===null)throw Error(a(475));var l=Al;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qs(s.href),f=t.querySelector(Sl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,St(f);return}f=t.ownerDocument||t,s=k_(s),(h=qn.get(h))&&jf(s,h),f=f.createElement("link"),St(f);var v=f;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),$t(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=xc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function DS(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&Hf(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Hf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(kS,t),Rc=null,xc.call(t))}function kS(t,i){if(!(i.state.loading&4)){var s=Rc.get(t);if(s)var l=s.get(null);else{s=new Map,Rc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,h),s.set(v,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:X,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function OS(t,i,s,l,h,f,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function P_(t,i,s,l,h,f,v,S,C,F,Z,te){return t=new OS(t,i,s,v,S,C,F,te),i=1,f===!0&&(i|=24),f=An(3,null,null,i),t.current=f,f.stateNode=t,i=Sd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},xd(f),t}function L_(t){return t?(t=Ts,t):Ts}function U_(t,i,s,l,h,f){h=L_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=wr(t,l,i),s!==null&&(In(s,t,i),tl(s,t,i))}function z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function qf(t,i){z_(t,i),(t=t.alternate)&&z_(t,i)}function j_(t){if(t.tag===13){var i=Es(t,67108864);i!==null&&In(i,t,67108864),qf(t,67108864)}}var Cc=!0;function NS(t,i,s,l){var h=G.T;G.T=null;var f=le.p;try{le.p=2,Ff(t,i,s,l)}finally{le.p=f,G.T=h}}function MS(t,i,s,l){var h=G.T;G.T=null;var f=le.p;try{le.p=8,Ff(t,i,s,l)}finally{le.p=f,G.T=h}}function Ff(t,i,s,l){if(Cc){var h=Gf(l);if(h===null)kf(t,i,l,Ic,s),H_(t,l);else if(PS(h,t,i,s,l))l.stopPropagation();else if(H_(t,l),i&4&&-1<VS.indexOf(t)){for(;h!==null;){var f=ai(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Kn(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-tn(v);S.entanglements[1]|=C,v&=~C}vi(f),(et&6)===0&&(dc=Me()+500,_l(0))}}break;case 13:S=Es(f,2),S!==null&&In(S,f,2),pc(),qf(f,2)}if(f=Gf(l),f===null&&kf(t,i,l,Ic,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else kf(t,i,l,null,s)}}function Gf(t){return t=Mn(t),Kf(t)}var Ic=null;function Kf(t){if(Ic=null,t=Ni(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ic=t,null}function B_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case st:return 2;case Ze:return 8;case kn:case bo:return 32;case ii:return 268435456;default:return 32}default:return 32}}var Yf=!1,Ur=null,zr=null,jr=null,xl=new Map,Rl=new Map,Br=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=ai(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function PS(t,i,s,l,h){switch(i){case"focusin":return Ur=Cl(Ur,t,i,s,l,h),!0;case"dragenter":return zr=Cl(zr,t,i,s,l,h),!0;case"mouseover":return jr=Cl(jr,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Cl(xl.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Cl(Rl.get(f)||null,t,i,s,l,h)),!0}return!1}function q_(t){var i=Ni(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,pu(t.priority,function(){if(s.tag===13){var l=Cn();l=mr(l);var h=Es(s,l);h!==null&&In(h,s,l),qf(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Gf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Li=l,s.target.dispatchEvent(l),Li=null}else return i=ai(s),i!==null&&j_(i),t.blockedOn=s,!1;i.shift()}return!0}function F_(t,i,s){Dc(t)&&s.delete(i)}function LS(){Yf=!1,Ur!==null&&Dc(Ur)&&(Ur=null),zr!==null&&Dc(zr)&&(zr=null),jr!==null&&Dc(jr)&&(jr=null),xl.forEach(F_),Rl.forEach(F_)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LS)))}var Oc=null;function G_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kf(l||s)===null)continue;break}var f=ai(s);f!==null&&(t.splice(i,3),i-=3,Gd(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Il(t){function i(C){return kc(C,t)}Ur!==null&&kc(Ur,t),zr!==null&&kc(zr,t),jr!==null&&kc(jr,t),xl.forEach(i),Rl.forEach(i);for(var s=0;s<Br.length;s++){var l=Br[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Br.length&&(s=Br[0],s.blockedOn===null);)q_(s),s.blockedOn===null&&Br.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],v=h[xt]||null;if(typeof f=="function")v||G_(s);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[xt]||null)S=v.formAction;else if(Kf(h)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),G_(s)}}}function Qf(t){this._internalRoot=t}Nc.prototype.render=Qf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Cn();U_(s,l,t,i,null,null)},Nc.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;U_(t.current,2,null,t,null,null),pc(),i[On]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Br.length&&i!==0&&i<Br[s].priority;s++);Br.splice(s,0,t),s===0&&q_(t)}};var K_=e.version;if(K_!=="19.1.0")throw Error(a(527,K_,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var US={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{vt=Mc.inject(US),Je=Mc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=ly,f=uy,v=cy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=P_(t,1,!1,null,null,s,l,h,f,v,S,null),t[On]=i.current,Df(t),new Qf(i)},kl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=ly,v=uy,S=cy,C=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=P_(t,1,!0,i,s??null,l,h,f,v,S,C,F),i.context=L_(null),s=i.current,l=Cn(),l=mr(l),h=Ar(l),h.callback=null,wr(s,h,l),s=l,i.current.lanes=s,Oi(i,s),vi(i),t[On]=i.current,Df(t),new Nc(i)},kl.version="19.1.0",kl}var nv;function WS(){if(nv)return $f.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$f.exports=QS(),$f.exports}var XS=WS();const $S=P0(XS),ZS=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JS=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],y=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,T=u>>2,x=(u&3)<<4|p>>4;let R=(p&15)<<2|g>>6,k=g&63;y||(k=64,d||(R=64)),a.push(n[T],n[x],n[R],n[k])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||x==null)throw new eb;const R=u<<2|p>>4;if(a.push(R),g!==64){const k=p<<4&240|g>>2;if(a.push(k),x!==64){const H=g<<6&192|x;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(r){const e=L0(r);return U0.encodeByteArray(e,!0)},th=function(r){return tb(r).replace(/\./g,"")},z0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=()=>nb().__FIREBASE_DEFAULTS__,rb=()=>{if(typeof process>"u"||typeof iv>"u")return;const r=iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ab=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return ZS()||ib()||rb()||ab()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>Sh()?.emulatorHosts?.[r],sb=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},B0=()=>Sh()?.config,H0=r=>Sh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(n)),th(JSON.stringify(d)),""].join(".")}const zl={};function ub(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function cb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let rv=!1;function F0(r,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||zl[r]===e||zl[r]||rv)return;zl[r]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=ub().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{rv=!0,d()},R}function T(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function x(){const R=cb(a),k=n("text"),H=document.getElementById(k)||document.createElement("span"),P=n("learnmore"),U=document.getElementById(P)||document.createElement("a"),Q=n("preprendIcon"),se=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const X=R.element;p(X),T(U,P);const oe=g();y(se,Q),X.append(se,H,U,oe),document.body.appendChild(X)}u?(H.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function db(){const r=Sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yb(){return!db()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _b(){try{return typeof indexedDB=="object"}catch{return!1}}function vb(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="FirebaseError";class fr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Eb,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?Tb(u,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new fr(o,p,a)}}function Tb(r,e){return r.replace(Sb,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Sb=/\{\$([^}]+)}/g;function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ka(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],d=e[o];if(av(u)&&av(d)){if(!Ka(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ml(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ab(r,e){const n=new wb(r,e);return n.subscribe.bind(n)}class wb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");xb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=tp),o.error===void 0&&(o.error=tp),o.complete===void 0&&(o.complete=tp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r){return r&&r._delegate?r._delegate:r}class Ya{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new ob;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ib(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Cb(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cb(r){return r===Fa?void 0:r}function Ib(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const kb={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Ob=je.INFO,Nb={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Mb=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Nb[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=Ob,this._logHandler=Mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Vb=(r,e)=>e.some(n=>r instanceof n);let sv,ov;function Pb(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,mp=new WeakMap,K0=new WeakMap,np=new WeakMap,Fp=new WeakMap;function Ub(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Xr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,r)}).catch(()=>{}),Fp.set(e,r),e}function zb(r){if(mp.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});mp.set(r,e)}let gp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jb(r){gp=r(gp)}function Bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(ip(this),e,...n);return K0.set(a,e.sort?e.sort():[e]),Xr(a)}:Lb().includes(r)?function(...e){return r.apply(ip(this),e),Xr(G0.get(this))}:function(...e){return Xr(r.apply(ip(this),e))}}function Hb(r){return typeof r=="function"?Bb(r):(r instanceof IDBTransaction&&zb(r),Vb(r,Pb())?new Proxy(r,gp):r)}function Xr(r){if(r instanceof IDBRequest)return Ub(r);if(np.has(r))return np.get(r);const e=Hb(r);return e!==r&&(np.set(r,e),Fp.set(e,r)),e}const ip=r=>Fp.get(r);function qb(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=Xr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Xr(d.result),y.oldVersion,y.newVersion,Xr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Fb=["get","getKey","getAll","getAllKeys","count"],Gb=["put","add","delete","clear"],rp=new Map;function lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Gb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Fb.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&y.done]))[0]};return rp.set(e,u),u}jb(r=>({...r,get:(e,n,a)=>lv(e,n)||r.get(e,n,a),has:(e,n)=>!!lv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yb(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Yb(r){return r.getComponent()?.type==="VERSION"}const yp="@firebase/app",uv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new qp("@firebase/app"),Qb="@firebase/app-compat",Wb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Zb="@firebase/app-check",Jb="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",rA="@firebase/functions",aA="@firebase/functions-compat",sA="@firebase/installations",oA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",pA="@firebase/storage",mA="@firebase/storage-compat",gA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",EA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",TA={[yp]:"fire-core",[Qb]:"fire-core-compat",[Xb]:"fire-analytics",[Wb]:"fire-analytics-compat",[Zb]:"fire-app-check",[$b]:"fire-app-check-compat",[Jb]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[rA]:"fire-fn",[aA]:"fire-fn-compat",[sA]:"fire-iid",[oA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[pA]:"fire-gcs",[mA]:"fire-gcs-compat",[gA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,SA=new Map,vp=new Map;function cv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(vp.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const n of nh.values())cv(n,r);for(const n of SA.values())cv(n,r);return!0}function Gp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new tu("app","Firebase",bA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=EA;function Y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:_p,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(n||(n=B0()),!n)throw $r.create("no-options");const u=nh.get(o);if(u){if(Ka(n,u.options)&&Ka(a,u.config))return u;throw $r.create("duplicate-app",{appName:o})}const d=new Db(o);for(const y of vp.values())d.addComponent(y);const p=new AA(n,a,d);return nh.set(o,p),p}function Q0(r=_p){const e=nh.get(r);if(!e&&r===_p&&B0())return Y0();if(!e)throw $r.create("no-app",{appName:r});return e}function Zr(r,e,n){let a=TA[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(d.join(" "));return}no(new Ya(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",xA=1,Gl="firebase-heartbeat-store";let ap=null;function W0(){return ap||(ap=qb(wA,xA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),ap}async function RA(r){try{const n=(await W0()).transaction(Gl),a=await n.objectStore(Gl).get(X0(r));return await n.done,a}catch(e){if(e instanceof fr)lr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function hv(r,e){try{const a=(await W0()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,X0(r)),await a.done}catch(n){if(n instanceof fr)lr.warn(n.message);else{const a=$r.create("idb-set",{originalErrorMessage:n?.message});lr.warn(a.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,IA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>IA){const o=NA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:n,unsentEntries:a}=kA(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return lr.warn(e),""}}}function dv(){return new Date().toISOString().substring(0,10)}function kA(r,e=CA){const n=[];let a=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),fv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _b()?vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fv(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function NA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){no(new Ya("platform-logger",e=>new Kb(e),"PRIVATE")),no(new Ya("heartbeat",e=>new DA(e),"PRIVATE")),Zr(yp,uv,r),Zr(yp,uv,"esm2020"),Zr("fire-js","")}MA("");var VA="firebase",PA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(VA,PA,"app");const LA={apiKey:"AIzaSyDL_ZXei88Jo7Xa3Ww4DjjMIPDOiy5j_QM",authDomain:"yakalahadi-333ca.firebaseapp.com",projectId:"yakalahadi-333ca",storageBucket:"yakalahadi-333ca.firebasestorage.app",messagingSenderId:"397021820606",appId:"1:397021820606:web:a3aa08c2a558b15fef10ef"};function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=$0,Z0=new tu("auth","Firebase",$0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new qp("@firebase/auth");function zA(r,...e){ih.logLevel<=je.WARN&&ih.warn(`Auth (${fo}): ${r}`,...e)}function qc(r,...e){ih.logLevel<=je.ERROR&&ih.error(`Auth (${fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw Kp(r,...e)}function Ti(r,...e){return Kp(r,...e)}function J0(r,e,n){const a={...UA(),[e]:n};return new tu("auth","Firebase",a).create(e,{appName:r.name})}function Jr(r){return J0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Z0.create(r,...e)}function Re(r,e,...n){if(!r)throw Kp(e,...n)}function ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function ur(r,e){r||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return typeof self<"u"&&self.location?.href||""}function jA(){return pv()==="http:"||pv()==="https:"}function pv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jA()||pb()||"connection"in navigator)?navigator.onLine:!0}function HA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=hb()||mb()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GA=new iu(3e4,6e4);function $a(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ua(r,e,n,a,o={}){return tE(r,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const p=nu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return fb()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(g.credentials="include"),eE.fetch()(await nE(r,r.config.apiHost,n,p),g)})}async function tE(r,e,n){r._canInitEmulator=!1;const a={...qA,...e};try{const o=new YA(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(r,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw J0(r,T,g);ti(r,T)}}catch(o){if(o instanceof fr)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function bh(r,e,n,a,o={}){const u=await ua(r,e,n,a,o);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function nE(r,e,n,a){const o=`${e}${n}?${a}`,u=r,d=u.config.emulator?Yp(r.config,o):`${r.config.apiScheme}://${o}`;return FA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function KA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),GA.get())})}}function Vc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Ti(r,e,a);return o.customData._tokenResponse=n,o}function mv(r){return r!==void 0&&r.enterprise!==void 0}class QA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WA(r,e){return ua(r,"GET","/v2/recaptchaConfig",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(r,e){return ua(r,"POST","/v1/accounts:delete",e)}async function rh(r,e){return ua(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(r,e=!1){const n=pn(r),a=await n.getIdToken(e),o=Qp(a);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:jl(sp(o.auth_time)),issuedAtTime:jl(sp(o.iat)),expirationTime:jl(sp(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sp(r){return Number(r)*1e3}function Qp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=z0(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function gv(r){const e=Qp(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof fr&&ZA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ZA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){const e=r.auth,n=await r.getIdToken(),a=await Kl(r,rh(e,{idToken:n}));Re(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?iE(o.providerUserInfo):[],d=tw(r.providerData,u),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,g=p?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function ew(r){const e=pn(r);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tw(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function iE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e){const n=await tE(r,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await nE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),eE.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iw(r,e){return ua(r,"POST","/v2/accounts:revokeToken",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await nw(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new Xs;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Re(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new JA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return ew(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Kl(this,XA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:x,emailVerified:R,isAnonymous:k,providerData:H,stsTokenManager:P}=n;Re(x&&P,e,"internal-error");const U=Xs.fromJSON(this.name,P);Re(typeof x=="string",e,"internal-error"),qr(a,e.name),qr(o,e.name),Re(typeof R=="boolean",e,"internal-error"),Re(typeof k=="boolean",e,"internal-error"),qr(u,e.name),qr(d,e.name),qr(p,e.name),qr(y,e.name),qr(g,e.name),qr(T,e.name);const Q=new Jn({uid:x,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:g,lastLoginAt:T});return H&&Array.isArray(H)&&(Q.providerData=H.map(se=>({...se}))),y&&(Q._redirectEventId=y),Q}static async _fromIdTokenResponse(e,n,a=!1){const o=new Xs;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ah(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?iE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new Xs;p.updateFromIdToken(a);const y=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function rr(r){ur(r instanceof Function,"Expected a class definition");let e=yv.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,yv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rE.type="NONE";const _v=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r,e,n){return`firebase:${r}:${e}:${n}`}class $s{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new $s(rr(_v),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(_v);const d=Fc(a,e.config.apiKey,e.name);let p=null;for(const g of n)try{const T=await g._get(d);if(T){let x;if(typeof T=="string"){const R=await rh(e,{idToken:T}).catch(()=>{});if(!R)break;x=await Jn._fromGetAccountInfoResponse(e,R,T)}else x=Jn._fromJSON(e,T);g!==u&&(p=x),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new $s(u,e,a):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new $s(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(hE(e))return"Webos";if(sE(e))return"Safari";if((e.includes("chrome/")||oE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function aE(r=ln()){return/firefox\//i.test(r)}function sE(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oE(r=ln()){return/crios\//i.test(r)}function lE(r=ln()){return/iemobile/i.test(r)}function uE(r=ln()){return/android/i.test(r)}function cE(r=ln()){return/blackberry/i.test(r)}function hE(r=ln()){return/webos/i.test(r)}function Wp(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rw(r=ln()){return Wp(r)&&!!window.navigator?.standalone}function aw(){return gb()&&document.documentMode===10}function dE(r=ln()){return Wp(r)||uE(r)||hE(r)||cE(r)||/windows phone/i.test(r)||lE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r,e=[]){let n;switch(r){case"Browser":n=vv(ln());break;case"Worker":n=`${vv(ln())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e={}){return ua(r,"GET","/v2/passwordPolicy",$a(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=6;class uw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),a=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Jr(this));const n=e?pn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ow(this),n=new uw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function po(r){return pn(r)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ab(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(r){Ah=r}function pE(r){return Ah.loadJS(r)}function dw(){return Ah.recaptchaEnterpriseScript}function fw(){return Ah.gapiScript}function pw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mw{constructor(){this.enterprise=new gw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yw="recaptcha-enterprise",mE="NO_RECAPTCHA";class _w{constructor(e){this.type=yw,this.auth=po(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{WA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new QA(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function o(u,d,p){const y=window.grecaptcha;mv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(mE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(p=>{if(!n&&mv(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=dw();y.length!==0&&(y+=p),pE(y).then(()=>{o(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function Tv(r,e,n,a=!1,o=!1){const u=new _w(r);let d;if(o)d=mE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sv(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Tv(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Tv(r,e,n,n==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r,e){const n=Gp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ka(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function Ew(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function Tw(r,e,n){const a=po(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=gE(e),{host:d,port:p}=Sw(e),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Ka(g,a.config.emulator)&&Ka(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,ho(d)?(q0(`${u}//${d}${y}`),F0("Auth",!0)):bw()}function gE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Sw(r){const e=gE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:bv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:bv(d)}}}function bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function Aw(r,e){return ua(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,e){return bh(r,"POST","/v1/accounts:signInWithPassword",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,e){return bh(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,e))}async function Rw(r,e){return bh(r,"POST","/v1/accounts:signInWithEmailLink",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Xp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Yl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(e,n,"signInWithPassword",ww);case"emailLink":return xw(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(e,a,"signUpPassword",Aw);case"emailLink":return Rw(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(r,e){return bh(r,"POST","/v1/accounts:signInWithIdp",$a(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="http://localhost";class Qa extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new Qa(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Zs(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:Cw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dw(r){const e=Ml(Vl(r)).link,n=e?Ml(Vl(e)).deep_link_id:null,a=Ml(Vl(r)).deep_link_id;return(a?Ml(Vl(a)).link:null)||a||n||e||r}class $p{constructor(e){const n=Ml(Vl(e)),a=n.apiKey??null,o=n.oobCode??null,u=Iw(n.mode??null);Re(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Dw(e);try{return new $p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=$p.parseLink(n);return Re(a,"argument-error"),Yl._fromEmailAndCode(e,a.code,a.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ru{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Kr.credential(n,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ru{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Qr.credential(n,a)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Jn._fromIdTokenResponse(e,a,o),d=Av(a);return new io({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Av(a);return new io({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends fr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new sh(e,n,a,o)}}function _E(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,u,e,a):u})}async function kw(r,e,n=!1){const a=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return io._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,e,n=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject(Jr(a));const o="reauthenticate";try{const u=await Kl(r,_E(a,o,e,r),n);Re(u.idToken,a,"internal-error");const d=Qp(u.idToken);Re(d,a,"internal-error");const{sub:p}=d;return Re(r.uid===p,a,"user-mismatch"),io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(r,e,n=!1){if(Zn(r.app))return Promise.reject(Jr(r));const a="signIn",o=await _E(r,a,e),u=await io._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function Nw(r,e){return vE(po(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r){const e=po(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Vw(r,e,n){return Zn(r.app)?Promise.reject(Jr(r)):Nw(pn(r),mo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Mw(r),a})}function Pw(r,e,n,a){return pn(r).onIdTokenChanged(e,n,a)}function Lw(r,e,n){return pn(r).beforeAuthStateChanged(e,n)}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=1e3,zw=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);aw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zw):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TE.type="LOCAL";const jw=TE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SE.type="SESSION";const bE=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new wh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async g=>g(n.origin,u)),y=await Bw(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=Zp("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const R=x;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function qw(r){Si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function Fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gw(){return navigator?.serviceWorker?.controller||null}function Kw(){return AE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="firebaseLocalStorageDb",Yw=1,lh="firebaseLocalStorage",xE="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function Qw(){const r=indexedDB.deleteDatabase(wE);return new au(r).toPromise()}function Sp(){const r=indexedDB.open(wE,Yw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(lh,{keyPath:xE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await Qw(),e(await Sp()))})})}async function wv(r,e,n){const a=xh(r,!0).put({[xE]:e,value:n});return new au(a).toPromise()}async function Ww(r,e){const n=xh(r,!1).get(e),a=await new au(n).toPromise();return a===void 0?null:a.value}function xv(r,e){const n=xh(r,!0).delete(e);return new au(n).toPromise()}const Xw=800,$w=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>$w)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(Kw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Fw(),!this.activeServiceWorker)return;this.sender=new Hw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await wv(e,oh,"1"),await xv(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>wv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Ww(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const Zw=RE;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,e){return e?rr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ex(r){return vE(r.auth,new Jp(r),r.bypassAuthState)}function tx(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),Ow(n,new Jp(r),r.bypassAuthState)}async function nx(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),kw(n,new Jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:ti(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new iu(2e3,1e4);class Ws extends CE{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ix.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",Gc=new Map;class ax extends CE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sx(r,e){const n=ux(e),a=lx(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function ox(r,e){Gc.set(r._key(),e)}function lx(r){return rr(r._redirectPersistence)}function ux(r){return Fc(rx,r.config.apiKey,r.name)}async function cx(r,e,n=!1){if(Zn(r.app))return Promise.reject(Jr(r));const a=po(r),o=Jw(a,e),d=await new ax(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=600*1e3;class dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ti(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function fx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,e={}){return ua(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function yx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await px(r);for(const n of e)try{if(_x(n))return}catch{}ti(r,"unauthorized-domain")}function _x(r){const e=Ep(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!gx.test(n))return!1;if(mx.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new iu(3e4,6e4);function Cv(){const r=Si().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ex(r){return new Promise((e,n)=>{function a(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Ti(r,"network-request-failed"))},timeout:vx.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const o=pw("iframefcb");return Si()[o]=()=>{gapi.load?a():n(Ti(r,"network-request-failed"))},pE(`${fw()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function Tx(r){return Kc=Kc||Ex(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new iu(5e3,15e3),bx="__/auth/iframe",Ax="emulator/auth/iframe",wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Yp(e,Ax):`https://${r.config.authDomain}/${bx}`,a={apiKey:e.apiKey,appName:r.name,v:fo},o=xx.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${nu(a).slice(1)}`}async function Cx(r){const e=await Tx(r),n=Si().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:Rx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wx,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),p=Si().setTimeout(()=>{u(d)},Sx.get());function y(){Si().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dx=500,kx=600,Ox="_blank",Nx="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mx(r,e,n,a=Dx,o=kx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Ix,width:a.toString(),height:o.toString(),top:u,left:d},g=ln().toLowerCase();n&&(p=oE(g)?Ox:n),aE(g)&&(e=e||Nx,y.scrollbars="yes");const T=Object.entries(y).reduce((R,[k,H])=>`${R}${k}=${H},`,"");if(rw(g)&&p!=="_self")return Vx(e||"",p),new Iv(null);const x=window.open(e||"",p,T);Re(x,r,"popup-blocked");try{x.focus()}catch{}return new Iv(x)}function Vx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="__/auth/handler",Lx="emulator/auth/handler",Ux=encodeURIComponent("fac");async function Dv(r,e,n,a,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:fo,eventId:o};if(e instanceof yE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",bb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))d[T]=x}if(e instanceof ru){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),g=y?`#${Ux}=${encodeURIComponent(y)}`:"";return`${zx(r)}?${nu(p).slice(1)}${g}`}function zx({config:r}){return r.emulator?Yp(r,Lx):`https://${r.authDomain}/${Px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class jx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=cx,this._overrideRedirectResult=ox}async _openPopup(e,n,a,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Dv(e,n,a,Ep(),o);return Mx(e,u,Zp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await Dv(e,n,a,Ep(),o);return qw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Cx(e),a=new dx(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},o=>{const u=o?.[0]?.[op];u!==void 0&&n(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dE()||sE()||Wp()}}const Bx=jx;var kv="@firebase/auth",Ov="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fx(r){no(new Ya("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(r)},g=new cw(a,o,u,y);return Ew(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),no(new Ya("auth-internal",e=>{const n=po(e.getProvider("auth").getImmediate());return(a=>new Hx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(kv,Ov,qx(r)),Zr(kv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=300,Kx=H0("authIdTokenMaxAge")||Gx;let Nv=null;const Yx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Kx)return;const o=n?.token;Nv!==o&&(Nv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Qx(r=Q0()){const e=Gp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vw(r,{popupRedirectResolver:Bx,persistence:[Zw,jw,bE]}),a=H0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Yx(u.toString());Lw(n,d,()=>d(n.currentUser)),Pw(n,p=>d(p))}}const o=j0("auth");return o&&Tw(n,`http://${o}`),n}function Wx(){return document.getElementsByTagName("head")?.[0]??document}hw({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Ti("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",Wx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fx("Browser");function Xx({onLogin:r}){const[e,n]=B.useState(""),[a,o]=B.useState(""),[u,d]=B.useState(""),[p,y]=B.useState(!1),g=async T=>{T.preventDefault(),y(!0),d("");const x=Qx();try{await Vw(x,e,a),e==="admin@yakalahadi.com"?r("admin"):(d("Bu panele sadece admin erişebilir."),await x.signOut())}catch(R){d(R.message)}finally{y(!1)}};return E.jsxs("div",{style:{maxWidth:350,margin:"100px auto",padding:24,border:"1px solid #eee",borderRadius:8},children:[E.jsx("h2",{style:{textAlign:"center",marginBottom:24},children:"YakalaHadi Admin Giriş"}),E.jsxs("form",{onSubmit:g,children:[E.jsx("input",{type:"email",placeholder:"E-posta",value:e,onChange:T=>n(T.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:12,border:"1px solid #ddd",borderRadius:4,fontSize:14,boxSizing:"border-box"}}),E.jsx("input",{type:"password",placeholder:"Şifre",value:a,onChange:T=>o(T.target.value),required:!0,style:{width:"100%",marginBottom:12,padding:12,border:"1px solid #ddd",borderRadius:4,fontSize:14,boxSizing:"border-box"}}),E.jsx("button",{type:"submit",style:{width:"100%",padding:12,backgroundColor:"#667eea",color:"white",border:"none",borderRadius:4,fontSize:14,cursor:"pointer",boxSizing:"border-box"},disabled:p,children:p?"Giriş Yapılıyor...":"Giriş Yap"}),u&&E.jsx("div",{style:{color:"red",marginTop:10},children:u})]})]})}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function $x(r={}){function e(a,o){let{pathname:u,search:d,hash:p}=a.location;return bp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ql(o)}return Jx(e,n,null,r)}function pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zx(){return Math.random().toString(36).substring(2,10)}function Vv(r,e){return{usr:r.state,key:r.key,idx:e}}function bp(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||a||Zx()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Jx(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,p="POP",y=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function x(){p="POP";let U=T(),Q=U==null?null:U-g;g=U,y&&y({action:p,location:P.location,delta:Q})}function R(U,Q){p="PUSH";let se=bp(P.location,U,Q);g=T()+1;let X=Vv(se,g),oe=P.createHref(se);try{d.pushState(X,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&y&&y({action:p,location:P.location,delta:1})}function k(U,Q){p="REPLACE";let se=bp(P.location,U,Q);g=T();let X=Vv(se,g),oe=P.createHref(se);d.replaceState(X,"",oe),u&&y&&y({action:p,location:P.location,delta:0})}function H(U){return eR(U)}let P={get action(){return p},get location(){return r(o,d)},listen(U){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,x),y=U,()=>{o.removeEventListener(Mv,x),y=null}},createHref(U){return e(o,U)},createURL:H,encodeLocation(U){let Q=H(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:R,replace:k,go(U){return d.go(U)}};return P}function eR(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ql(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function DE(r,e,n="/"){return tR(r,e,n,!1)}function tR(r,e,n,a){let o=typeof e=="string"?go(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let d=kE(r);nR(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let g=fR(u);p=hR(d[y],g,a)}return p}function kE(r,e=[],n=[],a=""){let o=(u,d,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};y.relativePath.startsWith("/")&&(pt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let g=ar([a,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:uR(g,u.index),routesMeta:T})};return r.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let p of OE(u.path))o(u,d,p)}),e}function OE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=OE(a.join("/")),p=[];return p.push(...d.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...d),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function nR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:cR(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var iR=/^:[\w-]+$/,rR=3,aR=2,sR=1,oR=10,lR=-2,Pv=r=>r==="*";function uR(r,e){let n=r.split("/"),a=n.length;return n.some(Pv)&&(a+=lR),e&&(a+=aR),n.filter(o=>!Pv(o)).reduce((o,u)=>o+(iR.test(u)?rR:u===""?sR:oR),a)}function cR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function hR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",d=[];for(let p=0;p<a.length;++p){let y=a[p],g=p===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",x=uh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),R=y.route;if(!x&&g&&n&&!a[a.length-1].route.index&&(x=uh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:ar([u,x.pathname]),pathnameBase:yR(ar([u,x.pathnameBase])),route:R}),x.pathnameBase!=="/"&&(u=ar([u,x.pathnameBase]))}return d}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=dR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:x},R)=>{if(T==="*"){let H=p[R]||"";d=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const k=p[R];return x&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function dR(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(a.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function fR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function pR(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?go(r):r;return{pathname:n?n.startsWith("/")?n:mR(n,e):e,search:_R(a),hash:vR(o)}}function mR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function em(r){let e=gR(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function tm(r,e,n,a=!1){let o;typeof r=="string"?o=go(r):(o={...r},pt(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!a&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),x-=1;o.pathname=R.join("/")}p=x>=0?e[x]:"/"}let y=pR(o,p),g=d&&d!=="/"&&d.endsWith("/"),T=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),yR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_R=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ER(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var TR=["GET",...NE];new Set(TR);var yo=B.createContext(null);yo.displayName="DataRouter";var Rh=B.createContext(null);Rh.displayName="DataRouterState";B.createContext(!1);var ME=B.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var SR=B.createContext(new Map);SR.displayName="Fetchers";var bR=B.createContext(null);bR.displayName="Await";var ni=B.createContext(null);ni.displayName="Navigation";var su=B.createContext(null);su.displayName="Location";var Di=B.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var nm=B.createContext(null);nm.displayName="RouteError";function AR(r,{relative:e}={}){pt(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=B.useContext(ni),{hash:o,pathname:u,search:d}=ou(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ar([n,u])),a.createHref({pathname:p,search:d,hash:o})}function _o(){return B.useContext(su)!=null}function pr(){return pt(_o(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(su).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(r){B.useContext(ni).static||B.useLayoutEffect(r)}function Ch(){let{isDataRoute:r}=B.useContext(Di);return r?LR():wR()}function wR(){pt(_o(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(yo),{basename:e,navigator:n}=B.useContext(ni),{matches:a}=B.useContext(Di),{pathname:o}=pr(),u=JSON.stringify(em(a)),d=B.useRef(!1);return PE(()=>{d.current=!0}),B.useCallback((y,g={})=>{if(Gn(d.current,VE),!d.current)return;if(typeof y=="number"){n.go(y);return}let T=tm(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ar([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}B.createContext(null);function ou(r,{relative:e}={}){let{matches:n}=B.useContext(Di),{pathname:a}=pr(),o=JSON.stringify(em(n));return B.useMemo(()=>tm(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function xR(r,e){return LE(r,e)}function LE(r,e,n,a){pt(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ni),{matches:u}=B.useContext(Di),d=u[u.length-1],p=d?d.params:{},y=d?d.pathname:"/",g=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";UE(y,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let x=pr(),R;if(e){let Q=typeof e=="string"?go(e):e;pt(g==="/"||Q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),R=Q}else R=x;let k=R.pathname||"/",H=k;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(Q.length).join("/")}let P=DE(r,{pathname:H});Gn(T||P!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Gn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=kR(P&&P.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ar([g,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:ar([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,n,a);return e&&U?B.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},U):U}function RR(){let r=PR(),e=ER(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,d)}var CR=B.createElement(RR,null),IR=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Di.Provider,{value:this.props.routeContext},B.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DR({routeContext:r,match:e,children:n}){let a=B.useContext(yo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Di.Provider,{value:r},n)}function kR(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:T,errors:x}=n,R=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||R){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((y,g,T)=>{let x,R=!1,k=null,H=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||CR,d&&(p<0&&T===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,H=null):p===T&&(R=!0,H=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,T+1)),U=()=>{let Q;return x?Q=k:R?Q=H:g.route.Component?Q=B.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=y,B.createElement(DR,{match:g,routeContext:{outlet:y,matches:P,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?B.createElement(IR,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:U(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):U()},null)}function im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OR(r){let e=B.useContext(yo);return pt(e,im(r)),e}function NR(r){let e=B.useContext(Rh);return pt(e,im(r)),e}function MR(r){let e=B.useContext(Di);return pt(e,im(r)),e}function rm(r){let e=MR(r),n=e.matches[e.matches.length-1];return pt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function VR(){return rm("useRouteId")}function PR(){let r=B.useContext(nm),e=NR("useRouteError"),n=rm("useRouteError");return r!==void 0?r:e.errors?.[n]}function LR(){let{router:r}=OR("useNavigate"),e=rm("useNavigate"),n=B.useRef(!1);return PE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Gn(n.current,VE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lv={};function UE(r,e,n){!e&&!Lv[r]&&(Lv[r]=!0,Gn(!1,n))}B.memo(UR);function UR({routes:r,future:e,state:n}){return LE(r,void 0,n,e)}function zR({to:r,replace:e,state:n,relative:a}){pt(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ni);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Di),{pathname:d}=pr(),p=Ch(),y=tm(r,em(u),d,a==="path"),g=JSON.stringify(y);return B.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:a})},[p,g,a,e,n]),null}function Fr(r){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){pt(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=go(n));let{pathname:y="/",search:g="",hash:T="",state:x=null,key:R="default"}=n,k=B.useMemo(()=>{let H=cr(y,d);return H==null?null:{location:{pathname:H,search:g,hash:T,state:x,key:R},navigationType:a}},[d,y,g,T,x,R,a]);return Gn(k!=null,`<Router basename="${d}"> is not able to match the URL "${y}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(ni.Provider,{value:p},B.createElement(su.Provider,{children:e,value:k}))}function BR({children:r,location:e}){return xR(Ap(r),e)}function Ap(r,e=[]){let n=[];return B.Children.forEach(r,(a,o)=>{if(!B.isValidElement(a))return;let u=[...e,o];if(a.type===B.Fragment){n.push.apply(n,Ap(a.props.children,u));return}pt(a.type===Fr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Ap(a.props.children,u)),n.push(d)}),n}var Yc="get",Qc="application/x-www-form-urlencoded";function Ih(r){return r!=null&&typeof r.tagName=="string"}function HR(r){return Ih(r)&&r.tagName.toLowerCase()==="button"}function qR(r){return Ih(r)&&r.tagName.toLowerCase()==="form"}function FR(r){return Ih(r)&&r.tagName.toLowerCase()==="input"}function GR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function KR(r,e){return r.button===0&&(!e||e==="_self")&&!GR(r)}function wp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let a=r[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function YR(r,e){let n=wp(r);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Pc=null;function QR(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var WR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(r){return r!=null&&!WR.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):r}function XR(r,e){let n,a,o,u,d;if(qR(r)){let p=r.getAttribute("action");a=p?cr(p,e):null,n=r.getAttribute("method")||Yc,o=up(r.getAttribute("enctype"))||Qc,u=new FormData(r)}else if(HR(r)||FR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(a=y?cr(y,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Yc,o=up(r.getAttribute("formenctype"))||up(p.getAttribute("enctype"))||Qc,u=new FormData(p,r),!QR()){let{name:g,type:T,value:x}=r;if(T==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,x)}}else{if(Ih(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,a=null,o=Qc,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function am(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $R(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&cr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function ZR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eC(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await ZR(u,n);return d.links?d.links():[]}return[]}));return rC(a.flat(1).filter(JR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(r,e,n,a,o,u){let d=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,p=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>d(y,g)||p(y,g)):u==="data"?e.filter((y,g)=>{let T=a.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tC(r,e,{includeHydrateFallback:n}={}){return nC(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nC(r){return[...new Set(r)]}function iC(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function rC(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(iC(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function zE(){let r=B.useContext(yo);return am(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aC(){let r=B.useContext(Rh);return am(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sm=B.createContext(void 0);sm.displayName="FrameworkContext";function jE(){let r=B.useContext(sm);return am(r,"You must render this element inside a <HydratedRouter> element"),r}function sC(r,e){let n=B.useContext(sm),[a,o]=B.useState(!1),[u,d]=B.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:x}=e,R=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let P=Q=>{Q.forEach(se=>{d(se.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[r]),B.useEffect(()=>{if(a){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[a]);let k=()=>{o(!0)},H=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Ol(p,k),onBlur:Ol(y,H),onMouseEnter:Ol(g,k),onMouseLeave:Ol(T,H),onTouchStart:Ol(x,k)}]:[!1,R,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function oC({page:r,...e}){let{router:n}=zE(),a=B.useMemo(()=>DE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?B.createElement(uC,{page:r,matches:a,...e}):null}function lC(r){let{manifest:e,routeModules:n}=jE(),[a,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return eC(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),a}function uC({page:r,matches:e,...n}){let a=pr(),{manifest:o,routeModules:u}=jE(),{basename:d}=zE(),{loaderData:p,matches:y}=aC(),g=B.useMemo(()=>Uv(r,e,y,o,a,"data"),[r,e,y,o,a]),T=B.useMemo(()=>Uv(r,e,y,o,a,"assets"),[r,e,y,o,a]),x=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let H=new Set,P=!1;if(e.forEach(Q=>{let se=o.routes[Q.route.id];!se||!se.hasLoader||(!g.some(X=>X.route.id===Q.route.id)&&Q.route.id in p&&u[Q.route.id]?.shouldRevalidate||se.hasClientLoader?P=!0:H.add(Q.route.id))}),H.size===0)return[];let U=$R(r,d,"data");return P&&H.size>0&&U.searchParams.set("_routes",e.filter(Q=>H.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[d,p,a,o,g,e,r,u]),R=B.useMemo(()=>tC(T,o),[T,o]),k=lC(T);return B.createElement(B.Fragment,null,x.map(H=>B.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>B.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),k.map(({key:H,link:P})=>B.createElement("link",{key:H,...P})))}function cC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.7.1")}catch{}function hC({basename:r,children:e,window:n}){let a=B.useRef();a.current==null&&(a.current=$x({window:n,v5Compat:!0}));let o=a.current,[u,d]=B.useState({action:o.action,location:o.location}),p=B.useCallback(y=>{B.startTransition(()=>d(y))},[d]);return B.useLayoutEffect(()=>o.listen(p),[o,p]),B.createElement(jR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,om=B.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:p,target:y,to:g,preventScrollReset:T,viewTransition:x,...R},k){let{basename:H}=B.useContext(ni),P=typeof g=="string"&&HE.test(g),U,Q=!1;if(typeof g=="string"&&P&&(U=g,BE))try{let w=new URL(window.location.href),N=g.startsWith("//")?new URL(w.protocol+g):new URL(g),M=cr(N.pathname,H);N.origin===w.origin&&M!=null?g=M+N.search+N.hash:Q=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=AR(g,{relative:o}),[X,oe,ue]=sC(a,R),fe=mC(g,{replace:d,state:p,target:y,preventScrollReset:T,relative:o,viewTransition:x});function I(w){e&&e(w),w.defaultPrevented||fe(w)}let A=B.createElement("a",{...R,...ue,href:U||se,onClick:Q||u?e:I,ref:cC(k,oe),target:y,"data-discover":!P&&n==="render"?"true":void 0});return X&&!P?B.createElement(B.Fragment,null,A,B.createElement(oC,{page:se})):A});om.displayName="Link";var dC=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:p,children:y,...g},T){let x=ou(d,{relative:g.relative}),R=pr(),k=B.useContext(Rh),{navigator:H,basename:P}=B.useContext(ni),U=k!=null&&TC(x)&&p===!0,Q=H.encodeLocation?H.encodeLocation(x).pathname:x.pathname,se=R.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(se=se.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&P&&(X=cr(X,P)||X);const oe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=se===Q||!o&&se.startsWith(Q)&&se.charAt(oe)==="/",fe=X!=null&&(X===Q||!o&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),I={isActive:ue,isPending:fe,isTransitioning:U},A=ue?e:void 0,w;typeof a=="function"?w=a(I):w=[a,ue?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(I):u;return B.createElement(om,{...g,"aria-current":A,className:w,ref:T,style:N,to:d,viewTransition:p},typeof y=="function"?y(I):y)});dC.displayName="NavLink";var fC=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Yc,action:p,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:x,...R},k)=>{let H=vC(),P=EC(p,{relative:g}),U=d.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&HE.test(p),se=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,ue=oe?.getAttribute("formmethod")||d;H(oe||X.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:x})};return B.createElement("form",{ref:k,method:U,action:P,onSubmit:a?y:se,...R,"data-discover":!Q&&r==="render"?"true":void 0})});fC.displayName="Form";function pC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(r){let e=B.useContext(yo);return pt(e,pC(r)),e}function mC(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let p=Ch(),y=pr(),g=ou(r,{relative:u});return B.useCallback(T=>{if(KR(T,e)){T.preventDefault();let x=n!==void 0?n:Ql(y)===Ql(g);p(r,{replace:x,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[y,p,g,n,a,e,r,o,u,d])}function gC(r){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(wp(r)),n=B.useRef(!1),a=pr(),o=B.useMemo(()=>YR(a.search,n.current?null:e.current),[a.search]),u=Ch(),d=B.useCallback((p,y)=>{const g=wp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+g,y)},[u,o]);return[o,d]}var yC=0,_C=()=>`__${String(++yC)}__`;function vC(){let{router:r}=qE("useSubmit"),{basename:e}=B.useContext(ni),n=VR();return B.useCallback(async(a,o={})=>{let{action:u,method:d,encType:p,formData:y,body:g}=XR(a,e);if(o.navigate===!1){let T=o.fetcherKey||_C();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function EC(r,{relative:e}={}){let{basename:n}=B.useContext(ni),a=B.useContext(Di);pt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ou(r||".",{relative:e})},d=pr();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(T=>T==="")){p.delete("index"),y.filter(x=>x).forEach(x=>p.append("index",x));let T=p.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Ql(u)}function TC(r,{relative:e}={}){let n=B.useContext(ME);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=qE("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=cr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return uh(o.pathname,d)!=null||uh(o.pathname,u)!=null}var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,FE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function w(){}w.prototype=A.prototype,I.D=A.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(N,M,L){for(var D=Array(arguments.length-2),De=2;De<arguments.length;De++)D[De-2]=arguments[De];return A.prototype[M].apply(N,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,w){w||(w=0);var N=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)N[M]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=I.g[0],w=I.g[1],M=I.g[2];var L=I.g[3],D=A+(L^w&(M^L))+N[0]+3614090360&4294967295;A=w+(D<<7&4294967295|D>>>25),D=L+(M^A&(w^M))+N[1]+3905402710&4294967295,L=A+(D<<12&4294967295|D>>>20),D=M+(w^L&(A^w))+N[2]+606105819&4294967295,M=L+(D<<17&4294967295|D>>>15),D=w+(A^M&(L^A))+N[3]+3250441966&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(L^w&(M^L))+N[4]+4118548399&4294967295,A=w+(D<<7&4294967295|D>>>25),D=L+(M^A&(w^M))+N[5]+1200080426&4294967295,L=A+(D<<12&4294967295|D>>>20),D=M+(w^L&(A^w))+N[6]+2821735955&4294967295,M=L+(D<<17&4294967295|D>>>15),D=w+(A^M&(L^A))+N[7]+4249261313&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(L^w&(M^L))+N[8]+1770035416&4294967295,A=w+(D<<7&4294967295|D>>>25),D=L+(M^A&(w^M))+N[9]+2336552879&4294967295,L=A+(D<<12&4294967295|D>>>20),D=M+(w^L&(A^w))+N[10]+4294925233&4294967295,M=L+(D<<17&4294967295|D>>>15),D=w+(A^M&(L^A))+N[11]+2304563134&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(L^w&(M^L))+N[12]+1804603682&4294967295,A=w+(D<<7&4294967295|D>>>25),D=L+(M^A&(w^M))+N[13]+4254626195&4294967295,L=A+(D<<12&4294967295|D>>>20),D=M+(w^L&(A^w))+N[14]+2792965006&4294967295,M=L+(D<<17&4294967295|D>>>15),D=w+(A^M&(L^A))+N[15]+1236535329&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(M^L&(w^M))+N[1]+4129170786&4294967295,A=w+(D<<5&4294967295|D>>>27),D=L+(w^M&(A^w))+N[6]+3225465664&4294967295,L=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(L^A))+N[11]+643717713&4294967295,M=L+(D<<14&4294967295|D>>>18),D=w+(L^A&(M^L))+N[0]+3921069994&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^L&(w^M))+N[5]+3593408605&4294967295,A=w+(D<<5&4294967295|D>>>27),D=L+(w^M&(A^w))+N[10]+38016083&4294967295,L=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(L^A))+N[15]+3634488961&4294967295,M=L+(D<<14&4294967295|D>>>18),D=w+(L^A&(M^L))+N[4]+3889429448&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^L&(w^M))+N[9]+568446438&4294967295,A=w+(D<<5&4294967295|D>>>27),D=L+(w^M&(A^w))+N[14]+3275163606&4294967295,L=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(L^A))+N[3]+4107603335&4294967295,M=L+(D<<14&4294967295|D>>>18),D=w+(L^A&(M^L))+N[8]+1163531501&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^L&(w^M))+N[13]+2850285829&4294967295,A=w+(D<<5&4294967295|D>>>27),D=L+(w^M&(A^w))+N[2]+4243563512&4294967295,L=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(L^A))+N[7]+1735328473&4294967295,M=L+(D<<14&4294967295|D>>>18),D=w+(L^A&(M^L))+N[12]+2368359562&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(w^M^L)+N[5]+4294588738&4294967295,A=w+(D<<4&4294967295|D>>>28),D=L+(A^w^M)+N[8]+2272392833&4294967295,L=A+(D<<11&4294967295|D>>>21),D=M+(L^A^w)+N[11]+1839030562&4294967295,M=L+(D<<16&4294967295|D>>>16),D=w+(M^L^A)+N[14]+4259657740&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^L)+N[1]+2763975236&4294967295,A=w+(D<<4&4294967295|D>>>28),D=L+(A^w^M)+N[4]+1272893353&4294967295,L=A+(D<<11&4294967295|D>>>21),D=M+(L^A^w)+N[7]+4139469664&4294967295,M=L+(D<<16&4294967295|D>>>16),D=w+(M^L^A)+N[10]+3200236656&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^L)+N[13]+681279174&4294967295,A=w+(D<<4&4294967295|D>>>28),D=L+(A^w^M)+N[0]+3936430074&4294967295,L=A+(D<<11&4294967295|D>>>21),D=M+(L^A^w)+N[3]+3572445317&4294967295,M=L+(D<<16&4294967295|D>>>16),D=w+(M^L^A)+N[6]+76029189&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^L)+N[9]+3654602809&4294967295,A=w+(D<<4&4294967295|D>>>28),D=L+(A^w^M)+N[12]+3873151461&4294967295,L=A+(D<<11&4294967295|D>>>21),D=M+(L^A^w)+N[15]+530742520&4294967295,M=L+(D<<16&4294967295|D>>>16),D=w+(M^L^A)+N[2]+3299628645&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(M^(w|~L))+N[0]+4096336452&4294967295,A=w+(D<<6&4294967295|D>>>26),D=L+(w^(A|~M))+N[7]+1126891415&4294967295,L=A+(D<<10&4294967295|D>>>22),D=M+(A^(L|~w))+N[14]+2878612391&4294967295,M=L+(D<<15&4294967295|D>>>17),D=w+(L^(M|~A))+N[5]+4237533241&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~L))+N[12]+1700485571&4294967295,A=w+(D<<6&4294967295|D>>>26),D=L+(w^(A|~M))+N[3]+2399980690&4294967295,L=A+(D<<10&4294967295|D>>>22),D=M+(A^(L|~w))+N[10]+4293915773&4294967295,M=L+(D<<15&4294967295|D>>>17),D=w+(L^(M|~A))+N[1]+2240044497&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~L))+N[8]+1873313359&4294967295,A=w+(D<<6&4294967295|D>>>26),D=L+(w^(A|~M))+N[15]+4264355552&4294967295,L=A+(D<<10&4294967295|D>>>22),D=M+(A^(L|~w))+N[6]+2734768916&4294967295,M=L+(D<<15&4294967295|D>>>17),D=w+(L^(M|~A))+N[13]+1309151649&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~L))+N[4]+4149444226&4294967295,A=w+(D<<6&4294967295|D>>>26),D=L+(w^(A|~M))+N[11]+3174756917&4294967295,L=A+(D<<10&4294967295|D>>>22),D=M+(A^(L|~w))+N[2]+718787259&4294967295,M=L+(D<<15&4294967295|D>>>17),D=w+(L^(M|~A))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var w=A-this.blockSize,N=this.B,M=this.h,L=0;L<A;){if(M==0)for(;L<=w;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(N[M++]=I.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<A;)if(N[M++]=I[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=A},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var w=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=w&255,w/=256;for(this.u(I),I=Array(16),A=w=0;4>A;++A)for(var N=0;32>N;N+=8)I[w++]=this.g[A]>>>N&255;return I};function u(I,A){var w=p;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=A(I)}function d(I,A){this.h=A;for(var w=[],N=!0,M=I.length-1;0<=M;M--){var L=I[M]|0;N&&L==A||(w[M]=L,N=!1)}this.g=w}var p={};function y(I){return-128<=I&&128>I?u(I,function(A){return new d([A|0],0>A?-1:0)}):new d([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return x;if(0>I)return U(g(-I));for(var A=[],w=1,N=0;I>=w;N++)A[N]=I/w|0,w*=4294967296;return new d(A,0)}function T(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return U(T(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(A,8)),N=x,M=0;M<I.length;M+=8){var L=Math.min(8,I.length-M),D=parseInt(I.substring(M,M+L),A);8>L?(L=g(Math.pow(A,L)),N=N.j(L).add(g(D))):(N=N.j(w),N=N.add(g(D)))}return N}var x=y(0),R=y(1),k=y(16777216);r=d.prototype,r.m=function(){if(P(this))return-U(this).m();for(var I=0,A=1,w=0;w<this.g.length;w++){var N=this.i(w);I+=(0<=N?N:4294967296+N)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(P(this))return"-"+U(this).toString(I);for(var A=g(Math.pow(I,6)),w=this,N="";;){var M=oe(w,A).g;w=Q(w,M.j(A));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=M,H(w))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function P(I){return I.h==-1}r.l=function(I){return I=Q(this,I),P(I)?-1:H(I)?0:1};function U(I){for(var A=I.g.length,w=[],N=0;N<A;N++)w[N]=~I.g[N];return new d(w,~I.h).add(R)}r.abs=function(){return P(this)?U(this):this},r.add=function(I){for(var A=Math.max(this.g.length,I.g.length),w=[],N=0,M=0;M<=A;M++){var L=N+(this.i(M)&65535)+(I.i(M)&65535),D=(L>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);N=D>>>16,L&=65535,D&=65535,w[M]=D<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(I,A){return I.add(U(A))}r.j=function(I){if(H(this)||H(I))return x;if(P(this))return P(I)?U(this).j(U(I)):U(U(this).j(I));if(P(I))return U(this.j(U(I)));if(0>this.l(k)&&0>I.l(k))return g(this.m()*I.m());for(var A=this.g.length+I.g.length,w=[],N=0;N<2*A;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<I.g.length;M++){var L=this.i(N)>>>16,D=this.i(N)&65535,De=I.i(M)>>>16,we=I.i(M)&65535;w[2*N+2*M]+=D*we,se(w,2*N+2*M),w[2*N+2*M+1]+=L*we,se(w,2*N+2*M+1),w[2*N+2*M+1]+=D*De,se(w,2*N+2*M+1),w[2*N+2*M+2]+=L*De,se(w,2*N+2*M+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new d(w,0)};function se(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function X(I,A){this.g=I,this.h=A}function oe(I,A){if(H(A))throw Error("division by zero");if(H(I))return new X(x,x);if(P(I))return A=oe(U(I),A),new X(U(A.g),U(A.h));if(P(A))return A=oe(I,U(A)),new X(U(A.g),A.h);if(30<I.g.length){if(P(I)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var w=R,N=A;0>=N.l(I);)w=ue(w),N=ue(N);var M=fe(w,1),L=fe(N,1);for(N=fe(N,2),w=fe(w,2);!H(N);){var D=L.add(N);0>=D.l(I)&&(M=M.add(w),L=D),N=fe(N,1),w=fe(w,1)}return A=Q(I,M.j(A)),new X(M,A)}for(M=x;0<=I.l(A);){for(w=Math.max(1,Math.floor(I.m()/A.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(w),D=L.j(A);P(D)||0<D.l(I);)w-=N,L=g(w),D=L.j(A);H(L)&&(L=R),M=M.add(L),I=Q(I,D)}return new X(M,I)}r.A=function(I){return oe(this,I).h},r.and=function(I){for(var A=Math.max(this.g.length,I.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)&I.i(N);return new d(w,this.h&I.h)},r.or=function(I){for(var A=Math.max(this.g.length,I.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)|I.i(N);return new d(w,this.h|I.h)},r.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)^I.i(N);return new d(w,this.h^I.h)};function ue(I){for(var A=I.g.length+1,w=[],N=0;N<A;N++)w[N]=I.i(N)<<1|I.i(N-1)>>>31;return new d(w,I.h)}function fe(I,A){var w=A>>5;A%=32;for(var N=I.g.length-w,M=[],L=0;L<N;L++)M[L]=0<A?I.i(L+w)>>>A|I.i(L+w+1)<<32-A:I.i(L+w);return new d(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,FE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,ea=d}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,Pl,KE,Wc,xp,YE,QE,WE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,m){if(m)e:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],m=m(b),m!=b&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var $=_++;return{value:m($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,_){return c.call.apply(c.bind,arguments)}function x(c,m,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function R(c,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:x,R.apply(null,arguments)}function k(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function H(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,$){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return m.prototype[j].apply(b,he)}}function P(c){const m=c.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=c[b];return _}return[]}function U(c,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const j=c.length||0,$=b.length||0;c.length=j+$;for(let he=0;he<$;he++)c[j+he]=b[he]}else c.push(b)}}class Q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ue=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,m,_){for(const b in c)m.call(_,c[b],b,c)}function I(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function A(c){const m={};for(const _ in c)m[_]=c[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let $=0;$<w.length;$++)_=w[$],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=ge;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,_){const b=we.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var we=new Q(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,ge=new De,O=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var m=we;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return c}();function Oe(c,m){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ue){e:{try{oe(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}H(Oe,ae);var Te={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),be=0;function ht(c,m,_,b,j){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=j,this.key=++be,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function En(c){this.src=c,this.g={},this.h=0}En.prototype.add=function(c,m,_,b,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var he=Ot(c,m,b,j);return-1<he?(m=c[he],_||(m.fa=!1)):(m=new ht(m,this.src,$,!!b,j),m.fa=_,c.push(m)),m};function un(c,m){var _=m.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,m,void 0),$;($=0<=j)&&Array.prototype.splice.call(b,j,1),$&&(mt(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ot(c,m,_,b){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==b)return j}return-1}var W="closure_lm_"+(1e6*Math.random()|0),ee={};function _e(c,m,_,b,j){if(Array.isArray(m)){for(var $=0;$<m.length;$++)_e(c,m[$],_,b,j);return null}return _=du(_),c&&c[_t]?c.K(m,_,g(b)?!!b.capture:!1,j):Me(c,m,_,!1,b,j)}function Me(c,m,_,b,j,$){if(!m)throw Error("Invalid event type");var he=g(j)?!!j.capture:!!j,qe=ii(c);if(qe||(c[W]=qe=new En(c)),_=qe.add(m,_,b,he,$),_.proxy)return _;if(b=Qe(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ye||(j=he),j===void 0&&(j=!1),c.addEventListener(m.toString(),b,j);else if(c.attachEvent)c.attachEvent(kn(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qe(){function c(_){return m.call(c.src,c.listener,_)}const m=bo;return c}function st(c,m,_,b,j){if(Array.isArray(m))for(var $=0;$<m.length;$++)st(c,m[$],_,b,j);else b=g(b)?!!b.capture:!!b,_=du(_),c&&c[_t]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],_=Ot($,_,b,j),-1<_&&(mt($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=ii(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ot(m,_,b,j)),(_=-1<c?m[c]:null)&&Ze(_))}function Ze(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[_t])un(m.i,c);else{var _=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(_,b,c.capture):m.detachEvent?m.detachEvent(kn(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=ii(m))?(un(_,c),_.h==0&&(_.src=null,m[W]=null)):mt(c)}}}function kn(c){return c in ee?ee[c]:ee[c]="on"+c}function bo(c,m){if(c.da)c=!0;else{m=new Oe(m,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ze(c),c=_.call(b,m)}return c}function ii(c){return c=c[W],c instanceof En?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(m){return c.handleEvent(m)}),c[Ao])}function vt(){ce.call(this),this.i=new En(this),this.M=this,this.F=null}H(vt,ce),vt.prototype[_t]=!0,vt.prototype.removeEventListener=function(c,m,_,b){st(this,c,m,_,b)};function Je(c,m){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new ae(m,c);else if(m instanceof ae)m.target=m.target||c;else{var j=m;m=new ae(b,c),N(m,j)}if(j=!0,_)for(var $=_.length-1;0<=$;$--){var he=m.g=_[$];j=Tn(he,b,!0,m)&&j}if(he=m.g=c,j=Tn(he,b,!0,m)&&j,j=Tn(he,b,!1,m)&&j,_)for($=0;$<_.length;$++)he=m.g=_[$],j=Tn(he,b,!1,m)&&j}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],b=0;b<_.length;b++)mt(_[b]);delete c.g[m],c.h--}}this.F=null},vt.prototype.K=function(c,m,_,b){return this.i.add(String(c),m,!1,_,b)},vt.prototype.L=function(c,m,_,b){return this.i.add(String(c),m,!0,_,b)};function Tn(c,m,_,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,$=0;$<m.length;++$){var he=m[$];if(he&&!he.da&&he.capture==_){var qe=he.listener,Mt=he.ha||he.src;he.fa&&un(c.i,he),j=qe.call(Mt,b)!==!1&&j}}return j&&!b.defaultPrevented}function tn(c,m,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function fu(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xh extends ce{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){ce.call(this),this.h=c,this.g={}}H(ha,ce);var da=[];function fa(c){fe(c.g,function(m,_){this.g.hasOwnProperty(_)&&Ze(m)},c),c.g={}}ha.prototype.N=function(){ha.aa.N.call(this),fa(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=p.JSON.stringify,ts=p.JSON.parse,pa=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Ro(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){ae.call(this,"d")}H(Oi,ae);function Co(){ae.call(this,"c")}H(Co,ae);var ri={},Io=null;function mr(){return Io=Io||new vt}ri.La="serverreachability";function ns(c){ae.call(this,ri.La,c)}H(ns,ae);function gr(c){const m=mr();Je(m,new ns(m))}ri.STAT_EVENT="statevent";function pu(c,m){ae.call(this,ri.STAT_EVENT,c),this.stat=m}H(pu,ae);function dt(c){const m=mr();Je(m,new pu(m,c))}ri.Ma="timingevent";function Nt(c,m){ae.call(this,ri.Ma,c),this.size=m}H(Nt,ae);function xt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Do(c,m,_,b,j,$){c.info(function(){if(c.g)if($)for(var he="",qe=$.split("&"),Mt=0;Mt<qe.length;Mt++){var Fe=qe[Mt].split("=");if(1<Fe.length){var Bt=Fe[0];Fe=Fe[1];var Vt=Bt.split("_");he=2<=Vt.length&&Vt[1]=="type"?he+(Bt+"="+Fe+"&"):he+(Bt+"=redacted&")}}else he=null;else he=$;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+_+`
`+he})}function $h(c,m,_,b,j,$,he){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+_+`
`+$+" "+he})}function yr(c,m,_,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ma(c,_)+(b?" "+b:"")})}function mu(c,m){c.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function ma(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var he=1;he<j.length;he++)j[he]=""}}}}return Kn(_)}catch{return m}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function si(){}H(si,wo),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ai=new si;function cn(c,m,_,b){this.j=c,this.i=m,this.l=_,this.R=b||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var ko={},is={};function Yn(c,m,_){c.L=1,c.v=Ea(Sn(m)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,m){c.F=Date.now(),ga(c),c.A=Sn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Lo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new St,c.g=ku(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Xh(R(c.Y,c,c.g),c.O)),m=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(da[0]=j.toString()),j=da);for(var $=0;$<j.length;$++){var he=_e(_,j[$],b||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),gr(),Do(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Pn(c)==3?m.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=Pn(this.g);var m=this.g.Ba();const Hi=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Vt!=4||m==7||(m==8||0>=Hi?gr(3):gr(2)),vr(this);var _=this.g.Z();this.X=_;t:if(gu(this)){var b=bu(this.g);c="";var j=b.length,$=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),oi(this);var he="";break t}this.h.i=new p.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!($&&m==j-1)});b.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,$h(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Mt=this.g;if((qe=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(qe)){var Fe=qe;break t}}Fe=null}if(_=Fe)yr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,dt(12),Yt(this),oi(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<he.length;)if(Qt=yu(this,he),Qt==is){Vt==4&&(this.s=4,dt(14),_=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==ko){this.s=4,dt(15),yr(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else yr(this.i,this.l,Qt,null),ya(this,Qt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||he.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)yr(this.i,this.l,he,"[Invalid Chunked Response]"),Yt(this),oi(this);else if(0<he.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ca(Bt),Bt.M=!0,dt(11))}}else yr(this.i,this.l,he,null),ya(this,he);Vt==4&&Yt(this),this.o&&!this.J&&(Vt==4?Cu(this.j,this):(this.o=!1,ga(this)))}else nd(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Yt(this),oi(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,m){var _=c.C,b=m.indexOf(`
`,_);return b==-1?is:(_=Number(m.substring(_,b)),isNaN(_)?ko:(b+=1,b+_>m.length?is:(m=m.slice(b,b+_),c.C=b+_,m)))}cn.prototype.cancel=function(){this.J=!0,Yt(this)};function ga(c){c.S=Date.now()+c.I,_u(c,c.I)}function _u(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(R(c.ba,c),m)}function vr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mu(this.i,this.A),this.L!=2&&(gr(),dt(17)),Yt(this),this.s=2,oi(this)):_u(this,this.S-c)};function oi(c){c.j.G==0||c.J||Cu(c.j,c)}function Yt(c){vr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,fa(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ya(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ms(_),fs(_);else break e;Ho(_),dt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(R(_.Za,_),6e3));if(1>=as(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((c.K||_.g==c)&&ms(_),!se(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let Fe=j[m];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const Bt=Fe[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const Vt=Fe[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const Hi=Fe[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(b=1.5*Hi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Qt=c.g;if(Qt){const pi=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var $=b.h;$.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ss($,$.h),$.h=null))}if(b.D){const Fo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(b.ya=Fo,nt(b.I,b.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var he=c;if(b.qa=Du(b,b.J?b.ia:null,b.W),he.K){hn(b.h,he);var qe=he,Mt=b.L;Mt&&(qe.I=Mt),qe.B&&(vr(qe),ga(qe)),b.g=he}else xu(b);0<_.i.length&&ps(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Bi(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Bi(_,7):jo(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}gr(4)}catch{}}var vu=class{constructor(c,m){this.g=c,this.map=m}};function Vi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function as(c){return c.h?1:c.g?c.g.size:0}function Oo(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ss(c,m){c.g?c.g.add(m):c.h=m}function hn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vi.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return P(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var m=[],_=c.length,b=0;b<_;b++)m.push(c[b]);return m}m=[],_=0;for(b in c)m[_++]=c[b];return m}function os(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const b in c)m[_++]=b;return m}}}function Mo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=os(c),b=Zh(c),j=b.length,$=0;$<j;$++)m.call(void 0,b[$],_&&_[$],c)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var $=c[_].substring(0,b);j=c[_].substring(b+1)}else $=c[_];m($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Rt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rt){this.h=c.h,va(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.s),this.l=c.l;var m=c.i,_=new Li;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Pi(this,_),this.m=c.m}else c&&(m=String(c).match(_a))?(this.h=!1,va(this,m[1]||"",!0),this.o=Nn(m[2]||""),this.g=Nn(m[3]||"",!0),Er(this,m[4]),this.l=Nn(m[5]||"",!0),Pi(this,m[6]||"",!0),this.m=Nn(m[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Rt.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ta(m,Vo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ta(m,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ta(_,_.charAt(0)=="/"?ed:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ta(_,ls)),c.join("")};function Sn(c){return new Rt(c)}function va(c,m,_){c.j=_?Nn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Pi(c,m,_){m instanceof Li?(c.i=m,Tu(c.i,c.h)):(_||(m=Ta(m,td)),c.i=new Li(m,c.h))}function nt(c,m,_){c.i.set(m,_)}function Ea(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Eu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,ls=/#/g;function Li(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Li.prototype,r.add=function(c,m){Mn(this),this.i=null,c=li(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ui(c,m){Mn(c),m=li(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zi(c,m){return Mn(c),m=li(c,m),c.g.has(m)}r.forEach=function(c,m){Mn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(m,j,b,this)},this)},this)},r.na=function(){Mn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const j=c[b];for(let $=0;$<j.length;$++)_.push(m[b])}return _},r.V=function(c){Mn(this);let m=[];if(typeof c=="string")zi(this,c)&&(m=m.concat(this.g.get(li(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return Mn(this),this.i=null,c=li(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Lo(c,m,_){Ui(c,m),0<_.length&&(c.i=null,c.g.set(li(c,m),P(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const $=encodeURIComponent(String(b)),he=this.V(b);for(b=0;b<he.length;b++){var j=$;he[b]!==""&&(j+="="+encodeURIComponent(String(he[b]))),c.push(j)}}return this.i=c.join("&")};function li(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Tu(c,m){m&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Ui(this,b),Lo(this,j,_))},c)),c.j=m}function Sa(c,m){const _=new On;if(p.Image){const b=new Image;b.onload=k(Vn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=k(Vn,_,"TestLoadImage: error",!1,m,b),b.onabort=k(Vn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=k(Vn,_,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Qn(c,m){const _=new On,b=new AbortController,j=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(j),$.ok?Vn(_,"TestPingServer: ok",!0,m):Vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Vn(_,"TestPingServer: error",!1,m)})}function Vn(c,m,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function ba(){this.g=new pa}function ui(c,m,_){const b=_||"";try{Mo(c,function(j,$){let he=j;g(j)&&(he=Kn(j)),m.push(b+$+"="+encodeURIComponent(he))})}catch(j){throw m.push(b+"type="+encodeURIComponent("_badmap")),j}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Tr,wo),Tr.prototype.g=function(){return new ji(this.l,this.j)},Tr.prototype.i=function(c){return function(){return c}}({});function ji(c,m){vt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(ji,vt),r=ji.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,hi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ci(this):hi(this),this.readyState==3&&Uo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},r.Qa=function(c){this.g&&(this.response=c,ci(this))},r.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hi(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let m="";return fe(c,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function jt(c,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=zo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):nt(c,m,_))}function Xe(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Xe,vt);var us=/^https?$/i,Aa=["POST","PUT"];r=Xe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?xo(this.o):xo(ai),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){Su(this,$);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())_.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Aa,m,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,he]of _)this.g.setRequestHeader($,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Su(this,$)}};function Su(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,cs(c),di(c)}function cs(c){c.A||(c.A=!0,Je(c,"complete"),Je(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Je(this,"complete"),Je(this,"abort"),di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?hs(this):this.bb())},r.bb=function(){hs(this)};function hs(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)tn(c.Ea,0,c);else if(Je(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=he===0){var j=String(c.D).match(_a)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),b=!us.test(j?j.toLowerCase():"")}_=b}if(_)Je(c,"complete"),Je(c,"success");else{c.m=6;try{var $=2<Pn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",cs(c)}}finally{di(c)}}}}function di(c,m){if(c.g){wa(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Je(c,"ready");try{_.onreadystatechange=b}catch{}}}function wa(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ts(m)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nd(c){const m={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(se(c[b]))continue;var _=M(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[j]||[];m[j]=$,$.push(_)}I(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function ds(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,c),this.cb=xa("retryDelaySeedMs",1e4,c),this.Wa=xa("forwardChannelMaxRetries",2,c),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ds.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,b){dt(0),this.W=c,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Du(this,null,this.W),ps(this)};function jo(c){if(Au(c),c.G==3){var m=c.U++,_=Sn(c.I);if(nt(_,"SID",c.K),nt(_,"RID",m),nt(_,"TYPE","terminate"),Ra(c,_),m=new cn(c,c.j,m),m.L=2,m.v=Ea(Sn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=ku(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ga(m)}Iu(c)}function fs(c){c.g&&(Ca(c),c.g.cancel(),c.g=null)}function Au(c){fs(c),c.u&&(p.clearTimeout(c.u),c.u=null),ms(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ps(c){if(!rs(c.h)&&!c.s){c.s=!0;var m=c.Ga;le||O(),de||(le(),de=!0),ge.add(m,c),c.B=0}}function id(c,m){return as(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(R(c.Ga,c,m),qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new cn(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),N($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=wu(this,j,m),_=Sn(this.I),nt(_,"RID",c),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Ra(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(zo($)))+"&"+m:this.m&&jt(_,this.m,$)),ss(this.h,j),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",m),nt(_,"SID","null"),j.T=!0,Yn(j,_,null)):Yn(j,_,m),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||rs(this.h)||Bo(this))};function Bo(c,m){var _;m?_=m.l:_=c.U++;const b=Sn(c.I);nt(b,"SID",c.K),nt(b,"RID",_),nt(b,"AID",c.T),Ra(c,b),c.m&&c.o&&jt(b,c.m,c.o),_=new cn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=wu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ss(c.h,_),Yn(_,b,m)}function Ra(c,m){c.H&&fe(c.H,function(_,b){nt(m,b,_)}),c.l&&Mo({},function(_,b){nt(m,b,_)})}function wu(c,m,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const he=["count="+_];$==-1?0<_?($=j[0].g,he.push("ofs="+$)):$=0:he.push("ofs="+$);let qe=!0;for(let Mt=0;Mt<_;Mt++){let Fe=j[Mt].g;const Bt=j[Mt].map;if(Fe-=$,0>Fe)$=Math.max(0,j[Mt].g-100),qe=!1;else try{ui(Bt,he,"req"+Fe+"_")}catch{b&&b(Bt)}}if(qe){b=he.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,b}function xu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;le||O(),de||(le(),de=!0),ge.add(m,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(R(c.Fa,c),qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fs(this),Ru(this))};function Ca(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Ru(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Sn(c.qa);nt(m,"RID","rpc"),nt(m,"SID",c.K),nt(m,"AID",c.T),nt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(m,"TO",c.ja),nt(m,"TYPE","xmlhttp"),Ra(c,m),c.m&&c.o&&jt(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ea(Sn(m)),_.m=null,_.P=!0,Mi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,fs(this),Ho(this),dt(19))};function ms(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Cu(c,m){var _=null;if(c.g==m){ms(c),Ca(c),c.g=null;var b=2}else if(Oo(c.h,m))_=m.D,hn(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;b=mr(),Je(b,new Nt(b,_)),ps(c)}else xu(c);else if(j=m.s,j==3||j==0&&0<m.X||!(b==1&&id(c,m)||b==2&&Ho(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),j){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function qo(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Bi(c,m){if(c.j.info("Error code "+m),m==2){var _=R(c.fb,c),b=c.Xa;const j=!b;b=new Rt(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||va(b,"https"),Ea(b),j?Sa(b.toString(),_):Qn(b.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(m),Iu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const m=No(c.h);(m.length!=0||c.i.length!=0)&&(U(c.ka,m),U(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Du(c,m,_){var b=_ instanceof Rt?Sn(_):new Rt(_);if(b.g!="")m&&(b.g=m+"."+b.g),Er(b,b.s);else{var j=p.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var $=new Rt(null);b&&va($,b),m&&($.g=m),j&&Er($,j),_&&($.l=_),b=$}return _=c.D,m=c.ya,_&&m&&nt(b,_,m),nt(b,"VER",c.la),Ra(c,b),b}function ku(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Xe(new Tr({eb:_})):new Xe(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function gs(){}gs.prototype.g=function(c,m){return new dn(c,m)};function dn(c,m){vt.call(this),this.g=new ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!se(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new fi(this)}H(dn,vt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){jo(this.g)},dn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Kn(c),c=_);m.i.push(new vu(m.Ya++,c)),m.G==3&&ps(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,dn.aa.N.call(this)};function Nu(c){Oi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}H(Nu,Oi);function Mu(){Co.call(this),this.status=1}H(Mu,Co);function fi(c){this.g=c}H(fi,Ou),fi.prototype.ua=function(){Je(this.g,"a")},fi.prototype.ta=function(c){Je(this.g,new Nu(c))},fi.prototype.sa=function(c){Je(this.g,new Mu)},fi.prototype.ra=function(){Je(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,WE=function(){return new gs},QE=function(){return mr()},YE=ri,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Wc=_r,Ni.COMPLETE="complete",KE=Ni,Ro.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Pl=Ro,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,GE=Xe}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",Bv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new qp("@firebase/firestore");function Gs(){return Wa.logLevel}function pe(r,...e){if(Wa.logLevel<=je.DEBUG){const n=e.map(lm);Wa.debug(`Firestore (${vo}): ${r}`,...n)}}function hr(r,...e){if(Wa.logLevel<=je.ERROR){const n=e.map(lm);Wa.error(`Firestore (${vo}): ${r}`,...n)}}function ro(r,...e){if(Wa.logLevel<=je.WARN){const n=e.map(lm);Wa.warn(`Firestore (${vo}): ${r}`,...n)}}function lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,XE(r,a,n)}function XE(r,e,n){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw hr(a),new Error(a)}function $e(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||XE(e,o,a)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AC{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ta,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ta)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new $E(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class wC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new wC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const a=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=CC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Be(r,e){return r<e?-1:r>e?1:0}function Rp(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return cp(o)===cp(u)?Be(o,u):cp(o)?1:-1}return Be(r.length,e.length)}const IC=55296,DC=57343;function cp(r){const e=r.charCodeAt(0);return e>=IC&&e<=DC}function ao(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class Ei{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ce(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Ei.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const a=Ei.isNumericId(e),o=Ei.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):Rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class ut extends Ei{construct(e,n,a){return new ut(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ei{construct(e,n,a){return new Jt(e,n,a)}static isValidIdentifier(e){return kC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Jt([qv])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(u(),o++)}if(u(),d)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ut.fromString(e))}static fromName(e){return new Se(ut.fromString(e).popFirst(5))}static empty(){return new Se(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function OC(r,e,n,a){if(e===!0&&a===!0)throw new ve(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Fv(r){if(!Se.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gv(r){if(Se.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function so(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(r);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!JE(r))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ve(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Yv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Yv);return new ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kv)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:kt("string",ct._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ct(0,0))}static max(){return new ke(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function NC(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new ct(n+1,0):new ct(n,a));return new ia(o,Se.empty(),e)}function MC(r){return new ia(r.readTime,r.key,Wl)}class ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ia(ke.min(),Se.empty(),Wl)}static max(){return new ia(ke.max(),Se.empty(),Wl)}}function VC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==PC)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,a)=>{n(e)})}static reject(e){return new ie((n,a)=>{a(e)})}static waitFor(e){return new ie((n,a)=>{let o=0,u=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++u,d&&u===o&&n()},y=>a(y))}),d=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const a of e)n=n.next(o=>o?ie.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ie((a,o)=>{const u=e.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next(T=>{d[g]=T,++p,p===u&&a(d)},T=>o(T))}})}static doWhile(e,n){return new ie((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function UC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function kh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function zC(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function jC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Qv(e)),e=BC(r.get(n),e);return Qv(e)}function BC(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case eT:n+="";break;default:n+=u}}return n}function Qv(r){return r+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ca(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function tT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Zt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new ei([])}unionWith(e){let n=new zt(Jt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=HC.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="server_timestamp",rT="__type__",aT="__previous_value__",sT="__local_write_time__";function dm(r){return(r?.mapValue?.fields||{})[rT]?.stringValue===iT}function Oh(r){const e=r.mapValue.fields[aT];return dm(e)?Oh(e):e}function Xl(r){const e=ra(r.mapValue.fields[sT].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,a,o,u,d,p,y,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const hh="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",FC="__max__",zc={mapValue:{}},lT="__vector__",dh="value";function sa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dm(r)?4:KC(r)?9007199254740991:GC(r)?10:11:Ce(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const n=sa(r);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ra(o.timestampValue),p=ra(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return aa(o.bytesValue).isEqual(aa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=wt(o.doubleValue),p=wt(u.doubleValue);return d===p?ch(d)===ch(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Wv(d)!==Wv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0}(r,e);default:return Ce(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find(n=>Ci(n,e))!==void 0}function oo(r,e){if(r===e)return 0;const n=sa(r),a=sa(e);if(n!==a)return Be(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return function(u,d){const p=wt(u.integerValue||u.doubleValue),y=wt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(r,e);case 3:return $v(r.timestampValue,e.timestampValue);case 4:return $v(Xl(r),Xl(e));case 5:return Rp(r.stringValue,e.stringValue);case 6:return function(u,d){const p=aa(u),y=aa(d);return p.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=Be(p[g],y[g]);if(T!==0)return T}return Be(p.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Be(wt(u.latitude),wt(d.latitude));return p!==0?p:Be(wt(u.longitude),wt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Zv(r.arrayValue,e.arrayValue);case 10:return function(u,d){const p=u.fields||{},y=d.fields||{},g=p[dh]?.arrayValue,T=y[dh]?.arrayValue,x=Be(g?.values?.length||0,T?.values?.length||0);return x!==0?x:Zv(g,T)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===zc.mapValue&&d===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let x=0;x<y.length&&x<T.length;++x){const R=Rp(y[x],T[x]);if(R!==0)return R;const k=oo(p[y[x]],g[T[x]]);if(k!==0)return k}return Be(y.length,T.length)}(r.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function $v(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=ra(r),a=ra(e),o=Be(n.seconds,a.seconds);return o!==0?o:Be(n.nanos,a.nanos)}function Zv(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=oo(n[o],a[o]);if(u)return u}return Be(n.length,a.length)}function lo(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=ra(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return aa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Se.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Cp(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${Cp(n.fields[d])}`;return o+"}"}(r.mapValue):Ce(61005,{value:r})}function Xc(r){switch(sa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return aa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return ca(a.fields,(u,d)=>{o+=u.length+Xc(d)}),o}(r.mapValue);default:throw Ce(13486,{value:r})}}function Ip(r){return!!r&&"integerValue"in r}function fm(r){return!!r&&"arrayValue"in r}function Jv(r){return!!r&&"nullValue"in r}function e0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function GC(r){return(r?.mapValue?.fields||{})[oT]?.stringValue===lT}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Bl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function KC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Jt.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=p.popLast()}d?a[p.lastSegment()]=Bl(d):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ca(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Dn(Bl(this.value))}}function uT(r){const e=[];return ca(r.fields,(n,a)=>{const o=new Jt([n]);if($c(a)){const u=uT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,a,o,u,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,ke.min(),ke.min(),ke.min(),Dn.empty(),0)}static newFoundDocument(e,n,a,o){return new on(e,1,n,ke.min(),a,o,0)}static newNoDocument(e,n){return new on(e,2,n,ke.min(),ke.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ke.min(),ke.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function t0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(d.referenceValue),n.key):a=oo(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function n0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function YC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class Ut extends cT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new WC(e,n,a):n==="array-contains"?new ZC(e,a):n==="in"?new JC(e,a):n==="not-in"?new e2(e,a):n==="array-contains-any"?new t2(e,a):new Ut(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new XC(e,a):new $C(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ii(e,n)}matches(e){return hT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(r){return r.op==="and"}function dT(r){return QC(r)&&hT(r)}function QC(r){for(const e of r.filters)if(e instanceof Ii)return!1;return!0}function Dp(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(dT(r))return r.filters.map(e=>Dp(e)).join(",");{const e=r.filters.map(n=>Dp(n)).join(",");return`${r.op}(${e})`}}function fT(r,e){return r instanceof Ut?function(a,o){return o instanceof Ut&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)}(r,e):r instanceof Ii?function(a,o){return o instanceof Ii&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,p)=>u&&fT(d,o.filters[p]),!0):!1}(r,e):void Ce(19439)}function pT(r){return r instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(r):r instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(pT).join(" ,")+"}"}(r):"Filter"}class WC extends Ut{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class XC extends Ut{constructor(e,n){super(e,"in",n),this.keys=mT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $C extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=mT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mT(r,e){return(e.arrayValue?.values||[]).map(n=>Se.fromName(n.referenceValue))}class ZC extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fm(n)&&Zl(n.arrayValue,this.value)}}class JC extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class e2 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class t2 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Zl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,a=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function i0(r,e=null,n=[],a=[],o=null,u=null,d=null){return new n2(r,e,n,a,o,u,d)}function pm(r){const e=Ne(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Dp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>lo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>lo(a)).join(",")),e.Te=n}return e.Te}function mm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!fT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n0(r.startAt,e.startAt)&&n0(r.endAt,e.endAt)}function kp(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,a=[],o=[],u=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i2(r,e,n,a,o,u,d,p){return new Nh(r,e,n,a,o,u,d,p)}function gT(r){return new Nh(r)}function r0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function r2(r){return r.collectionGroup!==null}function Hl(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Jt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,a))}),n.has(Jt.keyField().canonicalString())||e.Ie.push(new ph(Jt.keyField(),a))}return e.Ie}function bi(r){const e=Ne(r);return e.Ee||(e.Ee=a2(e,Hl(r))),e.Ee}function a2(r,e){if(r.limitType==="F")return i0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)});const n=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return i0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Op(r,e,n){return new Nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Mh(r,e){return mm(bi(r),bi(e))&&r.limitType===e.limitType}function yT(r){return`${pm(bi(r))}|lt:${r.limitType}`}function Ks(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>pT(o)).join(", ")}]`),kh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${a})`}(bi(r))}; limitType=${r.limitType})`}function Vh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Se.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Hl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,p,y){const g=t0(d,p,y);return d.inclusive?g<=0:g<0}(a.startAt,Hl(a),o)||a.endAt&&!function(d,p,y){const g=t0(d,p,y);return d.inclusive?g>=0:g>0}(a.endAt,Hl(a),o))}(r,e)}function s2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _T(r){return(e,n)=>{let a=!1;for(const o of Hl(r)){const u=o2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function o2(r,e,n){const a=r.field.isKeyField()?Se.comparator(e.key,n.key):function(u,d,p){const y=d.data.field(u),g=p.data.field(u);return y!==null&&g!==null?oo(y,g):Ce(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new yt(Se.comparator);function dr(){return l2}const vT=new yt(Se.comparator);function Ll(...r){let e=vT;for(const n of r)e=e.insert(n.key,n);return e}function ET(r){let e=vT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ga(){return ql()}function TT(){return ql()}function ql(){return new Za(r=>r.toString(),(r,e)=>r.isEqual(e))}const u2=new yt(Se.comparator),c2=new zt(Se.comparator);function He(...r){let e=c2;for(const n of r)e=e.add(n);return e}const h2=new zt(Be);function d2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function ST(r){return{integerValue:""+r}}function f2(r,e){return zC(e)?ST(e):gm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function p2(r,e,n){return r instanceof mh?function(o,u){const d={fields:{[rT]:{stringValue:iT},[sT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dm(u)&&(u=Oh(u)),u&&(d.fields[aT]=u),{mapValue:d}}(n,e):r instanceof Jl?AT(r,e):r instanceof eu?wT(r,e):function(o,u){const d=bT(o,u),p=a0(d)+a0(o.Ae);return Ip(d)&&Ip(o.Ae)?ST(p):gm(o.serializer,p)}(r,e)}function m2(r,e,n){return r instanceof Jl?AT(r,e):r instanceof eu?wT(r,e):n}function bT(r,e){return r instanceof gh?function(a){return Ip(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class mh extends Ph{}class Jl extends Ph{constructor(e){super(),this.elements=e}}function AT(r,e){const n=xT(e);for(const a of r.elements)n.some(o=>Ci(o,a))||n.push(a);return{arrayValue:{values:n}}}class eu extends Ph{constructor(e){super(),this.elements=e}}function wT(r,e){let n=xT(e);for(const a of r.elements)n=n.filter(o=>!Ci(o,a));return{arrayValue:{values:n}}}class gh extends Ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function a0(r){return wt(r.integerValue||r.doubleValue)}function xT(r){return fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Jl&&o instanceof Jl||a instanceof eu&&o instanceof eu?ao(a.elements,o.elements,Ci):a instanceof gh&&o instanceof gh?Ci(a.Ae,o.Ae):a instanceof mh&&o instanceof mh}(r.transform,e.transform)}class y2{constructor(e,n){this.version=e,this.transformResults=n}}class Ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lh{}function RT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ym(r.key,Ai.none()):new Uh(r.key,r.data,Ai.none());{const n=r.data,a=Dn.empty();let o=new zt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Ja(r.key,a,new ei(o.toArray()),Ai.none())}}function _2(r,e,n){r instanceof Uh?function(o,u,d){const p=o.value.clone(),y=o0(o.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Ja?function(o,u,d){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=o0(o.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(CT(o)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,a){return r instanceof Uh?function(u,d,p,y){if(!Zc(u.precondition,d))return p;const g=u.value.clone(),T=l0(u.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Ja?function(u,d,p,y){if(!Zc(u.precondition,d))return p;const g=l0(u.fieldTransforms,y,d),T=d.data;return T.setAll(CT(u)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(x=>x.field))}(r,e,n,a):function(u,d,p){return Zc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,n)}function v2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=bT(a.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(a.field,u))}return n||null}function s0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ao(a,o,(u,d)=>g2(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uh extends Lh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ja extends Lh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function o0(r,e,n){const a=new Map;$e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);a.set(u.field,m2(d,p,n[o]))}return a}function l0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);a.set(o.field,p2(u,d,e))}return a}class ym extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Fl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Fl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=TT();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const y=RT(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(ke.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,a)=>s0(n,a))&&ao(this.baseMutations,e.baseMutations,(n,a)=>s0(n,a))}}class _m{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return u2}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new _m(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ke;function A2(r){switch(r){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function IT(r){if(r===void 0)return hr("GRPC error has no .code"),re.UNKNOWN;switch(r){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:r})}}(Ke=Dt||(Dt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new ea([4294967295,4294967295],0);function u0(r){const e=w2().encode(r),n=new FE;return n.update(e),new Uint8Array(n.digest())}function c0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ea([n,a],0),new ea([o,u],0)]}class vm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ea.fromNumber(a)));return o.compare(x2)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=u0(e),[a,o]=c0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new vm(u,o,n);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const n=u0(e),[a,o]=c0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new zh(ke.min(),o,new yt(Be),dr(),He())}}class uu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new uu(a,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class DT{constructor(e,n){this.targetId=e,this.Ce=n}}class kT{constructor(e,n,a=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class h0{constructor(){this.ve=0,this.Fe=d0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),a=He();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ce(38017,{changeType:u})}}),new uu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=d0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R2{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=jc(),this.He=jc(),this.Ye=new yt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(kp(u))if(a===0){const d=new Se(u.path);this.et(n,d,on.newNoDocument(d,ke.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=aa(a).toUint8Array()}catch(y){if(y instanceof nT)return ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new vm(d,o,u)}catch(y){return ro(y instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,d)=>{const p=this.ot(d);if(p){if(u.current&&kp(p.target)){const y=new Se(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,on.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}});let a=He();this.He.forEach((u,d)=>{let p=!0;d.forEachWhile(y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(u))}),this.je.forEach((u,d)=>d.setReadTime(e));const o=new zh(e,n,this.Ye,this.je,a);return this.je=dr(),this.Je=jc(),this.He=jc(),this.Ye=new yt(Be),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jc(){return new yt(Se.comparator)}function d0(){return new yt(Se.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class k2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(r,e){return r.useProto3Json||kh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function O2(r,e){return yh(r,e.toTimestamp())}function wi(r){return $e(!!r,49232),ke.fromTimestamp(function(n){const a=ra(n);return new ct(a.seconds,a.nanos)}(r))}function Em(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function NT(r){const e=ut.fromString(r);return $e(UT(e),10190,{key:e.toString()}),e}function Vp(r,e){return Em(r.databaseId,e.path)}function hp(r,e){const n=NT(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Se(VT(n))}function MT(r,e){return Em(r.databaseId,e)}function N2(r){const e=NT(r);return e.length===4?ut.emptyPath():VT(e)}function Pp(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VT(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f0(r,e,n){return{name:Vp(r,e),fields:n.value.mapValue.fields}}function M2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?($e(T===void 0||typeof T=="string",58123),en.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),en.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const T=g.code===void 0?re.UNKNOWN:IT(g.code);return new ve(T,g.message||"")}(d);n=new kT(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=hp(r,a.document.name),u=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):ke.min(),p=new Dn({mapValue:{fields:a.document.fields}}),y=on.newFoundDocument(o,u,d,p),g=a.targetIds||[],T=a.removedTargetIds||[];n=new Jc(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=hp(r,a.document),u=a.readTime?wi(a.readTime):ke.min(),d=on.newNoDocument(o,u),p=a.removedTargetIds||[];n=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=hp(r,a.document),u=a.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new b2(o,u),p=a.targetId;n=new DT(p,d)}}return n}function V2(r,e){let n;if(e instanceof Uh)n={update:f0(r,e.key,e.value)};else if(e instanceof ym)n={delete:Vp(r,e.key)};else if(e instanceof Ja)n={update:f0(r,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof E2))return Ce(16599,{Vt:e.type});n={verify:Vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const p=d.transform;if(p instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:O2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)}(r,e.precondition)),n}function P2(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(n=>function(o,u){let d=o.updateTime?wi(o.updateTime):wi(u);return d.isEqual(ke.min())&&(d=wi(u)),new y2(d,o.transformResults||[])}(n,e))):[]}function L2(r,e){return{documents:[MT(r,e.path)]}}function U2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=MT(r,o);const u=function(g){if(g.length!==0)return LT(Ii.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(T=>function(R){return{field:Ys(R.field),direction:B2(R.dir)}}(T))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Np(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function z2(r){let e=N2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){$e(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(x){const R=PT(x);return R instanceof Ii&&dT(R)?R.getFilters():[R]}(n.where));let d=[];n.orderBy&&(d=function(x){return x.map(R=>function(H){return new ph(Qs(H.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(R))}(n.orderBy));let p=null;n.limit&&(p=function(x){let R;return R=typeof x=="object"?x.value:x,kh(R)?null:R}(n.limit));let y=null;n.startAt&&(y=function(x){const R=!!x.before,k=x.values||[];return new fh(k,R)}(n.startAt));let g=null;return n.endAt&&(g=function(x){const R=!x.before,k=x.values||[];return new fh(k,R)}(n.endAt)),i2(e,o,d,u,p,"F",y,g)}function j2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Qs(n.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qs(n.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(n.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qs(n.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ut.create(Qs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(a=>PT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(r):Ce(30097,{filter:r})}function B2(r){return C2[r]}function H2(r){return I2[r]}function q2(r){return D2[r]}function Ys(r){return{fieldPath:r.canonicalString()}}function Qs(r){return Jt.fromServerFormat(r.fieldPath)}function LT(r){return r instanceof Ut?function(n){if(n.op==="=="){if(e0(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e0(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:H2(n.op),value:n.value}}}(r):r instanceof Ii?function(n){const a=n.getFilters().map(o=>LT(o));return a.length===1?a[0]:{compositeFilter:{op:q2(n.op),filters:a}}}(r):Ce(54877,{filter:r})}function F2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,a,o,u=ke.min(),d=ke.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.yt=e}}function K2(r){const e=z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.Cn=new Q2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ia.min())}updateCollectionGroup(e,n,a){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new zt(ut.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(zT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",W2=1048576;function g0([r,e],[n,a]){const o=Be(r,n);return o===0?Be(e,a):o}class X2{constructor(e){this.Ir=e,this.buffer=new zt(g0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();g0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?pe(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)})}}class Z2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Dh.ce);const a=new X2(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(p0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(a=x,p=Date.now(),this.removeTargets(e,a,n))).next(x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(x=>(g=Date.now(),Gs()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x})))}}function J2(r,e){return new Z2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ie.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Fl(a.mutation,o,ei.empty(),ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,He()).next(()=>a))}getLocalViewOfDocuments(e,n,a=He()){const o=Ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=Ll();return u.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=Ga();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,He()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,a,o){let u=dr();const d=ql(),p=function(){return ql()}();return n.forEach((y,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ja)?u=u.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Fl(T.mutation,g,T.mutation.getFieldMask(),ct.now())):d.set(g.key,ei.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((g,T)=>d.set(g,T)),n.forEach((g,T)=>p.set(g,new tI(T,d.get(g)??null))),p))}recalculateAndSaveOverlays(e,n){const a=ql();let o=new yt((d,p)=>d-p),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let T=a.get(y)||ei.empty();T=p.applyToLocalView(g,T),a.set(y,T);const x=(o.get(p.batchId)||He()).add(y);o=o.insert(p.batchId,x)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,x=TT();T.forEach(R=>{if(!u.has(R)){const k=RT(n.get(R),a.get(R));k!==null&&x.set(R,k),u=u.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ie.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return Se.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ie.resolve(Ga());let p=Wl,y=u;return d.next(g=>ie.forEach(g,(T,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{y=y.insert(T,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,y,g,He())).next(T=>({batchId:p,changes:ET(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(a=>{let o=Ll();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,u).next(p=>ie.forEach(p,y=>{const g=function(x,R){return new Nh(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(T=>{T.forEach((x,R)=>{d=d.insert(x,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))});let p=Ll();return d.forEach((y,g)=>{const T=u.get(y);T!==void 0&&Fl(T.mutation,g,ei.empty(),ct.now()),Vh(n,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:K2(o.bundledQuery),readTime:wi(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.overlays=new yt(Se.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ga();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,n,a){const o=Ga(),u=n.length+1,d=new Se(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>a&&o.set(y.getKey(),y)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new yt((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=Ga(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=Ga(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=o)););return ie.resolve(p)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new S2(n,a));let u=this.qr.get(n);u===void 0&&(u=He(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Gt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new Se(new ut([])),a=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),u.push(d.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ut([])),a=new Gt(n,e),o=new Gt(n,e+1);let u=He();return this.Ur.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Gt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new T2(u,n,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Gt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],d=>{const p=this.Xr(d.Yr);u.push(p)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new zt(Be);return n.forEach(o=>{const u=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],p=>{a=a.add(p.Yr)})}),ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const d=new Gt(new Se(u),0);let p=new zt(Be);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Yr)),!0)},d),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ie.forEach(n.mutations,o=>{const u=new Gt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new Gt(n,0),o=this.Zr.firstAfterOrEqual(a);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.ri=e,this.docs=function(){return new yt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ie.resolve(a?a.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let a=dr();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),ie.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=dr();const d=n.path,p=new Se(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||VC(MC(T),a)<=0||(o.has(T.key)||Vh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ce(9500)}ii(e,n){return ie.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new lI(this)}getSize(e){return ie.resolve(this.size)}}class lI extends eI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.persistence=e,this.si=new Za(n=>pm(n),mm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Tm,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ie.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ie.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ie.resolve(a)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new aI,this.referenceDelegate=e(this),this.Pi=new uI(this),this.indexManager=new Y2,this.remoteDocumentCache=function(o){return new oI(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new G2(n),this.Ii=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new sI(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){pe("MemoryPersistence","Starting transaction:",e);const o=new cI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ie.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class cI extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Ri=new Tm,this.Vi=null}static mi(e){return new Sm(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ie.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,a=>{const o=Se.fromPath(a);return this.gi(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.pi=new Za(a=>jC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=J2(this,n)}static mi(e,n){return new _h(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return ie.forEach(this.pi,(a,o)=>this.br(e,a,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,n).next(p=>{p||(a++,u.removeEntry(d,ke.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}br(e,n,a){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yb()?8:UC(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ws(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new hI;return this.Ss(e,n,d).next(p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)})}).next(()=>u.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(Gs()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Gs()<=je.DEBUG&&pe("QueryEngine","Query:",Ks(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Gs()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):ie.resolve())}ys(e,n){if(r0(n))return ie.resolve(null);let a=bi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Op(n,null,"F"),a=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=He(...u);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(y=>{const g=this.Ds(n,p);return this.Cs(n,g,d,y.readTime)?this.ys(e,Op(n,null,"F")):this.vs(e,g,n,y)}))})))}ws(e,n,a,o){return r0(n)||o.isEqual(ke.min())?ie.resolve(null):this.ps.getDocuments(e,a).next(u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,o)?ie.resolve(null):(Gs()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(n)),this.vs(e,d,n,NC(o,Wl)).next(p=>p))})}Ds(e,n){let a=new zt(_T(e));return n.forEach((o,u)=>{Vh(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Gs()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,ia.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",fI=3e8;class pI{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(Be),this.xs=new Za(u=>pm(u),mm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function mI(r,e,n,a){return new pI(r,e,n,a)}async function BT(r,e){const n=Ne(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],p=[];let y=He();for(const g of o){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(a,y).next(g=>({Ls:g,removedBatchIds:d,addedBatchIds:p}))})})}function gI(r,e){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,y,g,T){const x=g.batch,R=x.keys();let k=ie.resolve();return R.forEach(H=>{k=k.next(()=>T.getEntry(y,H)).next(P=>{const U=g.docVersions.get(H);$e(U!==null,48541),P.version.compareTo(U)<0&&(x.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),T.addEntry(P)))})}),k.next(()=>p.mutationQueue.removeMutationBatch(y,x))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let y=He();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function HT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yI(r,e){const n=Ne(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach((T,x)=>{const R=o.get(x);if(!R)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,x).next(()=>n.Pi.addMatchingKeys(u,T.addedDocuments,x)));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(en.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,a)),o=o.insert(x,k),function(P,U,Q){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=fI?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(R,k,T)&&p.push(n.Pi.updateTargetData(u,k))});let y=dr(),g=He();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(_I(u,d,e.documentUpdates).next(T=>{y=T.ks,g=T.qs})),!a.isEqual(ke.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next(x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));p.push(T)}return ie.waitFor(p).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(n.Ms=o,u))}function _I(r,e,n){let a=He(),o=He();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let d=dr();return n.forEach((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(ke.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):pe(Am,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)}),{ks:d,qs:o}})}function vI(r,e){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function EI(r,e){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(a).next(d=>(o=new Wr(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function Lp(r,e,n){const a=Ne(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!To(d))throw d;pe(Am,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function y0(r,e,n){const a=Ne(r);let o=ke.min(),u=He();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,g,T){const x=Ne(y),R=x.xs.get(T);return R!==void 0?ie.resolve(x.Ms.get(R)):x.Pi.getTargetData(g,T)}(a,d,bi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(y=>{u=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,n?o:ke.min(),n?u:He())).next(p=>(TI(a,s2(e),p),{documents:p,Qs:u})))}function TI(r,e,n){let a=r.Os.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Os.set(e,a)}class _0{constructor(){this.activeTargetIds=d2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SI{constructor(){this.Mo=new _0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="ConnectivityMonitor";class E0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(v0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(v0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Up(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const d=Up(),p=this.zo(e,n.toUriEncodedString());pe(dp,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(p),T=ho(g);return this.Jo(e,p,y,a,T).then(x=>(pe(dp,`Received RPC '${e}' ${d}: `,x),x),x=>{throw ro(dp,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",a),x})}Ho(e,n,a,o,u,d){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const a=AI[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class RI extends wI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const d=Up();return new Promise((p,y)=>{const g=new GE;g.setWithCredentials(!0),g.listenOnce(KE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const x=g.getResponseJson();pe(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Wc.TIMEOUT:pe(an,`RPC '${e}' ${d} timed out`),y(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const R=g.getStatus();if(pe(an,`RPC '${e}' ${d} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const P=function(Q){const se=Q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(se)>=0?se:re.UNKNOWN}(H.status);y(new ve(P,H.message))}else y(new ve(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(an,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);pe(an,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",T,a,15)})}T_(e,n,a){const o=Up(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=WE(),p=QE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const T=u.join("");pe(an,`Creating RPC '${e}' stream ${o}: ${T}`,y);const x=d.createWebChannel(T,y);this.I_(x);let R=!1,k=!1;const H=new xI({Yo:U=>{k?pe(an,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(R||(pe(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),R=!0),pe(an,`RPC '${e}' stream ${o} sending:`,U),x.send(U))},Zo:()=>x.close()}),P=(U,Q,se)=>{U.listen(Q,X=>{try{se(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return P(x,Pl.EventType.OPEN,()=>{k||(pe(an,`RPC '${e}' stream ${o} transport opened.`),H.o_())}),P(x,Pl.EventType.CLOSE,()=>{k||(k=!0,pe(an,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(x))}),P(x,Pl.EventType.ERROR,U=>{k||(k=!0,ro(an,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),H.a_(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),P(x,Pl.EventType.MESSAGE,U=>{if(!k){const Q=U.data[0];$e(!!Q,16349);const se=Q,X=se?.error||se[0]?.error;if(X){pe(an,`RPC '${e}' stream ${o} received error:`,X);const oe=X.status;let ue=function(A){const w=Dt[A];if(w!==void 0)return IT(w)}(oe),fe=X.message;ue===void 0&&(ue=re.INTERNAL,fe="Unknown error status: "+oe+" with message "+X.message),k=!0,H.a_(new ve(ue,fe)),x.close()}else pe(an,`RPC '${e}' stream ${o} received:`,Q),H.u_(Q)}}),P(p,YE.STAT_EVENT,U=>{U.stat===xp.PROXY?pe(an,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===xp.NOPROXY&&pe(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.__()},0),H}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(r){return new k2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class FT{constructor(e,n,a,o,u,d,p,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pe(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(pe(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CI extends FT{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=M2(this.serializer,e),a=function(u){if(!("targetChange"in u))return ke.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ke.min():d.readTime?wi(d.readTime):ke.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Pp(this.serializer),n.addTarget=function(u,d){let p;const y=d.target;if(p=kp(y)?{documents:L2(u,y)}:{query:U2(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=OT(u,d.resumeToken);const g=Np(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(ke.min())>0){p.readTime=yh(u,d.snapshotVersion.toTimestamp());const g=Np(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const a=j2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.q_(n)}}class II extends FT{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P2(e.writeResults,e.commitTime),a=wi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>V2(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{}class kI extends DI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Go(e,Mp(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(re.UNKNOWN,u.toString())})}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Mp(n,a),o,d,p,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(re.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class NI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{es(this)&&(pe(Xa,"Restarting streams for network reachability change."),await async function(y){const g=Ne(y);g.Ea.add(4),await cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bh(g)}(this))})}),this.Ra=new OI(a,o)}}async function Bh(r){if(es(r))for(const e of r.da)await e(!0)}async function cu(r){for(const e of r.da)await e(!1)}function GT(r,e){const n=Ne(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cm(n)?Rm(n):So(n).O_()&&xm(n,e))}function wm(r,e){const n=Ne(r),a=So(n);n.Ia.delete(e),a.O_()&&KT(n,e),n.Ia.size===0&&(a.O_()?a.L_():es(n)&&n.Ra.set("Unknown"))}function xm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(r).Y_(e)}function KT(r,e){r.Va.Ue(e),So(r).Z_(e)}function Rm(r){r.Va=new R2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function Cm(r){return es(r)&&!So(r).x_()&&r.Ia.size>0}function es(r){return Ne(r).Ea.size===0}function YT(r){r.Va=void 0}async function MI(r){r.Ra.set("Online")}async function VI(r){r.Ia.forEach((e,n)=>{xm(r,e)})}async function PI(r,e){YT(r),Cm(r)?(r.Ra.ha(e),Rm(r)):r.Ra.set("Unknown")}async function LI(r,e,n){if(r.Ra.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(r,e)}catch(a){pe(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(r,a)}else if(e instanceof Jc?r.Va.Ze(e):e instanceof DT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ke.min()))try{const a=await HT(r.localStore);n.compareTo(a)>=0&&await function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,d))}}),p.targetMismatches.forEach((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(en.EMPTY_BYTE_STRING,T.snapshotVersion)),KT(u,y);const x=new Wr(T.target,y,g,T.sequenceNumber);xm(u,x)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(a){pe(Xa,"Failed to raise snapshot:",a),await vh(r,a)}}async function vh(r,e,n){if(!To(e))throw e;r.Ea.add(1),await cu(r),r.Ra.set("Offline"),n||(n=()=>HT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Xa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bh(r)})}function QT(r,e){return e().catch(n=>vh(r,n,e))}async function Hh(r){const e=Ne(r),n=oa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hm;for(;UI(e);)try{const o=await vI(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,zI(e,o)}catch(o){await vh(e,o)}WT(e)&&XT(e)}function UI(r){return es(r)&&r.Ta.length<10}function zI(r,e){r.Ta.push(e);const n=oa(r);n.O_()&&n.X_&&n.ea(e.mutations)}function WT(r){return es(r)&&!oa(r).x_()&&r.Ta.length>0}function XT(r){oa(r).start()}async function jI(r){oa(r).ra()}async function BI(r){const e=oa(r);for(const n of r.Ta)e.ea(n.mutations)}async function HI(r,e,n){const a=r.Ta.shift(),o=_m.from(a,e,n);await QT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hh(r)}async function qI(r,e){e&&oa(r).X_&&await async function(a,o){if(function(d){return A2(d)&&d!==re.ABORTED}(o.code)){const u=a.Ta.shift();oa(a).B_(),await QT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hh(a)}}(r,e),WT(r)&&XT(r)}async function S0(r,e){const n=Ne(r);n.asyncQueue.verifyOperationInProgress(),pe(Xa,"RemoteStore received new credentials");const a=es(n);n.Ea.add(3),await cu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bh(n)}async function FI(r,e){const n=Ne(r);e?(n.Ea.delete(2),await Bh(n)):e||(n.Ea.add(2),await cu(n),n.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=function(n,a,o){const u=Ne(n);return u.sa(),new CI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:MI.bind(null,r),t_:VI.bind(null,r),r_:PI.bind(null,r),H_:LI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Cm(r)?Rm(r):r.Ra.set("Unknown")):(await r.ma.stop(),YT(r))})),r.ma}function oa(r){return r.fa||(r.fa=function(n,a,o){const u=Ne(n);return u.sa(),new II(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jI.bind(null,r),r_:qI.bind(null,r),ta:BI.bind(null,r),na:HI.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Hh(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(Xa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,p=new Im(e,n,d,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,e){if(hr("AsyncQueue",`${e}: ${r}`),To(r))return new ve(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=Ll(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Js;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.ga=new yt(Se.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class co{constructor(e,n,a,o,u,d,p,y,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new co(e,n,Js.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KI{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ne(n),u=o.queries;o.queries=A0(),u.forEach((d,p)=>{for(const y of p.Sa)y.onError(a)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function A0(){return new Za(r=>yT(r),Mh)}async function YI(r,e){const n=Ne(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new GI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Dm(d,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&km(n)}async function QI(r,e){const n=Ne(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function WI(r,e){const n=Ne(r);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&km(n)}function XI(r,e,n){const a=Ne(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function km(r){r.Ca.forEach(e=>{e.next()})}var zp,w0;(w0=zp||(zp={})).Ma="default",w0.Cache="cache";class $I{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class ZI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=_T(e),this.tu=new Js(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new b0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,x)=>{const R=o.get(T),k=Vh(this.query,x)?x:null,H=!!R&&this.mutatedKeys.has(R.key),P=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;R&&k?R.data.isEqual(k.data)?H!==P&&(a.track({type:3,doc:k}),U=!0):this.su(R,k)||(a.track({type:2,doc:k}),U=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(p=!0)):!R&&k?(a.track({type:0,doc:k}),U=!0):R&&!k&&(a.track({type:1,doc:R}),U=!0,(y||g)&&(p=!0)),U&&(k?(d=d.add(k),u=P?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,x)=>function(k,H){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:U})}};return P(k)-P(H)}(T.type,x.type)||this.eu(T.doc,x.doc)),this.ou(a),o=o??!1;const p=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new co(this.query,e.tu,u,d,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new ZT(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new $T(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class JI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class eD{constructor(e){this.key=e,this.hu=!1}}class tD{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Za(p=>yT(p),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(Se.comparator),this.Au=new Map,this.Ru=new Tm,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nD(r,e,n=!0){const a=r1(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await JT(a,e,n,!0),o}async function iD(r,e){const n=r1(r);await JT(n,e,!0,!1)}async function JT(r,e,n,a){const o=await EI(r.localStore,bi(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await rD(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&GT(r.remoteStore,o),p}async function rD(r,e,n,a,o){r.pu=(x,R,k)=>async function(P,U,Q,se){let X=U.view.ru(Q);X.Cs&&(X=await y0(P.localStore,U.query,!1).then(({documents:I})=>U.view.ru(I,X)));const oe=se&&se.targetChanges.get(U.targetId),ue=se&&se.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(X,P.isPrimaryClient,oe,ue);return R0(P,U.targetId,fe.au),fe.snapshot}(r,x,R,k);const u=await y0(r.localStore,e,!0),d=new ZI(e,u.Qs),p=d.ru(u.documents),y=uu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=d.applyChanges(p,r.isPrimaryClient,y);R0(r,n,g.au);const T=new JI(e,n,d);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function aD(r,e,n){const a=Ne(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(d=>!Mh(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&wm(a.remoteStore,o.targetId),jp(a,o.targetId)}).catch(Eo)):(jp(a,o.targetId),await Lp(a.localStore,o.targetId,!0))}async function sD(r,e){const n=Ne(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),wm(n.remoteStore,a.targetId))}async function oD(r,e,n){const a=pD(r);try{const o=await function(d,p){const y=Ne(d),g=ct.now(),T=p.reduce((k,H)=>k.add(H.key),He());let x,R;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>{let H=dr(),P=He();return y.Ns.getEntries(k,T).next(U=>{H=U,H.forEach((Q,se)=>{se.isValidDocument()||(P=P.add(Q))})}).next(()=>y.localDocuments.getOverlayedDocuments(k,H)).next(U=>{x=U;const Q=[];for(const se of p){const X=v2(se,x.get(se.key).overlayedDocument);X!=null&&Q.push(new Ja(se.key,X,uT(X.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,Q,p)}).next(U=>{R=U;const Q=U.applyToLocalDocumentSet(x,P);return y.documentOverlayCache.saveOverlays(k,U.batchId,Q)})}).then(()=>({batchId:R.batchId,changes:ET(x)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new yt(Be)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g}(a,o.batchId,n),await hu(a,o.changes),await Hh(a.remoteStore)}catch(o){const u=Dm(o,"Failed to persist write");n.reject(u)}}async function e1(r,e){const n=Ne(r);try{const a=await yI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Au.get(u);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))}),await hu(n,a,e)}catch(a){await Eo(a)}}function x0(r,e,n){const a=Ne(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const y=Ne(d);y.onlineState=p;let g=!1;y.queries.forEach((T,x)=>{for(const R of x.Sa)R.va(p)&&(g=!0)}),g&&km(y)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function lD(r,e,n){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new yt(Se.comparator);d=d.insert(u,on.newNoDocument(u,ke.min()));const p=He().add(u),y=new zh(ke.min(),new Map,new yt(Be),d,p);await e1(a,y),a.du=a.du.remove(u),a.Au.delete(e),Nm(a)}else await Lp(a.localStore,e,!1).then(()=>jp(a,e,n)).catch(Eo)}async function uD(r,e){const n=Ne(r),a=e.batch.batchId;try{const o=await gI(n.localStore,e);n1(n,a,null),t1(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await hu(n,o)}catch(o){await Eo(o)}}async function cD(r,e,n){const a=Ne(r);try{const o=await function(d,p){const y=Ne(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next(x=>($e(x!==null,37113),T=x.keys(),y.mutationQueue.removeMutationBatch(g,x))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(a.localStore,e);n1(a,e,n),t1(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await hu(a,o)}catch(o){await Eo(o)}}function t1(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function n1(r,e,n){const a=Ne(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function jp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||i1(r,a)})}function i1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(wm(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Nm(r))}function R0(r,e,n){for(const a of n)a instanceof $T?(r.Ru.addReference(a.key,e),hD(r,a)):a instanceof ZT?(pe(Om,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||i1(r,a.key)):Ce(19791,{wu:a})}function hD(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(pe(Om,"New document in limbo: "+n),r.Eu.add(a),Nm(r))}function Nm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Se(ut.fromString(e)),a=r.fu.next();r.Au.set(a,new eD(n)),r.du=r.du.insert(n,a),GT(r.remoteStore,new Wr(bi(gT(n.path)),a,"TargetPurposeLimboResolution",Dh.ce))}}async function hu(r,e,n){const a=Ne(r),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,y)=>{d.push(a.pu(y,e,n).then(g=>{if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){o.push(g);const T=bm.As(y.targetId,g);u.push(T)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(y,g){const T=Ne(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ie.forEach(g,R=>ie.forEach(R.Es,k=>T.persistence.referenceDelegate.addReference(x,R.targetId,k)).next(()=>ie.forEach(R.ds,k=>T.persistence.referenceDelegate.removeReference(x,R.targetId,k)))))}catch(x){if(!To(x))throw x;pe(Am,"Failed to update sequence numbers: "+x)}for(const x of g){const R=x.targetId;if(!x.fromCache){const k=T.Ms.get(R),H=k.snapshotVersion,P=k.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(R,P)}}}(a.localStore,u))}async function dD(r,e){const n=Ne(r);if(!n.currentUser.isEqual(e)){pe(Om,"User change. New user:",e.toKey());const a=await BT(n.localStore,e);n.currentUser=e,function(u,d){u.mu.forEach(p=>{p.forEach(y=>{y.reject(new ve(re.CANCELLED,d))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(n,a.Ls)}}function fD(r,e){const n=Ne(r),a=n.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function r1(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lD.bind(null,e),e.Pu.H_=WI.bind(null,e.eventManager),e.Pu.yu=XI.bind(null,e.eventManager),e}function pD(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cD.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mI(this.persistence,new dI,e.initialUser,this.serializer)}Cu(e){return new jT(Sm.mi,this.serializer)}Du(e){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class mD extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new jT(a=>_h.mi(a,n),this.serializer)}}class Bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>x0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KI}()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),a=function(u){return new RI(u)}(e.databaseInfo);return function(u,d,p,y){return new kI(u,d,p,y)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,d,p){return new NI(a,o,u,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>x0(this.syncEngine,n,0),function(){return E0.v()?new E0:new bI}())}createSyncEngine(e,n){return function(o,u,d,p,y,g,T){const x=new tD(o,u,d,p,y,g);return T&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=Ne(n);pe(Xa,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class yD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{pe(la,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(pe(la,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Dm(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function pp(r,e){r.asyncQueue.verifyOperationInProgress(),pe(la,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await BT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function C0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _D(r);pe(la,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>S0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>S0(e.remoteStore,o)),r._onlineComponents=e}async function _D(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(la,"Using user provided OfflineComponentProvider");try{await pp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await pp(r,new Eh)}}else pe(la,"Using default OfflineComponentProvider"),await pp(r,new mD(void 0));return r._offlineComponents}async function a1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(la,"Using user provided OnlineComponentProvider"),await C0(r,r._uninitializedComponentsProvider._online)):(pe(la,"Using default OnlineComponentProvider"),await C0(r,new Bp))),r._onlineComponents}function vD(r){return a1(r).then(e=>e.syncEngine)}async function ED(r){const e=await a1(r),n=e.eventManager;return n.onListen=nD.bind(null,e.syncEngine),n.onUnlisten=aD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sD.bind(null,e.syncEngine),n}function TD(r,e,n={}){const a=new ta;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,y,g){const T=new gD({next:R=>{T.Nu(),d.enqueueAndForget(()=>QI(u,x)),R.fromCache&&y.source==="server"?g.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),x=new $I(p,T,{includeMetadataChanges:!0,qa:!0});return YI(u,x)}(await ED(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firestore.googleapis.com",D0=!0;class k0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W2)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new SC;switch(a.type){case"firstParty":return new xC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=I0.get(n);a&&(pe("ComponentProvider","Removing Datastore"),I0.delete(n),a.terminate())}(this),Promise.resolve()}}function SD(r,e,n,a={}){r=so(r,qh);const o=ho(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(q0(`https://${p}`),F0("Firestore",!0)),u.host!==o1&&u.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:a};if(!Ka(y,d)&&(r._setSettings(y),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=sn.MOCK_USER;else{g=lb(a.mockUserToken,r._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(x)}r._authCredentials=new bC(new $E(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class Kt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(lu(n,Kt._jsonSchema))return new Kt(e,a||null,new Se(ut.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:kt("string",Kt._jsonSchemaVersion),referencePath:kt("string")};class na extends Fh{constructor(e,n,a){super(e,n,gT(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Se(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function sr(r,e,...n){if(r=pn(r),ZE("collection","path",e),r instanceof qh){const a=ut.fromString(e,...n);return Gv(a),new na(r,null,a)}{if(!(r instanceof Kt||r instanceof na))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ut.fromString(e,...n));return Gv(a),new na(r.firestore,null,a)}}function nr(r,e,...n){if(r=pn(r),arguments.length===1&&(e=um.newId()),ZE("doc","path",e),r instanceof qh){const a=ut.fromString(e,...n);return Fv(a),new Kt(r,null,new Se(a))}{if(!(r instanceof Kt||r instanceof na))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ut.fromString(e,...n));return Fv(a),new Kt(r.firestore,r instanceof na?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class N0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const a=fp();a&&pe(O0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ta;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;pe(O0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",M0(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Im.createAndSchedule(this,e,n,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Gh extends qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new N0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N0(e),this._firestoreClient=void 0,await e}}}function vn(r,e){const n=Q0(),a=hh,o=Gp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=sb("firestore");u&&SD(o,...u)}return o}function l1(r){if(r._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bD(r),r._firestoreClient}function bD(r){const e=r._freezeSettings(),n=function(o,u,d,p){return new qC(o,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(en.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:kt("string",Fn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:kt("string",xi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ri(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:kt("string",Ri._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^__.*__$/;class u1{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Vm{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c1(this.Ac)&&AD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||jh(e)}Cc(e,n,a,o=!1){return new Vm({Ac:e,methodName:n,Dc:a,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xD(r){const e=r._freezeSettings(),n=jh(r._databaseId);return new wD(r._databaseId,!!e.ignoreUndefinedProperties,n)}class Yh extends Mm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function RD(r,e,n,a){const o=r.Cc(1,e,n);d1("Data must be an object, but it was:",o,a);const u=[],d=Dn.empty();ca(a,(y,g)=>{const T=Pm(e,y,n);g=pn(g);const x=o.yc(T);if(g instanceof Yh)u.push(T);else{const R=Qh(g,x);R!=null&&(u.push(T),d.set(T,R))}});const p=new ei(u);return new u1(d,p,o.fieldTransforms)}function CD(r,e,n,a,o,u){const d=r.Cc(1,e,n),p=[V0(e,a,n)],y=[o];if(u.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(V0(e,u[R])),y.push(u[R+1]);const g=[],T=Dn.empty();for(let R=p.length-1;R>=0;--R)if(!kD(g,p[R])){const k=p[R];let H=y[R];H=pn(H);const P=d.yc(k);if(H instanceof Yh)g.push(k);else{const U=Qh(H,P);U!=null&&(g.push(k),T.set(k,U))}}const x=new ei(g);return new u1(T,x,d.fieldTransforms)}function Qh(r,e){if(h1(r=pn(r)))return d1("Unsupported field value:",e,r),ID(r,e);if(r instanceof Mm)return function(a,o){if(!c1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const p of a){let y=Qh(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return f2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ct.fromDate(a);return{timestampValue:yh(o.serializer,u)}}if(a instanceof ct){const u=new ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:OT(o.serializer,a._byteString)};if(a instanceof Kt){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Em(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ri)return function(d,p){return{mapValue:{fields:{[oT]:{stringValue:lT},[dh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return gm(p.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${cm(a)}`)}(r,e)}function ID(r,e){const n={};return tT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(a,o)=>{const u=Qh(o,e.mc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof xi||r instanceof Fn||r instanceof Kt||r instanceof Mm||r instanceof Ri)}function d1(r,e,n){if(!h1(n)||!JE(n)){const a=cm(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function V0(r,e,n){if((e=pn(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return Pm(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const DD=new RegExp("[~\\*/\\[\\]]");function Pm(r,e,n){if(e.search(DD)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ve(re.INVALID_ARGUMENT,p+r+y)}function kD(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends f1{data(){return super.data()}}function p1(r,e){return typeof e=="string"?Pm(r,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MD{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ca(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){const n=e.fields?.[dh].arrayValue?.values?.map(a=>wt(a.doubleValue));return new Ri(n)}convertGeoPoint(e){return new xi(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Oh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=ra(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ut.fromString(e);$e(UT(a),9688,{name:e});const o=new $l(a.get(1),a.get(3)),u=new Se(a.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends f1{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(p1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:kt("string",eo._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class eh extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new Hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const y=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const y=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:VD(p.type),doc:y,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:kt("string",to._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class PD extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function or(r){r=so(r,Fh);const e=so(r.firestore,Gh),n=l1(e),a=new PD(e);return ND(r._query),TD(n,r._query).then(o=>new to(e,a,r,o))}function Nl(r,e,n,...a){r=so(r,Kt);const o=so(r.firestore,Gh),u=xD(o);let d;return d=typeof(e=pn(e))=="string"||e instanceof Kh?CD(u,"updateDoc",r._key,e,n,a):RD(u,"updateDoc",r._key,e),m1(o,[d.toMutation(r._key,Ai.exists(!0))])}function Wh(r){return m1(so(r.firestore,Gh),[new ym(r._key,Ai.none())])}function m1(r,e){return function(a,o){const u=new ta;return a.asyncQueue.enqueueAndForget(async()=>oD(await vD(a),o,u)),u.promise}(l1(r),e)}(function(e,n=!0){(function(o){vo=o})(fo),no(new Ya("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),p=new Gh(new AC(a.getProvider("auth-internal")),new RC(d,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,T)}(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Zr(jv,Bv,e),Zr(jv,Bv,"esm2020")})();function LD(){const[r,e]=B.useState([]),[n,a]=B.useState(!0),[o,u]=B.useState(""),[d,p]=B.useState("all");B.useEffect(()=>{y()},[]);const y=async()=>{try{const k=vn(),H=sr(k,"companies"),P=await or(H),U=new Map;P.docs.forEach(fe=>{const I=fe.data();U.set(fe.id,I.companyTitle||I.company||"Firma Adı Yok")});const Q=[],se=sr(k,"campaigns"),X=await or(se);for(const fe of X.docs){const I=fe.data(),A=U.get(I.companyId)||I.companyName||"Firma Adı Yok";Q.push({id:fe.id,type:I.type||"Kampanya",companyId:I.companyId||"",companyName:A,notificationBody:I.notificationBody||"Bildirim Yok",createdAt:I.createdAt,durationMinutes:I.durationMinutes||0,endsAt:I.endsAt,isActive:I.isActive||!1})}const oe=sr(k,"discounts"),ue=await or(oe);for(const fe of ue.docs){const I=fe.data(),A=U.get(I.companyId)||"Firma Adı Yok";Q.push({id:fe.id,type:I.type||"discount",companyId:I.companyId||"",companyName:A,notificationBody:I.notificationBody||"Bildirim Yok",createdAt:I.createdAt,durationMinutes:I.durationMinutes||0,endsAt:I.endsAt,isActive:I.isActive||!1})}e(Q)}catch(k){console.error("Kampanyalar yüklenirken hata:",k)}finally{a(!1)}},T=(()=>{let k=0,H=0,P=0,U=0,Q=0,se=0;return r.forEach(X=>{const oe=new Date,ue=X.createdAt?new Date(X.createdAt.toDate()):new Date,fe=X.endsAt?new Date(X.endsAt.toDate()):new Date(ue.getTime()+X.durationMinutes*6e4),I=X.isActive&&oe<fe;X.type.toLowerCase().includes("discount")||X.type.toLowerCase().includes("indirim")?(U++,I?Q++:se++):(k++,I?H++:P++)}),{yakalaTotal:k,yakalaActive:H,yakalaInactive:P,discountTotal:U,discountActive:Q,discountInactive:se}})(),x=r.filter(k=>{if(o){const H=o.toLowerCase();switch(d){case"type":return k.type.toLowerCase().includes(H);case"companyName":return k.companyName.toLowerCase().includes(H);case"notificationBody":return k.notificationBody.toLowerCase().includes(H);case"status":const P=new Date,U=k.createdAt?new Date(k.createdAt.toDate()):new Date,Q=k.endsAt?new Date(k.endsAt.toDate()):new Date(U.getTime()+k.durationMinutes*6e4);return(k.isActive&&P<Q?"aktif":"bitti").includes(H);case"all":default:const oe=new Date,ue=k.createdAt?new Date(k.createdAt.toDate()):new Date,fe=k.endsAt?new Date(k.endsAt.toDate()):new Date(ue.getTime()+k.durationMinutes*6e4),A=k.isActive&&oe<fe?"aktif":"bitti";return k.type.toLowerCase().includes(H)||k.companyName.toLowerCase().includes(H)||k.notificationBody.toLowerCase().includes(H)||A.includes(H)}}return!0}),R=async(k,H,P)=>{if(window.confirm(`${H} için kampanyayı silmek istediğinizden emin misiniz?`))try{const U=vn(),Q=P.toLowerCase().includes("indirim")?"discounts":"campaigns";await Wh(nr(U,Q,k)),e(r.filter(se=>se.id!==k)),alert("Kampanya başarıyla silindi.")}catch(U){console.error("Kampanya silinirken hata:",U),alert("Kampanya silinirken bir hata oluştu.")}};return n?E.jsx("div",{style:{padding:20},children:"Kampanyalar yükleniyor..."}):E.jsxs("div",{style:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",padding:"16px",minWidth:0,maxWidth:"none"},children:[E.jsx("div",{style:{flexShrink:0,marginBottom:"16px"},children:E.jsx("h1",{style:{margin:0,color:"#333",fontSize:"19px",fontWeight:"bold"},children:"Kampanyalar"})}),E.jsx("div",{style:{flexShrink:0,marginBottom:"16px",width:"100%"},children:E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"6px",width:"100%"},children:[E.jsxs("div",{style:{backgroundColor:"#f3e5f5",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e1bee7"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"📊"}),E.jsx("h3",{style:{margin:0,color:"#7b1fa2",fontSize:"13px"},children:"Toplam Kampanyalar"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#7b1fa2",marginBottom:"2px"},children:r.length}),E.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[E.jsxs("span",{style:{color:"#7b1fa2"},children:["🟢 ",r.filter(k=>{const H=new Date,P=k.endsAt?new Date(k.endsAt.toDate()):new Date;return k.isActive&&H<P}).length," Aktif"]}),E.jsxs("span",{style:{color:"#f57c00"},children:["🟡 ",r.filter(k=>{const H=new Date,P=k.endsAt?new Date(k.endsAt.toDate()):new Date;return!k.isActive||H>=P}).length," Pasif"]})]})]}),E.jsxs("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #bbdefb"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"🎯"}),E.jsx("h3",{style:{margin:0,color:"#1976d2",fontSize:"13px"},children:"YakalaHadi Fırsatları"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#1976d2",marginBottom:"2px"},children:T.yakalaTotal}),E.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[E.jsxs("span",{style:{color:"#1976d2"},children:["🟢 ",T.yakalaActive," Aktif"]}),E.jsxs("span",{style:{color:"#f57c00"},children:["🟡 ",T.yakalaInactive," Pasif"]})]})]}),E.jsxs("div",{style:{backgroundColor:"#fff3cd",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #ffeaa7"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"🏷️"}),E.jsx("h3",{style:{margin:0,color:"#856404",fontSize:"13px"},children:"İndirim Fırsatları"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#856404",marginBottom:"2px"},children:T.discountTotal}),E.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[E.jsxs("span",{style:{color:"#856404"},children:["🟢 ",T.discountActive," Aktif"]}),E.jsxs("span",{style:{color:"#f57c00"},children:["🟡 ",T.discountInactive," Pasif"]})]})]})]})}),E.jsxs("div",{style:{flexShrink:0,display:"flex",gap:"12px",marginBottom:"16px",alignItems:"center"},children:[E.jsxs("select",{value:d,onChange:k=>p(k.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"},children:[E.jsx("option",{value:"all",children:"🔍 Tüm Alanlarda Ara"}),E.jsx("option",{value:"type",children:"🎯 Kampanya Türü"}),E.jsx("option",{value:"companyName",children:"🏢 Firma Adı"}),E.jsx("option",{value:"notificationBody",children:"📢 Bildirim Metni"}),E.jsx("option",{value:"status",children:"📊 Durum"})]}),E.jsx("input",{type:"text",placeholder:`🔍 ${d==="all"?"Tüm alanlarda ara...":d==="type"?"Kampanya türü ara...":d==="companyName"?"Firma adı ara...":d==="notificationBody"?"Bildirim metni ara...":d==="status"?"Durum ara...":"Ara..."}`,value:o,onChange:k=>u(k.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"}})]}),E.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"auto",minHeight:0,minWidth:0,border:"1px solid #e0e0e0",borderRadius:"8px"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kampanya Tipi"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Adı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Bildirim"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Durum"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"İşlemler"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:x.map(k=>{const H=new Date,P=k.createdAt?new Date(k.createdAt.toDate()):new Date,U=k.endsAt?new Date(k.endsAt.toDate()):new Date(P.getTime()+k.durationMinutes*6e4),Q=k.isActive&&H<U;return E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",backgroundColor:k.type.toLowerCase().includes("discount")||k.type.toLowerCase().includes("indirim")?"#fff3cd":"#e3f2fd",borderRadius:12,fontSize:"0.8em",color:k.type.toLowerCase().includes("discount")||k.type.toLowerCase().includes("indirim")?"#856404":"#1976d2"},children:k.type.toLowerCase()==="discount"?"İndirim":k.type})}),E.jsx("td",{style:{padding:12},children:E.jsx("strong",{children:k.companyName})}),E.jsx("td",{style:{padding:12,maxWidth:"300px"},children:E.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#f8f9fa",borderRadius:"8px",fontSize:"0.9em",lineHeight:"1.4",maxHeight:"80px",overflow:"auto"},children:k.notificationBody})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:Q?"#d4edda":"#f8d7da",color:Q?"#155724":"#721c24"},children:Q?"✅ Aktif":"❌ Bitti"})}),E.jsx("td",{style:{padding:12},children:E.jsx("button",{onClick:()=>R(k.id,k.companyName,k.type),style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:"0.8em"},children:"Sil"})})]},k.id)})})]})}),o&&E.jsxs("div",{style:{marginBottom:"12px",padding:"8px 12px",backgroundColor:"#e3f2fd",borderRadius:"4px",fontSize:"14px",color:"#1976d2"},children:['🔍 "',o,'" ',d==="all"?"tüm alanlarda":d==="type"?"kampanya tipinde":d==="companyName"?"firma adında":d==="notificationBody"?"bildirimde":d==="status"?"durumda":"aranan alanda"," için ",x.length," sonuç bulundu",E.jsx("button",{onClick:()=>u(""),style:{marginLeft:"8px",padding:"2px 6px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"12px"},children:"Temizle"})]}),x.length===0&&E.jsx("div",{style:{textAlign:"center",padding:40,color:"#666"},children:o?`"${o}" için sonuç bulunamadı.`:"Henüz kampanya bulunmuyor."})]})}function UD(){const[r,e]=B.useState([]),[n,a]=B.useState(!0),[o,u]=B.useState(""),[d,p]=B.useState("username"),[y,g]=B.useState(null);B.useEffect(()=>{T()},[]);const T=async()=>{try{const P=vn(),U=sr(P,"users"),Q=await or(U),se=[];for(const X of Q.docs){const oe=X.data();se.push({id:X.id,email:oe.email||"E-posta yok",name:oe.name||"İsim yok",createdAt:oe.createdAt,emailVerified:oe.emailVerified||!1,notificationsStatus:oe.notificationsStatus||{},selectedCategories:oe.selectedCategories||[],claimedCount:oe.claimedCount||0,privacyAccepted:oe.privacyAccepted||!1,termsAccepted:oe.termsAccepted||!1})}e(se)}catch(P){console.error("Kullanıcılar yüklenirken hata:",P)}finally{a(!1)}},R=(()=>{let P=r.length,U=0,Q=0;return r.forEach(se=>{se.emailVerified?U++:Q++}),{totalUsers:P,verifiedUsers:U,unverifiedUsers:Q}})(),k=r.filter(P=>{if(!o.trim())return!0;const U=o.toLowerCase();switch(d){case"name":return P.name.toLowerCase().includes(U);case"email":return P.email.toLowerCase().includes(U);case"emailVerified":return(P.emailVerified?"doğrulandı":"doğrulanmadı").includes(U);case"privacyAccepted":return(P.privacyAccepted?"kabul edildi":"kabul edilmedi").includes(U);case"termsAccepted":return(P.termsAccepted?"kabul edildi":"kabul edilmedi").includes(U);case"claimedCount":return(P.claimedCount||0).toString().includes(U);case"notificationsStatus":return(P.notificationsStatus?.enabled?"evet":"hayır").includes(U);case"selectedCategories":return P.selectedCategories.some(w=>w.toLowerCase().includes(U));case"all":default:const ue=P.emailVerified?"doğrulandı":"doğrulanmadı",fe=P.privacyAccepted?"kabul edildi":"kabul edilmedi",I=P.termsAccepted?"kabul edildi":"kabul edilmedi",A=P.notificationsStatus?.enabled?"evet":"hayır";return P.name.toLowerCase().includes(U)||P.email.toLowerCase().includes(U)||ue.includes(U)||fe.includes(U)||I.includes(U)||(P.claimedCount||0).toString().includes(U)||A.includes(U)||P.selectedCategories.some(w=>w.toLowerCase().includes(U))}}),H=async(P,U)=>{if(window.confirm(`${U} adlı kullanıcıyı silmek istediğinizden emin misiniz?`)){g(P);try{const Q=vn();await Wh(nr(Q,"users",P)),e(r.filter(se=>se.id!==P)),alert("Kullanıcı başarıyla silindi.")}catch(Q){console.error("Kullanıcı silinirken hata:",Q),alert("Kullanıcı silinirken bir hata oluştu.")}finally{g(null)}}};return n?E.jsx("div",{style:{padding:20},children:"Kullanıcılar yükleniyor..."}):E.jsxs("div",{style:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",padding:"16px",minWidth:0,maxWidth:"none"},children:[E.jsx("div",{style:{flexShrink:0,marginBottom:"16px"},children:E.jsx("h1",{style:{margin:0,color:"#333",fontSize:"19px",fontWeight:"bold"},children:"Kullanıcılar"})}),E.jsx("div",{style:{flexShrink:0,marginBottom:"16px",width:"100%"},children:E.jsxs("div",{style:{backgroundColor:"#e8f5e8",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #c8e6c9"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"👥"}),E.jsx("h3",{style:{margin:0,color:"#2e7d32",fontSize:"13px"},children:"Kullanıcı İstatistikleri"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#2e7d32",marginBottom:"2px"},children:R.totalUsers}),E.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[E.jsxs("span",{style:{color:"#2e7d32"},children:["✅ ",R.verifiedUsers," Doğrulandı"]}),E.jsxs("span",{style:{color:"#d32f2f"},children:["❌ ",R.unverifiedUsers," Doğrulanmadı"]})]})]})}),E.jsxs("div",{style:{flexShrink:0,display:"flex",gap:"12px",marginBottom:"16px",alignItems:"center"},children:[E.jsxs("select",{value:d,onChange:P=>p(P.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"},children:[E.jsx("option",{value:"all",children:"🔍 Tüm Alanlarda Ara"}),E.jsx("option",{value:"name",children:"👤 Kullanıcı Adı"}),E.jsx("option",{value:"email",children:"📧 E-posta"}),E.jsx("option",{value:"emailVerified",children:"✅ E-posta Durumu"}),E.jsx("option",{value:"privacyAccepted",children:"🔒 Gizlilik Kabul"}),E.jsx("option",{value:"termsAccepted",children:"📋 Şartlar Kabul"}),E.jsx("option",{value:"claimedCount",children:"🎯 Yakalanan Kampanya"}),E.jsx("option",{value:"notificationsStatus",children:"🔔 QR Kod Durumu"}),E.jsx("option",{value:"selectedCategories",children:"📂 Kategoriler"})]}),E.jsx("input",{type:"text",placeholder:`🔍 ${d==="all"?"Tüm alanlarda ara...":d==="name"?"Kullanıcı adı ara...":d==="email"?"E-posta ara...":d==="emailVerified"?"E-posta durumu ara...":d==="privacyAccepted"?"Gizlilik kabul ara...":d==="termsAccepted"?"Şartlar kabul ara...":d==="claimedCount"?"Yakalanan kampanya ara...":d==="notificationsStatus"?"QR kod durumu ara...":d==="selectedCategories"?"Kategoriler ara...":"Ara..."}`,value:o,onChange:P=>u(P.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"}})]}),E.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"auto",minHeight:0,minWidth:0,border:"1px solid #e0e0e0",borderRadius:"8px"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kullanıcı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"E-posta"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kayıt Tarihi"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"E-posta Durumu"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Gizlilik Kabul"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Şartlar Kabul"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Yakalanan Kampanya"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"QR Kod Okutuldu mu"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kategoriler"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"İşlemler"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:k.map(P=>E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[E.jsx("td",{style:{padding:12},children:E.jsx("div",{children:E.jsx("strong",{children:P.name})})}),E.jsx("td",{style:{padding:12},children:P.email}),E.jsx("td",{style:{padding:12},children:P.createdAt?new Date(P.createdAt.toDate()).toLocaleDateString("tr-TR"):"Bilinmiyor"}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:P.emailVerified?"#d4edda":"#f8d7da",color:P.emailVerified?"#155724":"#721c24"},children:P.emailVerified?"Doğrulandı":"Doğrulanmadı"})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:P.privacyAccepted?"#d4edda":"#f8d7da",color:P.privacyAccepted?"#155724":"#721c24",whiteSpace:"nowrap",display:"inline-block",minWidth:"80px"},children:P.privacyAccepted?"Kabul Edildi":"Kabul Edilmedi"})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:P.termsAccepted?"#d4edda":"#f8d7da",color:P.termsAccepted?"#155724":"#721c24",whiteSpace:"nowrap",display:"inline-block",minWidth:"80px"},children:P.termsAccepted?"Kabul Edildi":"Kabul Edilmedi"})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:"#e3f2fd",color:"#1976d2"},children:P.claimedCount||0})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:P.notificationsStatus?.enabled?"#d4edda":"#f8d7da",color:P.notificationsStatus?.enabled?"#155724":"#721c24"},children:P.notificationsStatus?.enabled?"Evet":"Hayır"})}),E.jsx("td",{style:{padding:12},children:E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:[P.selectedCategories.slice(0,3).map((U,Q)=>E.jsx("span",{style:{padding:"2px 6px",backgroundColor:"#e9ecef",borderRadius:12,fontSize:"0.7em"},children:U},Q)),P.selectedCategories.length>3&&E.jsxs("span",{style:{fontSize:"0.8em",color:"#666"},children:["+",P.selectedCategories.length-3," daha"]})]})}),E.jsx("td",{style:{padding:12},children:E.jsx("button",{onClick:()=>H(P.id,P.name),disabled:y===P.id,style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:4,cursor:y===P.id?"not-allowed":"pointer",fontSize:"0.8em",opacity:y===P.id?.6:1},children:y===P.id?"Siliniyor...":"Sil"})})]},P.id))})]})}),k.length===0&&E.jsx("div",{style:{textAlign:"center",padding:40,color:"#666"},children:o?"Arama kriterlerine uygun kullanıcı bulunamadı.":"Henüz kullanıcı bulunmuyor."})]})}function zD(){const r=Ch(),[e,n]=B.useState([]),[a,o]=B.useState(!0),[u,d]=B.useState(null),[p,y]=B.useState(null),[g,T]=B.useState(null),[x,R]=B.useState(null),[k,H]=B.useState(null),[P,U]=B.useState(null),[Q,se]=B.useState(null),[X,oe]=B.useState(null),[ue,fe]=B.useState(""),[I,A]=B.useState(""),[w,N]=B.useState("all"),[M,L]=B.useState(0),[D,De]=B.useState(0),we=["Market","Zincir Market","Bakkal","Fırın","Manav","Kasap","Kuruyemişçi","Şarküteri","Eczane","Lokanta","Restoran","Fast Food","Kafe","Pastane","Çiğköfteci","Dönerci","Kebapçı","Tatlıcı","Kokoreççi","Kuaför","Berber","Güzellik Salonu","Masaj Salonu","AVM Mağazası","Giyim Mağazası","Ayakkabıcı","Çanta Mağazası","Bijuteri","Mobilya Mağazası","Elektronikçi","Teknoloji Mağazası","Telefoncu","Bilgisayarcı","Beyaz Eşya Bayisi","Yapı Market","Spor Salonu","Fitness Salonu","Yoga/Pilates Stüdyosu","Spor Mağazası","Diş Kliniği","Özel Hastane","Fizyoterapi Merkezi","Diyetisyen","Psikolog","Estetik Merkezi","Tıbbi Malzeme","Hırdavatçı","Elektrikçi","İnşaat Malzemecisi","Camcı","Ev Tekstili","Perdeci","Halı Mağazası","Züccaciye","Dekorasyon Mağazası","Avize Mağazası","Pet Shop","Veteriner","Oto Yıkama","Oto Kuaför","Oto Servis","Oto Yedek Parça","Lastikçi","Otopark","Araç Kiralama","Temizlik Firması","Halı Yıkama","Nakliye Firması","Taşımacılık","İnternet Kafe","Playstation Cafe","Oyun Salonu","Bilardo Salonu","Kütüphane","Kitapçı","Kırtasiye","Oyuncakçı","Sahaf","Organizasyon Firması","Fotoğraf Stüdyosu","Anahtarcı","Ütücü / Kuru Temizleme","Matbaa","Su Arıtma Sistemleri","Güneş Enerji Sistemleri","Otel","Pansiyon","Hostel","Kamp Alanı","Güneş Paneli Sistemleri","Anaokulu","Kreş","Çocuk Gelişim Merkezi","Etüt Merkezi","Sürücü Kursu","Yabancı Dil Kursu","Dans Kursu","Müzik Kursu","Robotik Atölyesi","Satranç Kulübü","Dil Cafe","Tiyatro","Sinema","Karaoke Bar","Resim Atölyesi","Kamp Malzemeleri"],G=["Yerel","Türkiye Geneli"];B.useEffect(()=>{le()},[]),B.useEffect(()=>{const W=ee=>{const _e=ee.target;p&&!_e.closest("[data-dropdown-container]")&&(y(null),T(null)),x&&!_e.closest("[data-category-dropdown-container]")&&(R(null),H(null)),P&&!_e.closest("[data-firmtype-dropdown-container]")&&(U(null),se(null))};if(p||x||P)return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[p,x,P]);const le=async()=>{try{const W=vn(),ee=sr(W,"companies"),_e=await or(ee),Me=[];let Qe=0;for(const st of _e.docs){const Ze=st.data(),kn={id:st.id,company:Ze.company||"Firma Adı Yok",companyTitle:Ze.companyTitle||"Firma Başlığı Yok",companyOfficer:Ze.companyOfficer||"Yetkili Yok",vkn:Ze.vkn||"VKN Yok",createdAt:Ze.createdAt,firmType:Ze.firmType||"Firma Türü Yok",category:Ze.category||"Kategori Yok",approved:Ze.approved||!1,email:Ze.email||"E-posta Yok",phone:Ze.phone||"Telefon Yok",averageRating:Ze.averageRating||0,credits:Ze.credits||0,totalPurchasedCredits:Ze.totalPurchasedCredits||0,creditPurchaseDate:Ze.creditPurchaseDate};Me.push(kn),kn.approved&&Qe++}n(Me),L(Me.length),De(Qe)}catch(W){console.error("Firmalar yüklenirken hata:",W)}finally{o(!1)}},de=async(W,ee)=>{try{const _e=vn(),Me=nr(_e,"companies",W);await Nl(Me,{approved:ee}),n(Qe=>Qe.map(st=>st.id===W?{...st,approved:ee}:st)),De(ee?Qe=>Qe+1:Qe=>Qe-1),console.log(`Firma ${W} onay durumu ${ee?"onaylandı":"onay bekliyor"} olarak güncellendi`)}catch(_e){console.error("Firma güncellenirken hata:",_e),alert("Firma güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}},ge=async(W,ee)=>{try{const _e=vn(),Me=nr(_e,"companies",W);await Nl(Me,{category:ee}),n(Qe=>Qe.map(st=>st.id===W?{...st,category:ee}:st)),console.log(`Firma ${W} kategorisi ${ee} olarak güncellendi`)}catch(_e){console.error("Firma kategorisi güncellenirken hata:",_e),alert("Firma kategorisi güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}},O=async(W,ee)=>{try{const _e=vn(),Me=nr(_e,"companies",W);await Nl(Me,{firmType:ee}),n(Qe=>Qe.map(st=>st.id===W?{...st,firmType:ee}:st)),console.log(`Firma ${W} firma türü ${ee} olarak güncellendi`)}catch(_e){console.error("Firma türü güncellenirken hata:",_e),alert("Firma türü güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}},ne=async(W,ee)=>{if(window.confirm(`${ee} adlı firmayı silmek istediğinizden emin misiniz?`)){d(W);try{const _e=vn();await Wh(nr(_e,"companies",W)),e.find(Qe=>Qe.id===W)?.approved&&De(Qe=>Qe-1),n(e.filter(Qe=>Qe.id!==W)),L(Qe=>Qe-1),alert("Firma başarıyla silindi.")}catch(_e){console.error("Firma silinirken hata:",_e),alert("Firma silinirken bir hata oluştu.")}finally{d(null)}}},ce=(W,ee)=>{if(console.log("Dropdown toggle clicked for company:",W),console.log("Current openDropdown:",p),p===W)y(null),T(null);else{const Me=ee.currentTarget.getBoundingClientRect();T({x:Me.left,y:Me.bottom+4}),y(W)}},ae=(W,ee)=>{if(console.log("Category dropdown toggle clicked for company:",W),console.log("Current openCategoryDropdown:",x),x===W)R(null),H(null);else{const Me=ee.currentTarget.getBoundingClientRect();H({x:Me.left,y:Me.bottom+4}),R(W)}},ye=(W,ee)=>{if(console.log("Firm type dropdown toggle clicked for company:",W),console.log("Current openFirmTypeDropdown:",P),P===W)U(null),se(null);else{const Me=ee.currentTarget.getBoundingClientRect();se({x:Me.left,y:Me.bottom+4}),U(W)}},Oe=async(W,ee)=>{console.log("handleApprovalChange called with:",{companyId:W,approved:ee});try{await de(W,ee),console.log("updateCompanyApproval completed successfully"),y(null),T(null)}catch(_e){console.error("Onay durumu değiştirilirken hata:",_e)}},Te=async(W,ee)=>{console.log("handleCategoryChange called with:",{companyId:W,category:ee});try{await ge(W,ee),console.log("updateCompanyCategory completed successfully"),R(null),H(null)}catch(_e){console.error("Kategori değiştirilirken hata:",_e)}},_t=async(W,ee)=>{console.log("handleFirmTypeChange called with:",{companyId:W,firmType:ee});try{await O(W,ee),console.log("updateCompanyFirmType completed successfully"),U(null),se(null)}catch(_e){console.error("Firma türü değiştirilirken hata:",_e)}},be=(W,ee,_e)=>{oe({companyId:W,field:ee}),fe(_e.toString())},ht=async()=>{if(!X)return;const{companyId:W,field:ee}=X,_e=parseFloat(ue);if(isNaN(_e)){alert("Lütfen geçerli bir sayı girin!");return}if(ee==="credits"){const Me=e.find(Qe=>Qe.id===W);if(Me){if(_e<Me.credits&&!window.confirm(`⚠️ DİKKAT: Mevcut kullanılabilir krediyi ${Me.credits}'den ${_e}'ye düşürmek istediğinizden emin misiniz?

Bu işlem sadece mevcut kullanılabilir krediyi etkiler.
Toplam alınan kredi miktarı (muhasebe) değişmez.

Eğer bu Flutter uygulamasından gelen bir hata ise, lütfen Flutter kodunu kontrol edin.`))return;if(_e>Me.credits){const Qe=_e-Me.credits,st=(Me.totalPurchasedCredits||0)+Qe;try{const Ze=vn(),kn=nr(Ze,"companies",W);await Nl(kn,{[ee]:_e,totalPurchasedCredits:st,creditPurchaseDate:new Date}),n(bo=>bo.map(ii=>ii.id===W?{...ii,[ee]:_e,totalPurchasedCredits:st,creditPurchaseDate:new Date}:ii)),console.log(`Firma ${W} mevcut kredi ${_e} ve toplam alınan kredi ${st} olarak güncellendi`),oe(null),fe(""),alert(`Krediler başarıyla güncellendi!
Mevcut kullanılabilir kredi: ${_e}
Toplam alınan kredi: ${st}`);return}catch(Ze){console.error("Kredi güncellenirken hata:",Ze),alert("Kredi güncellenirken bir hata oluştu. Lütfen tekrar deneyin.");return}}}}try{const Me=vn(),Qe=nr(Me,"companies",W);await Nl(Qe,{[ee]:_e}),n(st=>st.map(Ze=>Ze.id===W?{...Ze,[ee]:_e}:Ze)),console.log(`Firma ${W} ${ee} değeri ${_e} olarak güncellendi`),oe(null),fe(""),alert(`${ee==="averageRating"?"Ortalama Puan":"Krediler"} başarıyla güncellendi!`)}catch(Me){console.error("Alan güncellenirken hata:",Me),alert("Alan güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}},mt=()=>{oe(null),fe("")},En=(W,ee)=>{r(`/reviews?companyId=${W}&companyName=${encodeURIComponent(ee)}`)},un=W=>{W.key==="Enter"?ht():W.key==="Escape"&&mt()},Ot=e.filter(W=>{if(I){const ee=I.toLowerCase();switch(w){case"company":return W.company.toLowerCase().includes(ee);case"companyTitle":return W.companyTitle.toLowerCase().includes(ee);case"companyOfficer":return W.companyOfficer.toLowerCase().includes(ee);case"vkn":return W.vkn.toLowerCase().includes(ee);case"approved":return(W.approved?"onaylandı":"onay bekliyor").includes(ee);case"firmType":return W.firmType.toLowerCase().includes(ee);case"category":return W.category.toLowerCase().includes(ee);case"phone":return W.phone.toLowerCase().includes(ee);case"email":return(W.email||"").toLowerCase().includes(ee);case"averageRating":return W.averageRating.toString().includes(ee);case"credits":return W.credits.toString().includes(ee);case"all":default:return W.company.toLowerCase().includes(ee)||W.companyTitle.toLowerCase().includes(ee)||W.companyOfficer.toLowerCase().includes(ee)||W.vkn.toLowerCase().includes(ee)||W.firmType.toLowerCase().includes(ee)||W.category.toLowerCase().includes(ee)||W.phone.toLowerCase().includes(ee)||(W.email||"").toLowerCase().includes(ee)||W.averageRating.toString().includes(ee)||W.credits.toString().includes(ee)}}return!0});return console.log("Current openDropdown state:",p),console.log("Filtered companies count:",Ot.length),a?E.jsx("div",{style:{padding:20},children:"Firmalar yükleniyor..."}):E.jsxs("div",{style:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",padding:"16px",minWidth:0,maxWidth:"none"},children:[E.jsx("div",{style:{flexShrink:0,marginBottom:"16px"},children:E.jsx("h1",{style:{margin:0,color:"#333",fontSize:"19px",fontWeight:"bold"},children:"Firmalar"})}),E.jsx("div",{style:{flexShrink:0,marginBottom:"16px",width:"100%"},children:E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"6px",width:"100%"},children:[E.jsxs("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #bbdefb"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"🏢"}),E.jsx("h3",{style:{margin:0,color:"#1976d2",fontSize:"13px"},children:"Toplam Firma"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#1976d2",marginBottom:"2px"},children:M})]}),E.jsxs("div",{style:{backgroundColor:"#e8f5e8",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #c8e6c9"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"✅"}),E.jsx("h3",{style:{margin:0,color:"#2e7d32",fontSize:"13px"},children:"Kayıtlı Firma"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#2e7d32",marginBottom:"2px"},children:D})]}),E.jsxs("div",{style:{backgroundColor:"#fff3cd",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #ffeaa7"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"⏳"}),E.jsx("h3",{style:{margin:0,color:"#856404",fontSize:"13px"},children:"Bekleyen Firma"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#856404",marginBottom:"2px"},children:M-D})]})]})}),E.jsxs("div",{style:{flexShrink:0,display:"flex",gap:"12px",marginBottom:"16px",alignItems:"center"},children:[E.jsxs("select",{value:w,onChange:W=>N(W.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"},children:[E.jsx("option",{value:"all",children:"🔍 Tüm Alanlarda Ara"}),E.jsx("option",{value:"company",children:"🏢 Firma Adı"}),E.jsx("option",{value:"companyTitle",children:"📋 Firma Başlığı"}),E.jsx("option",{value:"companyOfficer",children:"👤 Firma Yetkilisi"}),E.jsx("option",{value:"vkn",children:"🏛️ VKN"}),E.jsx("option",{value:"firmType",children:"🏭 Firma Türü"}),E.jsx("option",{value:"category",children:"📂 Kategori"}),E.jsx("option",{value:"approved",children:"✅ Onay Durumu"}),E.jsx("option",{value:"phone",children:"📞 Telefon"}),E.jsx("option",{value:"email",children:"📧 Kayıtlı Mail"}),E.jsx("option",{value:"averageRating",children:"⭐ Ortalama Puan"}),E.jsx("option",{value:"credits",children:"💰 Krediler"})]}),E.jsx("input",{type:"text",placeholder:`🔍 ${w==="all"?"Tüm alanlarda ara...":w==="company"?"Firma adı ara...":w==="companyTitle"?"Firma başlığı ara...":w==="companyOfficer"?"Firma yetkilisi ara...":w==="vkn"?"VKN ara...":w==="approved"?"Onay durumu ara...":w==="firmType"?"Firma türü ara...":w==="category"?"Kategori ara...":w==="phone"?"Telefon ara...":w==="email"?"Kayıtlı mail ara...":w==="averageRating"?"Ortalama puan ara...":w==="credits"?"Krediler ara...":"Ara..."}`,value:I,onChange:W=>A(W.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"}})]}),E.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"auto",minHeight:0,minWidth:0,border:"1px solid #e0e0e0",borderRadius:"8px"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Adı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Başlığı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Yetkilisi"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"VKN"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kayıt Tarihi"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Türü"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kategori"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Onay Durumu"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kayıtlı Mail"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Telefon"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Ortalama Puan"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Krediler"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"İşlemler"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:Ot.map(W=>E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4",overflow:"visible"},children:[E.jsx("td",{style:{padding:12},children:E.jsx("strong",{children:W.company})}),E.jsx("td",{style:{padding:12},children:W.companyTitle}),E.jsx("td",{style:{padding:12},children:W.companyOfficer}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#e3f2fd",borderRadius:12,fontSize:"0.8em",color:"#1976d2"},children:W.vkn})}),E.jsx("td",{style:{padding:12},children:W.createdAt?new Date(W.createdAt.toDate()).toLocaleDateString("tr-TR"):"Bilinmiyor"}),E.jsx("td",{style:{padding:12,position:"relative",overflow:"visible"},children:E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("button",{onClick:ee=>ye(W.id,ee),style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:"#f3e5f5",color:"#7b1fa2",border:"none",cursor:"pointer",transition:"all 0.3s ease",minWidth:"100px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"4px"},children:[W.firmType,E.jsx("span",{style:{fontSize:"10px"},children:"▼"})]}),P===W.id&&Q&&E.jsx("div",{"data-firmtype-dropdown-container":!0,style:{position:"fixed",top:Q.y,left:Q.x,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:999999,minWidth:"150px",padding:"6px 0"},children:G.map(ee=>E.jsx("div",{"data-firmtype-dropdown-container":!0,style:{padding:"8px 12px",borderBottom:"1px solid #eee",cursor:"pointer",fontSize:"0.8em",color:W.firmType===ee?"#7b1fa2":"#666",backgroundColor:W.firmType===ee?"#f8f9fa":"transparent"},onClick:()=>_t(W.id,ee),onMouseOver:_e=>{_e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseOut:_e=>{_e.currentTarget.style.backgroundColor=W.firmType===ee?"#f8f9fa":"transparent"},children:ee},ee))})]})}),E.jsx("td",{style:{padding:12,position:"relative",overflow:"visible"},children:E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("button",{onClick:ee=>ae(W.id,ee),style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:"#e9ecef",color:"#495057",border:"none",cursor:"pointer",transition:"all 0.3s ease",minWidth:"100px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"4px"},children:[W.category,E.jsx("span",{style:{fontSize:"10px"},children:"▼"})]}),x===W.id&&k&&E.jsx("div",{"data-category-dropdown-container":!0,style:{position:"fixed",top:k.y,left:k.x,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:999999,minWidth:"150px",maxHeight:"300px",overflowY:"auto",padding:"6px 0"},children:we.map(ee=>E.jsx("div",{"data-category-dropdown-container":!0,style:{padding:"8px 12px",borderBottom:"1px solid #eee",cursor:"pointer",fontSize:"0.8em",color:W.category===ee?"#495057":"#666",backgroundColor:W.category===ee?"#f8f9fa":"transparent"},onClick:()=>Te(W.id,ee),onMouseOver:_e=>{_e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseOut:_e=>{_e.currentTarget.style.backgroundColor=W.category===ee?"#f8f9fa":"transparent"},children:ee},ee))})]})}),E.jsx("td",{style:{padding:12,position:"relative",overflow:"visible"},children:E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("button",{onClick:ee=>ce(W.id,ee),style:{padding:"4px 8px",borderRadius:12,fontSize:"0.8em",backgroundColor:W.approved?"#d4edda":"#fff3cd",color:W.approved?"#155724":"#856404",border:"none",cursor:"pointer",transition:"all 0.3s ease",minWidth:"120px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"4px"},children:[W.approved?"✅ Onaylandı":"⏳ Onay Bekliyor",E.jsx("span",{style:{fontSize:"10px"},children:"▼"})]}),p===W.id&&g&&E.jsxs("div",{"data-dropdown-container":!0,style:{position:"fixed",top:g.y,left:g.x,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:999999,minWidth:"150px",padding:"6px 0"},children:[E.jsx("div",{"data-dropdown-container":!0,style:{padding:"8px 12px",borderBottom:"1px solid #eee",cursor:"pointer",fontSize:"0.8em",color:W.approved?"#155724":"#666",backgroundColor:W.approved?"#f8f9fa":"transparent"},onClick:()=>Oe(W.id,!0),onMouseOver:ee=>{ee.currentTarget.style.backgroundColor="#f8f9fa"},onMouseOut:ee=>{ee.currentTarget.style.backgroundColor=W.approved?"#f8f9fa":"transparent"},children:"✅ Onaylandı"}),E.jsx("div",{"data-dropdown-container":!0,style:{padding:"8px 12px",borderBottom:"1px solid #eee",cursor:"pointer",fontSize:"0.8em",color:W.approved?"#666":"#856404",backgroundColor:W.approved?"transparent":"#f8f9fa"},onClick:()=>Oe(W.id,!1),onMouseOver:ee=>{ee.currentTarget.style.backgroundColor="#f8f9fa"},onMouseOut:ee=>{ee.currentTarget.style.backgroundColor=W.approved?"transparent":"#f8f9fa"},children:"⏳ Onay Bekliyor"}),E.jsx("div",{"data-dropdown-container":!0,style:{padding:"8px 12px",cursor:"pointer",fontSize:"0.8em",color:"#dc3545",backgroundColor:"transparent"},onClick:()=>Oe(W.id,!1),onMouseOver:ee=>{ee.currentTarget.style.backgroundColor="#f8f9fa"},onMouseOut:ee=>{ee.currentTarget.style.backgroundColor="transparent"},children:"❌ Onaylanmadı"})]})]})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#e8f4fd",borderRadius:12,fontSize:"0.8em",color:"#0d6efd"},children:W.email})}),E.jsx("td",{style:{padding:12},children:W.phone}),E.jsx("td",{style:{padding:12},children:E.jsxs("span",{style:{padding:"4px 8px",backgroundColor:"#fff3e0",borderRadius:12,fontSize:"0.8em",color:"#f57c00",cursor:"pointer",display:"inline-block",transition:"all 0.3s ease"},onClick:()=>En(W.id,W.company),title:"Bu firmanın yorumlarını görüntülemek için tıklayın",onMouseOver:ee=>{ee.currentTarget.style.backgroundColor="#ffe0b2",ee.currentTarget.style.transform="scale(1.05)"},onMouseOut:ee=>{ee.currentTarget.style.backgroundColor="#fff3e0",ee.currentTarget.style.transform="scale(1)"},children:["⭐ ",W.averageRating.toFixed(1)]})}),E.jsx("td",{style:{padding:12},children:X?.companyId===W.id&&X?.field==="credits"?E.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[E.jsx("input",{type:"number",min:"0",value:ue,onChange:ee=>fe(ee.target.value),onKeyPress:un,style:{width:"60px",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.8em"},autoFocus:!0}),E.jsx("button",{onClick:ht,style:{padding:"2px 6px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.7em"},children:"✓"}),E.jsx("button",{onClick:mt,style:{padding:"2px 6px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.7em"},children:"✕"})]}):E.jsxs("span",{style:{padding:"4px 8px",backgroundColor:"#e8f5e8",borderRadius:12,fontSize:"0.8em",color:"#2e7d32",cursor:"pointer",display:"inline-block"},onClick:()=>be(W.id,"credits",W.credits),title:"Düzenlemek için tıklayın",children:["💰 ",W.credits]})}),E.jsx("td",{style:{padding:12},children:E.jsx("button",{onClick:()=>ne(W.id,W.company),disabled:u===W.id,style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:4,cursor:u===W.id?"not-allowed":"pointer",fontSize:"0.8em",opacity:u===W.id?.6:1},children:u===W.id?"Siliniyor...":"Sil"})})]},W.id))})]})}),Ot.length===0&&E.jsx("div",{style:{textAlign:"center",padding:40,color:"#666"},children:I?`"${I}" ${w==="all"?"tüm alanlarda":w==="company"?"firma adında":w==="companyTitle"?"firma başlığında":w==="companyOfficer"?"firma yetkilisinde":w==="vkn"?"VKN'de":w==="approved"?"onay durumunda":w==="firmType"?"firma türünde":w==="category"?"kategoride":w==="phone"?"telefonda":w==="email"?"kayıtlı mailde":w==="averageRating"?"ortalama puanda":w==="credits"?"kredilerde":"aranan alanda"} için sonuç bulunamadı.`:"Henüz firma bulunmuyor."})]})}function jD(){const[r]=gC(),[e,n]=B.useState([]),[a,o]=B.useState(!0),[u,d]=B.useState(""),[p,y]=B.useState("all"),[g,T]=B.useState(null),x=r.get("companyId"),R=r.get("companyName");B.useEffect(()=>{k()},[x,R]);const k=async()=>{try{const X=vn(),oe=[];if(x){const ue=sr(X,"companies",x,"reviews"),fe=await or(ue);for(const I of fe.docs){const A=I.data();oe.push({id:I.id,companyId:x,companyName:R||"Firma Adı Yok",userId:A.userId||"",userName:A.userName||"Kullanıcı Adı Yok",rating:A.rating||0,comment:A.comment||"Yorum Yok",timestamp:A.timestamp})}}else{const ue=sr(X,"companies"),fe=await or(ue);for(const I of fe.docs){const A=I.data(),w=sr(X,"companies",I.id,"reviews");try{const N=await or(w);for(const M of N.docs){const L=M.data();oe.push({id:M.id,companyId:I.id,companyName:A.company||"Firma Adı Yok",userId:L.userId||"",userName:L.userName||"Kullanıcı Adı Yok",rating:L.rating||0,comment:L.comment||"Yorum Yok",timestamp:L.timestamp})}}catch(N){console.log(`Firma ${I.id} için yorumlar yüklenirken hata:`,N)}}}n(oe)}catch(X){console.error("Yorumlar yüklenirken hata:",X)}finally{o(!1)}},H=async(X,oe)=>{if(window.confirm(`${oe} için yapılan yorumu silmek istediğinizden emin misiniz?`)){T(X);try{const ue=vn();await Wh(nr(ue,"reviews",X)),n(e.filter(fe=>fe.id!==X)),alert("Yorum başarıyla silindi.")}catch(ue){console.error("Yorum silinirken hata:",ue),alert("Yorum silinirken bir hata oluştu.")}finally{T(null)}}},U=(()=>{let X=e.length,oe=0,ue=0;return e.forEach(fe=>{fe.comment&&fe.comment.trim()!==""&&fe.comment!=="Yorum Yok"?oe++:ue++}),{totalReviews:X,totalComments:oe,totalNoComments:ue}})(),Q=e.filter(X=>{if(!u.trim())return!0;const oe=u.toLowerCase();switch(p){case"companyName":return X.companyName.toLowerCase().includes(oe);case"userName":return X.userName.toLowerCase().includes(oe);case"comment":return X.comment.toLowerCase().includes(oe);case"rating":return X.rating.toString().includes(oe);case"all":default:return X.companyName.toLowerCase().includes(oe)||X.userName.toLowerCase().includes(oe)||X.comment.toLowerCase().includes(oe)||X.rating.toString().includes(oe)}}),se=X=>{const oe=[];for(let ue=1;ue<=5;ue++)oe.push(E.jsx("span",{style:{color:ue<=X?"#ffc107":"#e4e5e9",fontSize:"16px"},children:"★"},ue));return oe};return a?E.jsx("div",{style:{padding:20},children:"Yorumlar yükleniyor..."}):E.jsxs("div",{style:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",padding:"16px",minWidth:0,maxWidth:"none"},children:[E.jsx("div",{style:{flexShrink:0,marginBottom:"16px"},children:E.jsx("h1",{style:{margin:0,color:"#333",fontSize:"19px",fontWeight:"bold"},children:"Yorumlar ve Puanlar"})}),E.jsx("div",{style:{flexShrink:0,marginBottom:"16px",width:"100%"},children:E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"6px",width:"100%"},children:[E.jsxs("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #bbdefb"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"💬"}),E.jsx("h3",{style:{margin:0,color:"#1976d2",fontSize:"13px"},children:"Toplam Yorum"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#1976d2",marginBottom:"2px"},children:U.totalReviews}),E.jsx("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:E.jsxs("span",{style:{color:"#1976d2"},children:["⭐ ",e.length>0?(e.reduce((X,oe)=>X+oe.rating,0)/e.length).toFixed(1):"0.0"," Ortalama Puan"]})})]}),E.jsxs("div",{style:{backgroundColor:"#e8f5e8",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #c8e6c9"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"4px"},children:"✍️"}),E.jsx("h3",{style:{margin:0,color:"#2e7d32",fontSize:"13px"},children:"Yorumlu Değerlendirme"})]}),E.jsx("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#2e7d32",marginBottom:"2px"},children:U.totalComments}),E.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"12px"},children:[E.jsxs("span",{style:{color:"#2e7d32"},children:["✅ ",U.totalComments," Yorumlu"]}),E.jsxs("span",{style:{color:"#f57c00"},children:["❌ ",U.totalNoComments," Yorumsuz"]})]})]})]})}),E.jsxs("div",{style:{flexShrink:0,display:"flex",gap:"12px",marginBottom:"16px",alignItems:"center"},children:[E.jsxs("select",{value:p,onChange:X=>y(X.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"},children:[E.jsx("option",{value:"all",children:"🔍 Tüm Alanlarda Ara"}),E.jsx("option",{value:"companyName",children:"🏢 Firma Adı"}),E.jsx("option",{value:"userName",children:"👤 Kullanıcı Adı"}),E.jsx("option",{value:"comment",children:"💬 Yorum"}),E.jsx("option",{value:"rating",children:"⭐ Puan"})]}),E.jsx("input",{type:"text",placeholder:`🔍 ${p==="all"?"Tüm alanlarda ara...":p==="companyName"?"Firma adı ara...":p==="userName"?"Kullanıcı adı ara...":p==="comment"?"Yorum ara...":p==="rating"?"Puan ara...":"Ara..."}`,value:u,onChange:X=>d(X.target.value),style:{padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"11px",minWidth:"120px"}})]}),E.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"auto",minHeight:0,minWidth:0,border:"1px solid #e0e0e0",borderRadius:"8px"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Firma Adı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Kullanıcı Adı"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Puan"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Yorum"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"Tarih"}),E.jsx("th",{style:{padding:12,textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"13px"},children:"İşlemler"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:Q.map(X=>E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4",overflow:"visible"},children:[E.jsx("td",{style:{padding:12},children:E.jsx("strong",{children:X.companyName})}),E.jsx("td",{style:{padding:12},children:E.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#e8f4fd",borderRadius:12,fontSize:"0.8em",color:"#0d6efd"},children:X.userName})}),E.jsx("td",{style:{padding:12},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[se(X.rating),E.jsxs("span",{style:{marginLeft:"8px",fontSize:"0.9em",color:"#666"},children:["(",X.rating,"/5)"]})]})}),E.jsx("td",{style:{padding:12,maxWidth:"300px"},children:E.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#f8f9fa",borderRadius:"8px",fontSize:"0.9em",lineHeight:"1.4",maxHeight:"80px",overflow:"auto"},children:X.comment})}),E.jsx("td",{style:{padding:12},children:X.timestamp?new Date(X.timestamp.toDate()).toLocaleDateString("tr-TR"):"Bilinmiyor"}),E.jsx("td",{style:{padding:12},children:E.jsx("button",{onClick:()=>H(X.id,X.companyName),disabled:g===X.id,style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:4,cursor:g===X.id?"not-allowed":"pointer",fontSize:"0.8em",opacity:g===X.id?.6:1},children:g===X.id?"Siliniyor...":"Sil"})})]},X.id))})]})}),Q.length===0&&E.jsx("div",{style:{textAlign:"center",padding:40,color:"#666"},children:"Henüz yorum bulunmuyor."})]})}function BD(){const[r,e]=B.useState({totalCredits:0,totalEarnings:0,totalPurchasedCreditsAmount:0,monthlyData:[],companyData:[]}),[n,a]=B.useState(!0),[o,u]=B.useState(""),[d,p]=B.useState(""),[y,g]=B.useState([]),[T,x]=B.useState([]),[R,k]=B.useState([]),[H,P]=B.useState([]),[U,Q]=B.useState({}),se=A=>{switch(A){case 30:return 100;case 60:return 180;case 120:return 340;case 240:return 660;default:return 0}},X=A=>{let w=A,N=0;const M=[240,120,60,30];for(const L of M)for(;w>=L;)N+=se(L),w-=L;return N};B.useEffect(()=>{I()},[]);const oe=()=>{I()},ue=()=>{if(console.log("handleDateFilter çağrıldı!"),console.log("startDate:",o),console.log("endDate:",d),o&&d){console.log("Tarihler mevcut, filtreleme başlıyor...");const A=new Date(o+"T00:00:00"),w=new Date(d+"T23:59:59");console.log("Filtreleme tarihleri:",{startDate:o,endDate:d,start:A,end:w}),console.log("Mevcut dailyData:",U),console.log("Mevcut originalCompanyData:",R);const N={};Object.keys(U).length>0&&Object.entries(U).forEach(([De,we])=>{const G=new Date(we.date);console.log("Kontrol edilen tarih:",De,G,"Start:",A,"End:",w),G>=A&&G<=w&&(N[De]=we,console.log("Eşleşen tarih bulundu:",De,we))}),console.log("Filtrelenmiş günlük veriler:",N);const M={};Object.entries(N).forEach(([De,we])=>{const G=De.substring(0,7);M[G]||(M[G]={purchasedCredits:0,credits:0,earnings:0}),M[G].purchasedCredits+=we.purchasedCredits,M[G].credits+=we.credits,M[G].earnings+=we.earnings});const L=Object.entries(M).map(([De,we])=>{let G="";return Object.entries(N).forEach(([le,de])=>{if(le.startsWith(De)){const ge=de.date.toLocaleDateString("tr-TR");(!G||de.date>new Date(G.split(".").reverse().join("-")))&&(G=ge)}}),{month:De,purchasedCredits:we.purchasedCredits,credits:we.credits,earnings:we.earnings,purchaseDate:G}}).sort((De,we)=>we.month.localeCompare(De.month)),D=R.filter(De=>{if(!De.purchaseDate)return!1;const we=De.purchaseDate.split(".");if(we.length!==3)return!1;const G=we[0],le=we[1],de=we[2],ge=new Date(`${de}-${le}-${G}T00:00:00`),O=ge>=A&&ge<=w;return console.log("Firma tarih kontrolü:",De.companyName,De.purchaseDate,ge,"Range:",A,"-",w,"Sonuç:",O),O});console.log("Filtrelenmiş aylık veriler:",L),console.log("Filtrelenmiş firma veriler:",D),x(L),P(D)}},fe=()=>{u(""),p(""),x([]),P([])},I=async()=>{try{const A=vn(),w=sr(A,"companies"),N=await or(w);let M=0,L=0,D=0;const De=[],we={},G={};for(const de of N.docs){const ge=de.data(),O=ge.company||"Firma Adı Yok",ne=ge.totalPurchasedCredits||0,ce=ge.credits||0;let ae=ne;if(ne===0&&ce>0&&(ae=ce),ae>0){let ye="";ge.creditPurchaseDate?ye=(ge.creditPurchaseDate.toDate?ge.creditPurchaseDate.toDate():new Date(ge.creditPurchaseDate)).toLocaleDateString("tr-TR"):ge.createdAt&&(ye=(ge.createdAt.toDate?ge.createdAt.toDate():new Date(ge.createdAt)).toLocaleDateString("tr-TR"));const Oe=[240,120,60,30];let Te=ae,_t=0;for(const be of Oe)for(;Te>=be;){const ht=se(be);M+=ht,L+=ht,D+=be,_t+=be,De.push({companyName:O,purchasedCredits:be,credits:ht,earnings:ht,purchaseDate:ye}),Te-=be}if(Te>0){const be=se(Te);M+=be,L+=be,D+=Te,De.push({companyName:O,purchasedCredits:Te,credits:be,earnings:be,purchaseDate:ye})}if(ge.creditPurchaseDate){const be=ge.creditPurchaseDate.toDate?ge.creditPurchaseDate.toDate():new Date(ge.creditPurchaseDate),ht=`${be.getFullYear()}-${String(be.getMonth()+1).padStart(2,"0")}`,mt=`${be.getFullYear()}-${String(be.getMonth()+1).padStart(2,"0")}-${String(be.getDate()).padStart(2,"0")}`;console.log(`Firma ${O} için kredi alım tarihi:`,be,"DayKey:",mt),we[ht]||(we[ht]={purchasedCredits:0,credits:0,earnings:0}),we[ht].purchasedCredits+=ae,we[ht].credits+=X(ae),we[ht].earnings+=X(ae);const En=[240,120,60,30];let un=ae;for(const Ot of En)for(;un>=Ot;){const W=se(Ot);G[mt]||(G[mt]={purchasedCredits:0,credits:0,earnings:0,date:be}),G[mt].purchasedCredits+=Ot,G[mt].credits+=W,G[mt].earnings+=W,un-=Ot}if(un>0){const Ot=se(un);G[mt]||(G[mt]={purchasedCredits:0,credits:0,earnings:0,date:be}),G[mt].purchasedCredits+=un,G[mt].credits+=Ot,G[mt].earnings+=Ot}}else console.log(`Firma ${O} için creditPurchaseDate bulunamadı, günlük veri eklenmedi`)}}const le=Object.entries(we).map(([de,ge])=>{let O="";return Object.entries(G).forEach(([ne,ce])=>{if(ne.startsWith(de)){const ae=ce.date.toLocaleDateString("tr-TR");(!O||ce.date>new Date(O.split(".").reverse().join("-")))&&(O=ae)}}),{month:de,purchasedCredits:ge.purchasedCredits,credits:ge.credits,earnings:ge.earnings,purchaseDate:O}}).sort((de,ge)=>ge.month.localeCompare(de.month));g(le),x([]),k(De),P([]),Q(G),e({totalCredits:M,totalEarnings:L,totalPurchasedCreditsAmount:D,monthlyData:le,companyData:De.sort((de,ge)=>ge.earnings-de.earnings)}),console.log("State güncelleme öncesi:"),console.log("companyDataArray uzunluğu:",De.length),console.log("companyDataArray örnekleri:",De.slice(0,2)),g(le),k(De),Q(G),console.log("fetchAccountingData tamamlandı:"),console.log("monthlyDataArray:",le),console.log("companyDataArray:",De),console.log("newDailyData:",G),o&&d&&(console.log("Filtre aktif, verileri tekrar filtrele"),setTimeout(()=>{ue()},100))}catch(A){console.error("Muhasebe verileri yüklenirken hata:",A)}finally{a(!1)}};return n?E.jsx("div",{style:{padding:20},children:"Muhasebe verileri yükleniyor..."}):E.jsxs("div",{style:{height:"100vh",width:"100%",maxWidth:"100%",minWidth:0,display:"flex",flexDirection:"column",overflow:"hidden",overflowX:"hidden",padding:"16px"},children:[E.jsx("div",{style:{flexShrink:0,marginBottom:"12px",maxWidth:"100%",overflowX:"hidden"},children:E.jsx("h1",{style:{margin:0,color:"#333",fontSize:"19px",fontWeight:"bold"},children:"Muhasebe Verileri"})}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px",marginBottom:"6px",width:"100%",maxWidth:"100%",overflowX:"hidden",minWidth:0},children:[E.jsxs("div",{style:{backgroundColor:"#f3e5f5",borderRadius:"12px",padding:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e1bee7",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"3px",minWidth:0,maxWidth:"100%"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"3px",flexShrink:0},children:"🎯"}),E.jsx("h3",{style:{margin:0,color:"#7b1fa2",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Toplam Kredi Miktarı"})]}),E.jsxs("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#7b1fa2",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[r.totalPurchasedCreditsAmount," Kredi"]})]}),E.jsxs("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"12px",padding:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #bbdefb",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"3px",minWidth:0,maxWidth:"100%"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"3px",flexShrink:0},children:"💳"}),E.jsx("h3",{style:{margin:0,color:"#1976d2",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Toplam Kredi Geliri"})]}),E.jsxs("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#1976d2",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[r.totalCredits.toLocaleString("tr-TR")," ₺"]})]}),E.jsxs("div",{style:{backgroundColor:"#e8f5e8",borderRadius:"12px",padding:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #c8e6c9",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"3px",minWidth:0,maxWidth:"100%"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"3px",flexShrink:0},children:"💰"}),E.jsx("h3",{style:{margin:0,color:"#2e7d32",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Toplam Kazanç"})]}),E.jsxs("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#2e7d32",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[r.totalEarnings.toLocaleString("tr-TR")," ₺"]})]}),E.jsxs("div",{style:{backgroundColor:"#fff3cd",borderRadius:"12px",padding:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #ffeaa7",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"3px",minWidth:0,maxWidth:"100%"},children:[E.jsx("span",{style:{fontSize:"13px",marginRight:"3px",flexShrink:0},children:"📈"}),E.jsx("h3",{style:{margin:0,color:"#856404",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Net Kar"})]}),E.jsxs("div",{style:{fontSize:"25px",fontWeight:"bold",color:"#856404",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:[(r.totalEarnings-r.totalCredits).toLocaleString("tr-TR")," ₺"]})]})]}),E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px",marginTop:"4px",maxWidth:"100%",overflowX:"hidden"},children:E.jsxs("button",{onClick:oe,style:{backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"13px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"4px"},onMouseEnter:A=>{A.currentTarget.style.backgroundColor="#218838"},onMouseLeave:A=>{A.currentTarget.style.backgroundColor="#28a745"},children:[E.jsx("span",{style:{fontSize:"14px"},children:"🔄"}),"Yenile"]})}),(y.length>0||T.length>0)&&E.jsxs("div",{style:{marginBottom:"18px",maxWidth:"100%",overflowX:"hidden"},children:[E.jsxs("div",{style:{marginBottom:"12px",maxWidth:"100%",overflowX:"hidden"},children:[E.jsx("h3",{style:{margin:"0 0 8px 0",color:"#333",fontSize:"14px"},children:"Kredi Gelirleri"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap",padding:"8px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6",maxWidth:"100%",overflowX:"hidden"},children:[E.jsx("span",{style:{fontSize:"13px",fontWeight:"500",color:"#495057"},children:"Tarih Aralığı:"}),E.jsx("input",{type:"date",value:o,onChange:A=>u(A.target.value),style:{padding:"4px 8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"13px"},placeholder:"Başlangıç tarihi"}),E.jsx("span",{style:{fontSize:"13px",color:"#6c757d"},children:"-"}),E.jsx("input",{type:"date",value:d,onChange:A=>p(A.target.value),style:{padding:"4px 8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"13px"},placeholder:"Bitiş tarihi"}),E.jsx("button",{onClick:()=>{ue()},disabled:!o||!d,style:{backgroundColor:o&&d?"#007bff":"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"13px",cursor:o&&d?"pointer":"not-allowed",transition:"all 0.2s ease"},onMouseEnter:A=>{o&&d&&(A.currentTarget.style.backgroundColor="#0056b3")},onMouseLeave:A=>{o&&d&&(A.currentTarget.style.backgroundColor="#007bff")},children:"Filtrele"}),E.jsx("button",{onClick:fe,style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"13px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:A=>{A.currentTarget.style.backgroundColor="#545b62"},onMouseLeave:A=>{A.currentTarget.style.backgroundColor="#6c757d"},children:"Temizle"})]})]}),E.jsx("div",{style:{overflowX:"auto",minWidth:0,maxWidth:"100%",marginLeft:"-8px"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:8,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minWidth:0,maxWidth:"100%"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Ay"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Alınan Kredi Miktarı"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Kredi Geliri (₺)"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Toplam Kazanç (₺)"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Net Kar (₺)"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:(o&&d?T:y).length>0?(o&&d?T:y).map((A,w)=>E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[E.jsx("td",{style:{padding:12,textAlign:"center"},children:E.jsx("strong",{children:A.month})}),E.jsxs("td",{style:{padding:12,textAlign:"center",fontWeight:"bold",color:"#7b1fa2"},children:[A.purchasedCredits," Kredi"]}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:"#1976d2"},children:[A.credits.toLocaleString("tr-TR")," ₺"]}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:"#2e7d32"},children:[A.earnings.toLocaleString("tr-TR")," ₺"]}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:A.earnings-A.credits>=0?"#2e7d32":"#d32f2f"},children:[(A.earnings-A.credits).toLocaleString("tr-TR")," ₺"]})]},w)):E.jsx("tr",{children:E.jsx("td",{colSpan:5,style:{padding:"40px 12px",textAlign:"center",color:"#666",fontSize:"15px",fontStyle:"italic",backgroundColor:"#f8f9fa"},children:o&&d?`Bu tarihler arasında (${o} - ${d}) alınan kredi bulunamadı.`:"Henüz kredi alımı yapılmamış."})})})]})})]}),E.jsxs("div",{style:{marginBottom:"18px",maxWidth:"100%",overflowX:"hidden"},children:[E.jsx("div",{style:{marginBottom:"12px",maxWidth:"100%",overflowX:"hidden",paddingLeft:"0"},children:E.jsx("h3",{style:{margin:0,marginLeft:"-8px",color:"#333",fontSize:"14px"},children:"Firma Bazında Kredi Gelirleri"})}),E.jsx("div",{style:{overflowX:"auto",minWidth:0,maxWidth:"100%",paddingLeft:"0"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:8,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minWidth:0,maxWidth:"100%"},children:[E.jsx("thead",{style:{position:"sticky",top:0,zIndex:10,backgroundColor:"#f8f9fa"},children:E.jsxs("tr",{children:[E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Firma Adı"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Alınan Kredi Miktarı"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Kredi Alım Tarihi"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Kredi Geliri (₺)"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Toplam Kazanç (₺)"}),E.jsx("th",{style:{padding:12,textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"13px",minWidth:0,maxWidth:"100%",wordWrap:"break-word"},children:"Net Kar (₺)"})]})}),E.jsx("tbody",{style:{fontSize:"12px"},children:(o&&d?H:r.companyData).length>0?(o&&d?H:r.companyData).map((A,w)=>E.jsxs("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[E.jsx("td",{style:{padding:12,textAlign:"center"},children:E.jsx("strong",{children:A.companyName})}),E.jsxs("td",{style:{padding:12,textAlign:"center",fontWeight:"bold",color:"#1976d2"},children:[A.purchasedCredits," Kredi"]}),E.jsx("td",{style:{padding:12,textAlign:"center",color:"#666",fontSize:"13px"},children:A.purchaseDate||"-"}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:"#1976d2"},children:[A.credits.toLocaleString("tr-TR")," ₺"]}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:"#2e7d32"},children:[A.earnings.toLocaleString("tr-TR")," ₺"]}),E.jsxs("td",{style:{padding:12,textAlign:"center",color:A.earnings-A.credits>=0?"#2e7d32":"#d32f2f"},children:[(A.earnings-A.credits).toLocaleString("tr-TR")," ₺"]})]},w)):E.jsx("tr",{children:E.jsx("td",{colSpan:6,style:{padding:"40px 12px",textAlign:"center",color:"#666",fontSize:"15px",fontStyle:"italic",backgroundColor:"#f8f9fa"},children:o&&d?`Bu tarihler arasında (${o} - ${d}) alınan kredi bulunamadı.`:"Henüz kredi alımı yapılmamış."})})})]})})]})]})}const HD=[{path:"/users",label:"Kullanıcılar",icon:"👥"},{path:"/companies",label:"Firmalar",icon:"🏢"},{path:"/campaigns",label:"Kampanyalar",icon:"🎯"},{path:"/reviews",label:"Yorumlar ve Puanlar",icon:"⭐"},{path:"/accounting",label:"Muhasebe Verileri",icon:"💰"},{path:"/export",label:"Dışa Aktar",icon:"📊"}];function qD({title:r}){return E.jsxs("div",{style:{padding:32,textAlign:"center"},children:[E.jsx("h2",{children:r}),E.jsx("p",{style:{color:"#666",fontSize:"1.1em"},children:"Bu özellik yakında eklenecek..."})]})}function FD({onLogout:r}){const[e,n]=B.useState("/users");return E.jsxs("div",{style:{display:"flex",height:"100vh",width:"100%",overflow:"hidden",backgroundColor:"#f5f5f5",position:"fixed",top:0,left:0},children:[E.jsxs("aside",{style:{width:180,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",padding:16,boxShadow:"2px 0 10px rgba(0,0,0,0.1)",height:"100vh",flexShrink:0,overflow:"hidden"},children:[E.jsxs("div",{style:{marginBottom:32},children:[E.jsx("h2",{style:{color:"#fff",fontSize:20,margin:0,fontWeight:"bold"},children:"🎯 YakalaHadi Admin"}),E.jsx("p",{style:{color:"#e0e0e0",fontSize:12,margin:"6px 0 0 0"},children:"Yönetim Paneli"})]}),E.jsx("nav",{style:{flex:1,overflow:"hidden"},children:HD.map(a=>E.jsx("div",{children:E.jsxs(om,{to:a.path,onClick:()=>n(a.path),style:{color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",padding:"12px 16px",margin:"4px 0",borderRadius:8,backgroundColor:e===a.path?"rgba(255,255,255,0.2)":"transparent",transition:"all 0.3s ease",fontSize:16},children:[E.jsx("span",{style:{marginRight:12,fontSize:18},children:a.icon}),a.label]})},a.path))}),E.jsx("div",{style:{marginTop:"auto",padding:"16px 0",borderTop:"1px solid rgba(255,255,255,0.1)"},children:E.jsxs("button",{onClick:r,style:{width:"100%",color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",padding:"12px 16px",margin:"4px 0",borderRadius:8,backgroundColor:"transparent",border:"none",transition:"all 0.3s ease",fontSize:16,cursor:"pointer"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent"},children:[E.jsx("span",{style:{marginRight:12,fontSize:18},children:"🚪"}),"Çıkış Yap"]})})]}),E.jsx("main",{style:{flex:1,background:"#fff",height:"100vh",width:"calc(100vw - 180px)",display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0,maxWidth:"calc(100vw - 180px)"},children:E.jsx("div",{style:{background:"#fff",height:"100%",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0,maxWidth:"100%"},children:E.jsxs(BR,{children:[E.jsx(Fr,{path:"/users",element:E.jsx(UD,{})}),E.jsx(Fr,{path:"/companies",element:E.jsx(zD,{})}),E.jsx(Fr,{path:"/campaigns",element:E.jsx(LD,{})}),E.jsx(Fr,{path:"/reviews",element:E.jsx(jD,{})}),E.jsx(Fr,{path:"/accounting",element:E.jsx(BD,{})}),E.jsx(Fr,{path:"/export",element:E.jsx(qD,{title:"Dışa Aktar"})}),E.jsx(Fr,{path:"*",element:E.jsx(zR,{to:"/users"})})]})})})]})}function GD(){const[r,e]=B.useState(null);return r===null?E.jsx(Xx,{onLogin:e}):r!=="admin"&&r!=="operator"?E.jsxs("div",{style:{textAlign:"center",marginTop:100,padding:40,backgroundColor:"#fff",borderRadius:12,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",maxWidth:500,margin:"100px auto"},children:[E.jsx("h2",{style:{color:"#dc3545",marginBottom:16},children:"🚫 Erişim Reddedildi"}),E.jsx("p",{style:{color:"#666",fontSize:16},children:"Bu panele sadece admin ve operatörler erişebilir."})]}):E.jsx(hC,{children:E.jsx(FD,{onLogout:()=>e(null)})})}Y0(LA);$S.createRoot(document.getElementById("root")).render(E.jsx(qS.StrictMode,{children:E.jsx(GD,{})}));
